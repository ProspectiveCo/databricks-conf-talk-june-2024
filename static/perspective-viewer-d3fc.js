var C9=Object.create;var El=Object.defineProperty;var A9=Object.getOwnPropertyDescriptor;var V9=Object.getOwnPropertyNames;var k9=Object.getPrototypeOf,D9=Object.prototype.hasOwnProperty;var P=(e,t)=>()=>(e&&(t=e(e=0)),t);var ir=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ln=(e,t)=>{for(var n in t)El(e,n,{get:t[n],enumerable:!0})},J0=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of V9(t))!D9.call(e,a)&&a!==n&&El(e,a,{get:()=>t[a],enumerable:!(r=A9(t,a))||r.enumerable});return e};var pt=(e,t,n)=>(n=e!=null?C9(k9(e)):{},J0(t||!e||!e.__esModule?El(n,"default",{value:e,enumerable:!0}):n,e)),Sr=e=>J0(El({},"__esModule",{value:!0}),e);function Mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var or=P(()=>{});function eu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var Rf=P(()=>{});function ga(e){let t,n,r;e.length!==2?(t=Mt,n=(l,s)=>Mt(e(l),s),r=(l,s)=>e(l)-s):(t=e===Mt||e===eu?e:N9,n=e,r=e);function a(l,s,f=0,h=l.length){if(f<h){if(t(s,s)!==0)return h;do{let x=f+h>>>1;n(l[x],s)<0?f=x+1:h=x}while(f<h)}return f}function i(l,s,f=0,h=l.length){if(f<h){if(t(s,s)!==0)return h;do{let x=f+h>>>1;n(l[x],s)<=0?f=x+1:h=x}while(f<h)}return f}function o(l,s,f=0,h=l.length){let x=a(l,s,f,h-1);return x>f&&r(l[x-1],s)>-r(l[x],s)?x-1:x}return{left:a,center:o,right:i}}function N9(){return 0}var Ff=P(()=>{or();Rf()});function Ka(e){return e===null?NaN:+e}function*ev(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var Bf=P(()=>{});var tv,Hf,nv,rv,Zi,Yf=P(()=>{or();Ff();Bf();tv=ga(Mt),Hf=tv.right,nv=tv.left,rv=ga(Ka).center,Zi=Hf});function av(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;let r=Wf(t),a=e.slice();return r(e,a,0,n,1),r(a,e,0,n,1),r(e,a,0,n,1),e}function uv(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:o}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!o||!n&&!r)return t;let l=n&&e(n),s=r&&e(r),f=a.slice();return l&&s?(Ki(l,f,a,i,o),Ki(l,a,f,i,o),Ki(l,f,a,i,o),Ji(s,a,f,i,o),Ji(s,f,a,i,o),Ji(s,a,f,i,o)):l?(Ki(l,a,f,i,o),Ki(l,f,a,i,o),Ki(l,a,f,i,o)):s&&(Ji(s,a,f,i,o),Ji(s,f,a,i,o),Ji(s,a,f,i,o)),t}}function Ki(e,t,n,r,a){for(let i=0,o=r*a;i<o;)e(t,n,i,i+=r,1)}function Ji(e,t,n,r,a){for(let i=0,o=r*a;i<r;++i)e(t,n,i,i+o,r)}function E9(e){let t=Wf(e);return(n,r,a,i,o)=>{a<<=2,i<<=2,o<<=2,t(n,r,a+0,i+0,o),t(n,r,a+1,i+1,o),t(n,r,a+2,i+2,o),t(n,r,a+3,i+3,o)}}function Wf(e){let t=Math.floor(e);if(t===e)return P9(e);let n=e-t,r=2*e+1;return(a,i,o,l,s)=>{if(!((l-=s)>=o))return;let f=t*i[o],h=s*t,x=h+s;for(let v=o,M=o+h;v<M;v+=s)f+=i[Math.min(l,v)];for(let v=o,M=l;v<=M;v+=s)f+=i[Math.min(l,v+h)],a[v]=(f+n*(i[Math.max(o,v-x)]+i[Math.min(l,v+x)]))/r,f-=i[Math.max(o,v-h)]}}function P9(e){let t=2*e+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let l=e*r[a],s=o*e;for(let f=a,h=a+s;f<h;f+=o)l+=r[Math.min(i,f)];for(let f=a,h=i;f<=h;f+=o)l+=r[Math.min(i,f+s)],n[f]=l/t,l-=r[Math.max(a,f-s)]}}var iv,ov,lv=P(()=>{iv=uv(Wf),ov=uv(E9)});function Ur(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&++n}return n}var tu=P(()=>{});function L9(e){return e.length|0}function O9(e){return!(e>0)}function I9(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function z9(e){return t=>e(...t)}function $f(...e){let t=typeof e[e.length-1]=="function"&&z9(e.pop());e=e.map(I9);let n=e.map(L9),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(O9))return i;for(;;){i.push(a.map((l,s)=>e[s][l]));let o=r;for(;++a[o]===n[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}var cv=P(()=>{});function Uf(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?a=>n+=+a||0:a=>n+=+t(a,r++,e)||0)}var sv=P(()=>{});function nu(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(l=+l)>=l&&(r=l-a,a+=r/++n,i+=r*(l-a))}if(n>1)return i/(n-1)}var qf=P(()=>{});function ru(e,t){let n=nu(e,t);return n&&Math.sqrt(n)}var Gf=P(()=>{qf()});function Ja(e,t){let n,r;if(t===void 0)for(let a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var Xf=P(()=>{});function fv(e,t){let n=new eo;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&n.add(a)}return+n}function dv(e,t){let n=new eo,r=-1;return Float64Array.from(e,t===void 0?a=>n.add(+a||0):a=>n.add(+t(a,++r,e)||0))}var eo,mv=P(()=>{eo=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let a=0;a<this._n&&a<32;a++){let i=n[a],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(n[r++]=l),t=o}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}});function jf({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function hv({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function pv({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function gv(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ur,On,va=P(()=>{ur=class extends Map{constructor(t,n=gv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,a]of t)this.set(r,a)}get(t){return super.get(jf(this,t))}has(t){return super.has(jf(this,t))}set(t,n){return super.set(hv(this,t),n)}delete(t){return super.delete(pv(this,t))}},On=class extends Set{constructor(t,n=gv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let r of t)this.add(r)}has(t){return super.has(jf(this,t))}add(t){return super.add(hv(this,t))}delete(t){return super.delete(pv(this,t))}}});function qr(e){return e}var Qf=P(()=>{});function au(e,...t){return to(e,qr,qr,t)}function Zf(e,...t){return to(e,Array.from,qr,t)}function vv(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(a=>a.pop().map(([i,o])=>[...a,i,o]));return e}function yv(e,...t){return vv(Zf(e,...t),t)}function bv(e,t,...n){return vv(Kf(e,t,...n),n)}function Pl(e,t,...n){return to(e,qr,t,n)}function Kf(e,t,...n){return to(e,Array.from,t,n)}function xv(e,...t){return to(e,qr,_v,t)}function wv(e,...t){return to(e,Array.from,_v,t)}function _v(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function to(e,t,n,r){return function a(i,o){if(o>=r.length)return n(i);let l=new ur,s=r[o++],f=-1;for(let h of i){let x=s(h,++f,i),v=l.get(x);v?v.push(h):l.set(x,[h])}for(let[h,x]of l)l.set(h,a(x,o));return t(l)}(e,0)}var Jf=P(()=>{va();Qf()});function iu(e,t){return Array.from(t,n=>e[n])}var ed=P(()=>{});function no(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(let o of t){let l=Gr(o[a],o[i]);if(l)return l}})):(n=e.map(n),r.sort((a,i)=>Gr(n[a],n[i]))),iu(e,r)}return e.sort(ou(n))}function ou(e=Mt){if(e===Mt)return Gr;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gr(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var ro=P(()=>{or();ed()});function td(e,t,n){return(t.length!==2?no(Pl(e,t,n),([r,a],[i,o])=>Mt(a,o)||Mt(r,i)):no(au(e,n),([r,a],[i,o])=>t(a,o)||Mt(r,i))).map(([r])=>r)}var Sv=P(()=>{or();Jf();ro()});var Mv,Tv,pN,Cv=P(()=>{Mv=Array.prototype,Tv=Mv.slice,pN=Mv.map});function uu(e){return()=>e}var Av=P(()=>{});function Ll(e,t,n){let r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=R9?10:i>=F9?5:i>=B9?2:1,l,s,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),s=Math.round(t*f),l/f<e&&++l,s/f>t&&--s,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),s=Math.round(t/f),l*f<e&&++l,s*f>t&&--s),s<l&&.5<=n&&n<2?Ll(e,t,n*2):[l,s,f]}function ei(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[a,i,o]=r?Ll(t,e,n):Ll(e,t,n);if(!(i>=a))return[];let l=i-a+1,s=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)s[f]=(i-f)/-o;else for(let f=0;f<l;++f)s[f]=(i-f)*o;else if(o<0)for(let f=0;f<l;++f)s[f]=(a+f)/-o;else for(let f=0;f<l;++f)s[f]=(a+f)*o;return s}function lr(e,t,n){return t=+t,e=+e,n=+n,Ll(e,t,n)[2]}function ti(e,t,n){t=+t,e=+e,n=+n;let r=t<e,a=r?lr(t,e,n):lr(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}var R9,F9,B9,Ol=P(()=>{R9=Math.sqrt(50),F9=Math.sqrt(10),B9=Math.sqrt(2)});function lu(e,t,n){let r;for(;;){let a=lr(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}var nd=P(()=>{Ol()});function cu(e){return Math.max(1,Math.ceil(Math.log(Ur(e))/Math.LN2)+1)}var rd=P(()=>{tu()});function Il(){var e=qr,t=Ja,n=cu;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,l,s,f=new Array(o);for(i=0;i<o;++i)f[i]=e(a[i],i,a);var h=t(f),x=h[0],v=h[1],M=n(f,x,v);if(!Array.isArray(M)){let H=v,k=+M;if(t===Ja&&([x,v]=lu(x,v,k)),M=ei(x,v,k),M[0]<=x&&(s=lr(x,v,k)),M[M.length-1]>=v)if(H>=v&&t===Ja){let z=lr(x,v,k);isFinite(z)&&(z>0?v=(Math.floor(v/z)+1)*z:z<0&&(v=(Math.ceil(v*-z)+1)/-z))}else M.pop()}for(var C=M.length,A=0,T=C;M[A]<=x;)++A;for(;M[T-1]>v;)--T;(A||T<C)&&(M=M.slice(A,T),C=T-A);var D=new Array(C+1),R;for(i=0;i<=C;++i)R=D[i]=[],R.x0=i>0?M[i-1]:x,R.x1=i<C?M[i]:v;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)(l=f[i])!=null&&x<=l&&l<=v&&D[Math.min(C,Math.floor((l-x)/s))].push(a[i]);else if(s<0){for(i=0;i<o;++i)if((l=f[i])!=null&&x<=l&&l<=v){let H=Math.floor((x-l)*s);D[Math.min(C,H+(M[H]<=l))].push(a[i])}}}else for(i=0;i<o;++i)(l=f[i])!=null&&x<=l&&l<=v&&D[Zi(M,l,0,C)].push(a[i]);return D}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:uu(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:uu([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:uu(Array.isArray(a)?Tv.call(a):a),r):n},r}var Vv=P(()=>{Cv();Yf();Av();Xf();Qf();nd();Ol();rd()});function Mr(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}var ad=P(()=>{});function ni(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}var zl=P(()=>{});function qn(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}var Rl=P(()=>{});function ri(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}var Fl=P(()=>{});function ai(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Gr:ou(a);r>n;){if(r-n>600){let s=r-n+1,f=t-n+1,h=Math.log(s),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(s-x)/s)*(f-s/2<0?-1:1),M=Math.max(n,Math.floor(t-f*x/s+v)),C=Math.min(r,Math.floor(t+(s-f)*x/s+v));ai(e,t,M,C,a)}let i=e[t],o=n,l=r;for(su(e,n,t),a(e[r],i)>0&&su(e,n,r);o<l;){for(su(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?su(e,n,l):(++l,su(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function su(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}var id=P(()=>{ro()});function fu(e,t=Mt){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Mt(o,a)>0:Mt(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}var od=P(()=>{or()});function ya(e,t,n){if(e=Float64Array.from(ev(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qn(e);if(t>=1)return Mr(e);var r,a=(r-1)*t,i=Math.floor(a),o=Mr(ai(e,i).subarray(0,i+1)),l=qn(e.subarray(i+1));return o+(l-o)*(a-i)}}function kv(e,t,n=Ka){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Bl(e,t,n=Ka){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(l,s)=>Ka(n(e[s],s,e))),t<=0)return ri(r);if(t>=1)return ni(r);var r,a=Uint32Array.from(e,(l,s)=>s),i=r.length-1,o=Math.floor(i*t);return ai(a,o,0,i,(l,s)=>Gr(r[l],r[s])),o=fu(a.subarray(0,o+1),l=>r[l]),o>=0?o:-1}}var Hl=P(()=>{ad();zl();Rl();Fl();id();Bf();ro();od()});function ud(e,t,n){let r=Ur(e),a=ya(e,.75)-ya(e,.25);return r&&a?Math.ceil((n-t)/(2*a*Math.pow(r,-1/3))):1}var Dv=P(()=>{tu();Hl()});function ld(e,t,n){let r=Ur(e),a=ru(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}var Nv=P(()=>{tu();Gf()});function cd(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var Ev=P(()=>{});function sd(e,t){return ya(e,.5,t)}function Pv(e,t){return Bl(e,.5,t)}var Lv=P(()=>{Hl()});function*H9(e){for(let t of e)yield*t}function fd(e){return Array.from(H9(e))}var Ov=P(()=>{});function dd(e,t){let n=new ur;if(t===void 0)for(let i of e)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,a=0;for(let[i,o]of n)o>a&&(a=o,r=i);return r}var Iv=P(()=>{va()});function md(e,t=Y9){let n=[],r,a=!1;for(let i of e)a&&n.push(t(r,i)),r=i,a=!0;return n}function Y9(e,t){return[e,t]}var zv=P(()=>{});function ii(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}var Rv=P(()=>{});function hd(e,t=Mt){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e),r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Mt);let a=(l,s)=>t(n[l],n[s]),i,o;return e=Uint32Array.from(n,(l,s)=>s),e.sort(t===Mt?(l,s)=>Gr(n[l],n[s]):ou(a)),e.forEach((l,s)=>{let f=a(l,i===void 0?l:i);f>=0?((i===void 0||f>0)&&(i=l,o=s),r[l]=o):r[l]=NaN}),r}var Fv=P(()=>{or();ro()});function pd(e,t=Mt){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Mt(o,a)<0:Mt(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)<0:t(a,a)===0)&&(n=a,r=!0);return n}var Bv=P(()=>{or()});function du(e,t=Mt){if(t.length===1)return ri(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)<0)&&(n=i,r=a);return r}var gd=P(()=>{or();Fl()});function vd(e,t=Mt){if(t.length===1)return ni(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)>0)&&(n=i,r=a);return r}var Hv=P(()=>{or();zl()});function yd(e,t){let n=du(e,t);return n<0?void 0:n}var Yv=P(()=>{gd()});function bd(e){return function(n,r=0,a=n.length){let i=a-(r=+r);for(;i;){let o=e()*i--|0,l=n[i+r];n[i+r]=n[o+r],n[o+r]=l}return n}}var Wv,$v=P(()=>{Wv=bd(Math.random)});function xd(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}var Uv=P(()=>{});function mu(e){if(!(i=e.length))return[];for(var t=-1,n=qn(e,W9),r=new Array(n);++t<n;)for(var a=-1,i,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function W9(e){return e.length}var wd=P(()=>{Rl()});function _d(){return mu(arguments)}var qv=P(()=>{wd()});function Sd(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(!t(r,++n,e))return!1;return!0}var Gv=P(()=>{});function Md(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(t(r,++n,e))return!0;return!1}var Xv=P(()=>{});function Td(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let a of e)t(a,++r,e)&&n.push(a);return n}var jv=P(()=>{});function Cd(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}var Qv=P(()=>{});function Ad(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");let r=e[Symbol.iterator](),a,i,o=-1;if(arguments.length<3){if({done:a,value:n}=r.next(),a)return;++o}for(;{done:a,value:i}=r.next(),!a;)n=t(n,i,++o,e);return n}var Zv=P(()=>{});function Vd(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var Kv=P(()=>{});function kd(e,...t){e=new On(e);for(let n of t)for(let r of n)e.delete(r);return e}var Jv=P(()=>{va()});function Dd(e,t){let n=t[Symbol.iterator](),r=new On;for(let a of e){if(r.has(a))return!1;let i,o;for(;({value:i,done:o}=n.next())&&!o;){if(Object.is(a,i))return!1;r.add(i)}}return!0}var e1=P(()=>{va()});function Nd(e,...t){e=new On(e),t=t.map($9);e:for(let n of e)for(let r of t)if(!r.has(n)){e.delete(n);continue e}return e}function $9(e){return e instanceof On?e:new On(e)}var t1=P(()=>{va()});function hu(e,t){let n=e[Symbol.iterator](),r=new Set;for(let a of t){let i=n1(a);if(r.has(i))continue;let o,l;for(;{value:o,done:l}=n.next();){if(l)return!1;let s=n1(o);if(r.add(s),Object.is(i,s))break}}return!0}function n1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Ed=P(()=>{});function Pd(e,t){return hu(t,e)}var r1=P(()=>{Ed()});function Ld(...e){let t=new On;for(let n of e)for(let r of n)t.add(r);return t}var a1=P(()=>{va()});var Od={};Ln(Od,{Adder:()=>eo,InternMap:()=>ur,InternSet:()=>On,ascending:()=>Mt,bin:()=>Il,bisect:()=>Zi,bisectCenter:()=>rv,bisectLeft:()=>nv,bisectRight:()=>Hf,bisector:()=>ga,blur:()=>av,blur2:()=>iv,blurImage:()=>ov,count:()=>Ur,cross:()=>$f,cumsum:()=>Uf,descending:()=>eu,deviation:()=>ru,difference:()=>kd,disjoint:()=>Dd,every:()=>Sd,extent:()=>Ja,fcumsum:()=>dv,filter:()=>Td,flatGroup:()=>yv,flatRollup:()=>bv,fsum:()=>fv,greatest:()=>fu,greatestIndex:()=>vd,group:()=>au,groupSort:()=>td,groups:()=>Zf,histogram:()=>Il,index:()=>xv,indexes:()=>wv,intersection:()=>Nd,least:()=>pd,leastIndex:()=>du,map:()=>Cd,max:()=>Mr,maxIndex:()=>ni,mean:()=>cd,median:()=>sd,medianIndex:()=>Pv,merge:()=>fd,min:()=>qn,minIndex:()=>ri,mode:()=>dd,nice:()=>lu,pairs:()=>md,permute:()=>iu,quantile:()=>ya,quantileIndex:()=>Bl,quantileSorted:()=>kv,quickselect:()=>ai,range:()=>ii,rank:()=>hd,reduce:()=>Ad,reverse:()=>Vd,rollup:()=>Pl,rollups:()=>Kf,scan:()=>yd,shuffle:()=>Wv,shuffler:()=>bd,some:()=>Md,sort:()=>no,subset:()=>Pd,sum:()=>xd,superset:()=>hu,thresholdFreedmanDiaconis:()=>ud,thresholdScott:()=>ld,thresholdSturges:()=>cu,tickIncrement:()=>lr,tickStep:()=>ti,ticks:()=>ei,transpose:()=>mu,union:()=>Ld,variance:()=>nu,zip:()=>_d});var Tr=P(()=>{Yf();or();Ff();lv();tu();cv();sv();Rf();Gf();Xf();mv();Jf();Sv();Vv();Dv();Nv();rd();ad();zl();Ev();Lv();Ov();Rl();Fl();Iv();nd();zv();ed();Hl();id();Rv();Fv();Bv();gd();od();Hv();Yv();$v();Uv();Ol();wd();qf();qv();Gv();Xv();jv();Qv();Zv();Kv();ro();Jv();e1();t1();r1();Ed();a1();va()});var Id=ir((Yl,i1)=>{(function(e,t){typeof Yl=="object"&&typeof i1<"u"?t(Yl):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Yl,function(e){"use strict";function t(X,he){return X<he?-1:X>he?1:X>=he?0:NaN}function n(X){return X.length===1&&(X=r(X)),{left:function(he,ue,me,Q){for(me==null&&(me=0),Q==null&&(Q=he.length);me<Q;){var K=me+Q>>>1;X(he[K],ue)<0?me=K+1:Q=K}return me},right:function(he,ue,me,Q){for(me==null&&(me=0),Q==null&&(Q=he.length);me<Q;){var K=me+Q>>>1;X(he[K],ue)>0?Q=K:me=K+1}return me}}}function r(X){return function(he,ue){return t(X(he),ue)}}var a=n(t),i=a.right,o=a.left;function l(X,he){return he<X?-1:he>X?1:he>=X?0:NaN}function s(X){return X===null?NaN:+X}function f(X,he){var ue=X.length,me=0,Q,K,Ce=0,Me=-1,Xe=0;if(he==null)for(;++Me<ue;)isNaN(Q=s(X[Me]))||(K=Q-me,me+=K/++Xe,Ce+=K*(Q-me));else for(;++Me<ue;)isNaN(Q=s(he(X[Me],Me,X)))||(K=Q-me,me+=K/++Xe,Ce+=K*(Q-me));if(Xe>1)return Ce/(Xe-1)}function h(X,he){var ue=f(X,he);return ue&&Math.sqrt(ue)}function x(X,he){var ue=-1,me=X.length,Q,K,Ce;if(he==null){for(;++ue<me;)if((K=X[ue])!=null&&K>=K){Q=Ce=K;break}for(;++ue<me;)(K=X[ue])!=null&&(Q>K&&(Q=K),Ce<K&&(Ce=K))}else{for(;++ue<me;)if((K=he(X[ue],ue,X))!=null&&K>=K){Q=Ce=K;break}for(;++ue<me;)(K=he(X[ue],ue,X))!=null&&(Q>K&&(Q=K),Ce<K&&(Ce=K))}return[Q,Ce]}var v=Array.prototype,M=v.slice,C=v.map;function A(X){return function(){return X}}function T(X){return X}function D(X,he,ue){X=+X,he=+he,ue=(Q=arguments.length)<2?(he=X,X=0,1):Q<3?1:+ue;for(var me=-1,Q=Math.max(0,Math.ceil((he-X)/ue))|0,K=new Array(Q);++me<Q;)K[me]=X+me*ue;return K}var R=Math.sqrt(50),H=Math.sqrt(10),k=Math.sqrt(2);function z(X,he,ue){var me=I(X,he,ue);return D(Math.ceil(X/me)*me,Math.floor(he/me)*me+me/2,me)}function I(X,he,ue){var me=Math.abs(he-X)/Math.max(0,ue),Q=Math.pow(10,Math.floor(Math.log(me)/Math.LN10)),K=me/Q;return K>=R?Q*=10:K>=H?Q*=5:K>=k&&(Q*=2),he<X?-Q:Q}function j(X){return Math.ceil(Math.log(X.length)/Math.LN2)+1}function Z(){var X=T,he=x,ue=j;function me(Q){var K,Ce=Q.length,Me,Xe=new Array(Ce);for(K=0;K<Ce;++K)Xe[K]=X(Q[K],K,Q);var Je=he(Xe),mt=Je[0],ft=Je[1],Ye=ue(Xe,mt,ft);Array.isArray(Ye)||(Ye=z(mt,ft,Ye));for(var rt=Ye.length;Ye[0]<=mt;)Ye.shift(),--rt;for(;Ye[rt-1]>=ft;)Ye.pop(),--rt;var St=new Array(rt+1),ht;for(K=0;K<=rt;++K)ht=St[K]=[],ht.x0=K>0?Ye[K-1]:mt,ht.x1=K<rt?Ye[K]:ft;for(K=0;K<Ce;++K)Me=Xe[K],mt<=Me&&Me<=ft&&St[i(Ye,Me,0,rt)].push(Q[K]);return St}return me.value=function(Q){return arguments.length?(X=typeof Q=="function"?Q:A(Q),me):X},me.domain=function(Q){return arguments.length?(he=typeof Q=="function"?Q:A([Q[0],Q[1]]),me):he},me.thresholds=function(Q){return arguments.length?(ue=typeof Q=="function"?Q:Array.isArray(Q)?A(M.call(Q)):A(Q),me):ue},me}function be(X,he,ue){if(ue==null&&(ue=s),!!(me=X.length)){if((he=+he)<=0||me<2)return+ue(X[0],0,X);if(he>=1)return+ue(X[me-1],me-1,X);var me,Q=(me-1)*he,K=Math.floor(Q),Ce=+ue(X[K],K,X),Me=+ue(X[K+1],K+1,X);return Ce+(Me-Ce)*(Q-K)}}function pe(X,he,ue){return X=C.call(X,s).sort(t),Math.ceil((ue-he)/(2*(be(X,.75)-be(X,.25))*Math.pow(X.length,-1/3)))}function oe(X,he,ue){return Math.ceil((ue-he)/(3.5*h(X)*Math.pow(X.length,-1/3)))}function ze(X,he){var ue=-1,me=X.length,Q,K;if(he==null){for(;++ue<me;)if((K=X[ue])!=null&&K>=K){Q=K;break}for(;++ue<me;)(K=X[ue])!=null&&K>Q&&(Q=K)}else{for(;++ue<me;)if((K=he(X[ue],ue,X))!=null&&K>=K){Q=K;break}for(;++ue<me;)(K=he(X[ue],ue,X))!=null&&K>Q&&(Q=K)}return Q}function de(X,he){var ue=0,me=X.length,Q,K=-1,Ce=me;if(he==null)for(;++K<me;)isNaN(Q=s(X[K]))?--Ce:ue+=Q;else for(;++K<me;)isNaN(Q=s(he(X[K],K,X)))?--Ce:ue+=Q;if(Ce)return ue/Ce}function $(X,he){var ue=[],me=X.length,Q,K=-1;if(he==null)for(;++K<me;)isNaN(Q=s(X[K]))||ue.push(Q);else for(;++K<me;)isNaN(Q=s(he(X[K],K,X)))||ue.push(Q);return be(ue.sort(t),.5)}function we(X){for(var he=X.length,ue,me=-1,Q=0,K,Ce;++me<he;)Q+=X[me].length;for(K=new Array(Q);--he>=0;)for(Ce=X[he],ue=Ce.length;--ue>=0;)K[--Q]=Ce[ue];return K}function te(X,he){var ue=-1,me=X.length,Q,K;if(he==null){for(;++ue<me;)if((K=X[ue])!=null&&K>=K){Q=K;break}for(;++ue<me;)(K=X[ue])!=null&&Q>K&&(Q=K)}else{for(;++ue<me;)if((K=he(X[ue],ue,X))!=null&&K>=K){Q=K;break}for(;++ue<me;)(K=he(X[ue],ue,X))!=null&&Q>K&&(Q=K)}return Q}function ae(X){for(var he=0,ue=X.length-1,me=X[0],Q=new Array(ue<0?0:ue);he<ue;)Q[he]=[me,me=X[++he]];return Q}function ge(X,he){for(var ue=he.length,me=new Array(ue);ue--;)me[ue]=X[he[ue]];return me}function ye(X,he){if(!!(me=X.length)){var ue=0,me,Q=0,K,Ce=X[Q];for(he||(he=t);++ue<me;)(he(K=X[ue],Ce)<0||he(Ce,Ce)!==0)&&(Ce=K,Q=ue);if(he(Ce,Ce)===0)return Q}}function ce(X,he,ue){for(var me=(ue??X.length)-(he=he==null?0:+he),Q,K;me;)K=Math.random()*me--|0,Q=X[me+he],X[me+he]=X[K+he],X[K+he]=Q;return X}function ke(X,he){var ue=0,me=X.length,Q,K=-1;if(he==null)for(;++K<me;)(Q=+X[K])&&(ue+=Q);else for(;++K<me;)(Q=+he(X[K],K,X))&&(ue+=Q);return ue}function Le(X){if(!(K=X.length))return[];for(var he=-1,ue=te(X,Se),me=new Array(ue);++he<ue;)for(var Q=-1,K,Ce=me[he]=new Array(K);++Q<K;)Ce[Q]=X[Q][he];return me}function Se(X){return X.length}function He(){return Le(arguments)}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.descending=l,e.deviation=h,e.extent=x,e.histogram=Z,e.thresholdFreedmanDiaconis=pe,e.thresholdScott=oe,e.thresholdSturges=j,e.max=ze,e.mean=de,e.median=$,e.merge=we,e.min=te,e.pairs=ae,e.permute=ge,e.quantile=be,e.range=D,e.scan=ye,e.shuffle=ce,e.sum=ke,e.ticks=z,e.tickStep=I,e.transpose=Le,e.variance=f,e.zip=He,Object.defineProperty(e,"__esModule",{value:!0})})});var u1=ir((Wl,o1)=>{(function(e,t){typeof Wl=="object"&&typeof o1<"u"?t(Wl):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Wl,function(e){"use strict";var t="$";function n(){}n.prototype=r.prototype={constructor:n,has:function(A){return t+A in this},get:function(A){return this[t+A]},set:function(A,T){return this[t+A]=T,this},remove:function(A){var T=t+A;return T in this&&delete this[T]},clear:function(){for(var A in this)A[0]===t&&delete this[A]},keys:function(){var A=[];for(var T in this)T[0]===t&&A.push(T.slice(1));return A},values:function(){var A=[];for(var T in this)T[0]===t&&A.push(this[T]);return A},entries:function(){var A=[];for(var T in this)T[0]===t&&A.push({key:T.slice(1),value:this[T]});return A},size:function(){var A=0;for(var T in this)T[0]===t&&++A;return A},empty:function(){for(var A in this)if(A[0]===t)return!1;return!0},each:function(A){for(var T in this)T[0]===t&&A(this[T],T.slice(1),this)}};function r(A,T){var D=new n;if(A instanceof n)A.each(function(I,j){D.set(j,I)});else if(Array.isArray(A)){var R=-1,H=A.length,k;if(T==null)for(;++R<H;)D.set(R,A[R]);else for(;++R<H;)D.set(T(k=A[R],R,A),k)}else if(A)for(var z in A)D.set(z,A[z]);return D}function a(){var A=[],T=[],D,R,H;function k(I,j,Z,be){if(j>=A.length)return D!=null&&I.sort(D),R!=null?R(I):I;for(var pe=-1,oe=I.length,ze=A[j++],de,$,we=r(),te,ae=Z();++pe<oe;)(te=we.get(de=ze($=I[pe])+""))?te.push($):we.set(de,[$]);return we.each(function(ge,ye){be(ae,ye,k(ge,j,Z,be))}),ae}function z(I,j){if(++j>A.length)return I;var Z,be=T[j-1];return R!=null&&j>=A.length?Z=I.entries():(Z=[],I.each(function(pe,oe){Z.push({key:oe,values:z(pe,j)})})),be!=null?Z.sort(function(pe,oe){return be(pe.key,oe.key)}):Z}return H={object:function(I){return k(I,0,i,o)},map:function(I){return k(I,0,l,s)},entries:function(I){return z(k(I,0,l,s),0)},key:function(I){return A.push(I),H},sortKeys:function(I){return T[A.length-1]=I,H},sortValues:function(I){return D=I,H},rollup:function(I){return R=I,H}}}function i(){return{}}function o(A,T,D){A[T]=D}function l(){return r()}function s(A,T,D){A.set(T,D)}function f(){}var h=r.prototype;f.prototype=x.prototype={constructor:f,has:h.has,add:function(A){return A+="",this[t+A]=A,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};function x(A,T){var D=new f;if(A instanceof f)A.each(function(k){D.add(k)});else if(A){var R=-1,H=A.length;if(T==null)for(;++R<H;)D.add(A[R]);else for(;++R<H;)D.add(T(A[R],R,A))}return D}function v(A){var T=[];for(var D in A)T.push(D);return T}function M(A){var T=[];for(var D in A)T.push(A[D]);return T}function C(A){var T=[];for(var D in A)T.push({key:D,value:A[D]});return T}e.nest=a,e.set=x,e.map=r,e.keys=v,e.values=M,e.entries=C,Object.defineProperty(e,"__esModule",{value:!0})})});var zd=ir(($l,l1)=>{(function(e,t){typeof $l=="object"&&typeof l1<"u"?t($l):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})($l,function(e){"use strict";function t(E,q,le){E.prototype=q.prototype=le,le.constructor=E}function n(E,q){var le=Object.create(E.prototype);for(var De in q)le[De]=q[De];return le}function r(){}var a=.7,i=1/a,o="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),x=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),v=new RegExp("^rgba\\("+[o,o,o,l]+"\\)$"),M=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),C=new RegExp("^hsl\\("+[l,s,s]+"\\)$"),A=new RegExp("^hsla\\("+[l,s,s,l]+"\\)$"),T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(r,k,{copy:function(E){return Object.assign(new this.constructor,this,E)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:R,formatRgb:H,toString:H});function D(){return this.rgb().formatHex()}function R(){return $(this).formatHsl()}function H(){return this.rgb().formatRgb()}function k(E){var q,le;return E=(E+"").trim().toLowerCase(),(q=f.exec(E))?(le=q[1].length,q=parseInt(q[1],16),le===6?z(q):le===3?new be(q>>8&15|q>>4&240,q>>4&15|q&240,(q&15)<<4|q&15,1):le===8?I(q>>24&255,q>>16&255,q>>8&255,(q&255)/255):le===4?I(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|q&240,((q&15)<<4|q&15)/255):null):(q=h.exec(E))?new be(q[1],q[2],q[3],1):(q=x.exec(E))?new be(q[1]*255/100,q[2]*255/100,q[3]*255/100,1):(q=v.exec(E))?I(q[1],q[2],q[3],q[4]):(q=M.exec(E))?I(q[1]*255/100,q[2]*255/100,q[3]*255/100,q[4]):(q=C.exec(E))?de(q[1],q[2]/100,q[3]/100,1):(q=A.exec(E))?de(q[1],q[2]/100,q[3]/100,q[4]):T.hasOwnProperty(E)?z(T[E]):E==="transparent"?new be(NaN,NaN,NaN,0):null}function z(E){return new be(E>>16&255,E>>8&255,E&255,1)}function I(E,q,le,De){return De<=0&&(E=q=le=NaN),new be(E,q,le,De)}function j(E){return E instanceof r||(E=k(E)),E?(E=E.rgb(),new be(E.r,E.g,E.b,E.opacity)):new be}function Z(E,q,le,De){return arguments.length===1?j(E):new be(E,q,le,De??1)}function be(E,q,le,De){this.r=+E,this.g=+q,this.b=+le,this.opacity=+De}t(be,Z,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new be(this.r*E,this.g*E,this.b*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new be(this.r*E,this.g*E,this.b*E,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pe,formatHex:pe,formatRgb:oe,toString:oe}));function pe(){return"#"+ze(this.r)+ze(this.g)+ze(this.b)}function oe(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(E===1?")":", "+E+")")}function ze(E){return E=Math.max(0,Math.min(255,Math.round(E)||0)),(E<16?"0":"")+E.toString(16)}function de(E,q,le,De){return De<=0?E=q=le=NaN:le<=0||le>=1?E=q=NaN:q<=0&&(E=NaN),new te(E,q,le,De)}function $(E){if(E instanceof te)return new te(E.h,E.s,E.l,E.opacity);if(E instanceof r||(E=k(E)),!E)return new te;if(E instanceof te)return E;E=E.rgb();var q=E.r/255,le=E.g/255,De=E.b/255,W=Math.min(q,le,De),ee=Math.max(q,le,De),ie=NaN,_e=ee-W,xe=(ee+W)/2;return _e?(q===ee?ie=(le-De)/_e+(le<De)*6:le===ee?ie=(De-q)/_e+2:ie=(q-le)/_e+4,_e/=xe<.5?ee+W:2-ee-W,ie*=60):_e=xe>0&&xe<1?0:ie,new te(ie,_e,xe,E.opacity)}function we(E,q,le,De){return arguments.length===1?$(E):new te(E,q,le,De??1)}function te(E,q,le,De){this.h=+E,this.s=+q,this.l=+le,this.opacity=+De}t(te,we,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new te(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new te(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=this.h%360+(this.h<0)*360,q=isNaN(E)||isNaN(this.s)?0:this.s,le=this.l,De=le+(le<.5?le:1-le)*q,W=2*le-De;return new be(ae(E>=240?E-240:E+120,W,De),ae(E,W,De),ae(E<120?E+240:E-120,W,De),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(E===1?")":", "+E+")")}}));function ae(E,q,le){return(E<60?q+(le-q)*E/60:E<180?le:E<240?q+(le-q)*(240-E)/60:q)*255}var ge=Math.PI/180,ye=180/Math.PI,ce=18,ke=.96422,Le=1,Se=.82521,He=4/29,X=6/29,he=3*X*X,ue=X*X*X;function me(E){if(E instanceof Ce)return new Ce(E.l,E.a,E.b,E.opacity);if(E instanceof St)return ht(E);E instanceof be||(E=j(E));var q=mt(E.r),le=mt(E.g),De=mt(E.b),W=Me((.2225045*q+.7168786*le+.0606169*De)/Le),ee,ie;return q===le&&le===De?ee=ie=W:(ee=Me((.4360747*q+.3850649*le+.1430804*De)/ke),ie=Me((.0139322*q+.0971045*le+.7141733*De)/Se)),new Ce(116*W-16,500*(ee-W),200*(W-ie),E.opacity)}function Q(E,q){return new Ce(E,0,0,q??1)}function K(E,q,le,De){return arguments.length===1?me(E):new Ce(E,q,le,De??1)}function Ce(E,q,le,De){this.l=+E,this.a=+q,this.b=+le,this.opacity=+De}t(Ce,K,n(r,{brighter:function(E){return new Ce(this.l+ce*(E??1),this.a,this.b,this.opacity)},darker:function(E){return new Ce(this.l-ce*(E??1),this.a,this.b,this.opacity)},rgb:function(){var E=(this.l+16)/116,q=isNaN(this.a)?E:E+this.a/500,le=isNaN(this.b)?E:E-this.b/200;return q=ke*Xe(q),E=Le*Xe(E),le=Se*Xe(le),new be(Je(3.1338561*q-1.6168667*E-.4906146*le),Je(-.9787684*q+1.9161415*E+.033454*le),Je(.0719453*q-.2289914*E+1.4052427*le),this.opacity)}}));function Me(E){return E>ue?Math.pow(E,1/3):E/he+He}function Xe(E){return E>X?E*E*E:he*(E-He)}function Je(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055)}function mt(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function ft(E){if(E instanceof St)return new St(E.h,E.c,E.l,E.opacity);if(E instanceof Ce||(E=me(E)),E.a===0&&E.b===0)return new St(NaN,0<E.l&&E.l<100?0:NaN,E.l,E.opacity);var q=Math.atan2(E.b,E.a)*ye;return new St(q<0?q+360:q,Math.sqrt(E.a*E.a+E.b*E.b),E.l,E.opacity)}function Ye(E,q,le,De){return arguments.length===1?ft(E):new St(le,q,E,De??1)}function rt(E,q,le,De){return arguments.length===1?ft(E):new St(E,q,le,De??1)}function St(E,q,le,De){this.h=+E,this.c=+q,this.l=+le,this.opacity=+De}function ht(E){if(isNaN(E.h))return new Ce(E.l,0,0,E.opacity);var q=E.h*ge;return new Ce(E.l,Math.cos(q)*E.c,Math.sin(q)*E.c,E.opacity)}t(St,rt,n(r,{brighter:function(E){return new St(this.h,this.c,this.l+ce*(E??1),this.opacity)},darker:function(E){return new St(this.h,this.c,this.l-ce*(E??1),this.opacity)},rgb:function(){return ht(this).rgb()}}));var Hn=-.14861,mn=1.78277,Vn=-.29227,kn=-.90649,Jt=1.97294,Yn=Jt*kn,L=Jt*mn,Y=mn*Vn-kn*Hn;function ve(E){if(E instanceof Te)return new Te(E.h,E.s,E.l,E.opacity);E instanceof be||(E=j(E));var q=E.r/255,le=E.g/255,De=E.b/255,W=(Y*De+Yn*q-L*le)/(Y+Yn-L),ee=De-W,ie=(Jt*(le-W)-Vn*ee)/kn,_e=Math.sqrt(ie*ie+ee*ee)/(Jt*W*(1-W)),xe=_e?Math.atan2(ie,ee)*ye-120:NaN;return new Te(xe<0?xe+360:xe,_e,W,E.opacity)}function Oe(E,q,le,De){return arguments.length===1?ve(E):new Te(E,q,le,De??1)}function Te(E,q,le,De){this.h=+E,this.s=+q,this.l=+le,this.opacity=+De}t(Te,Oe,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new Te(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new Te(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=isNaN(this.h)?0:(this.h+120)*ge,q=+this.l,le=isNaN(this.s)?0:this.s*q*(1-q),De=Math.cos(E),W=Math.sin(E);return new be(255*(q+le*(Hn*De+mn*W)),255*(q+le*(Vn*De+kn*W)),255*(q+le*(Jt*De)),this.opacity)}})),e.color=k,e.cubehelix=Oe,e.gray=Q,e.hcl=rt,e.hsl=we,e.lab=K,e.lch=Ye,e.rgb=Z,Object.defineProperty(e,"__esModule",{value:!0})})});var s1=ir((Ul,c1)=>{(function(e,t){typeof Ul=="object"&&typeof c1<"u"?t(Ul,zd()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(Ul,function(e,t){"use strict";function n(L,Y,ve,Oe,Te){var E=L*L,q=E*L;return((1-3*L+3*E-q)*Y+(4-6*E+3*q)*ve+(1+3*L+3*E-3*q)*Oe+q*Te)/6}function r(L){var Y=L.length-1;return function(ve){var Oe=ve<=0?ve=0:ve>=1?(ve=1,Y-1):Math.floor(ve*Y),Te=L[Oe],E=L[Oe+1],q=Oe>0?L[Oe-1]:2*Te-E,le=Oe<Y-1?L[Oe+2]:2*E-Te;return n((ve-Oe/Y)*Y,q,Te,E,le)}}function a(L){var Y=L.length;return function(ve){var Oe=Math.floor(((ve%=1)<0?++ve:ve)*Y),Te=L[(Oe+Y-1)%Y],E=L[Oe%Y],q=L[(Oe+1)%Y],le=L[(Oe+2)%Y];return n((ve-Oe/Y)*Y,Te,E,q,le)}}function i(L){return function(){return L}}function o(L,Y){return function(ve){return L+ve*Y}}function l(L,Y,ve){return L=Math.pow(L,ve),Y=Math.pow(Y,ve)-L,ve=1/ve,function(Oe){return Math.pow(L+Oe*Y,ve)}}function s(L,Y){var ve=Y-L;return ve?o(L,ve>180||ve<-180?ve-360*Math.round(ve/360):ve):i(isNaN(L)?Y:L)}function f(L){return(L=+L)==1?h:function(Y,ve){return ve-Y?l(Y,ve,L):i(isNaN(Y)?ve:Y)}}function h(L,Y){var ve=Y-L;return ve?o(L,ve):i(isNaN(L)?Y:L)}var x=function L(Y){var ve=f(Y);function Oe(Te,E){var q=ve((Te=t.rgb(Te)).r,(E=t.rgb(E)).r),le=ve(Te.g,E.g),De=ve(Te.b,E.b),W=h(Te.opacity,E.opacity);return function(ee){return Te.r=q(ee),Te.g=le(ee),Te.b=De(ee),Te.opacity=W(ee),Te+""}}return Oe.gamma=L,Oe}(1);function v(L){return function(Y){var ve=Y.length,Oe=new Array(ve),Te=new Array(ve),E=new Array(ve),q,le;for(q=0;q<ve;++q)le=t.rgb(Y[q]),Oe[q]=le.r||0,Te[q]=le.g||0,E[q]=le.b||0;return Oe=L(Oe),Te=L(Te),E=L(E),le.opacity=1,function(De){return le.r=Oe(De),le.g=Te(De),le.b=E(De),le+""}}}var M=v(r),C=v(a);function A(L,Y){Y||(Y=[]);var ve=L?Math.min(Y.length,L.length):0,Oe=Y.slice(),Te;return function(E){for(Te=0;Te<ve;++Te)Oe[Te]=L[Te]*(1-E)+Y[Te]*E;return Oe}}function T(L){return ArrayBuffer.isView(L)&&!(L instanceof DataView)}function D(L,Y){return(T(Y)?A:R)(L,Y)}function R(L,Y){var ve=Y?Y.length:0,Oe=L?Math.min(ve,L.length):0,Te=new Array(Oe),E=new Array(ve),q;for(q=0;q<Oe;++q)Te[q]=oe(L[q],Y[q]);for(;q<ve;++q)E[q]=Y[q];return function(le){for(q=0;q<Oe;++q)E[q]=Te[q](le);return E}}function H(L,Y){var ve=new Date;return L=+L,Y=+Y,function(Oe){return ve.setTime(L*(1-Oe)+Y*Oe),ve}}function k(L,Y){return L=+L,Y=+Y,function(ve){return L*(1-ve)+Y*ve}}function z(L,Y){var ve={},Oe={},Te;(L===null||typeof L!="object")&&(L={}),(Y===null||typeof Y!="object")&&(Y={});for(Te in Y)Te in L?ve[Te]=oe(L[Te],Y[Te]):Oe[Te]=Y[Te];return function(E){for(Te in ve)Oe[Te]=ve[Te](E);return Oe}}var I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j=new RegExp(I.source,"g");function Z(L){return function(){return L}}function be(L){return function(Y){return L(Y)+""}}function pe(L,Y){var ve=I.lastIndex=j.lastIndex=0,Oe,Te,E,q=-1,le=[],De=[];for(L=L+"",Y=Y+"";(Oe=I.exec(L))&&(Te=j.exec(Y));)(E=Te.index)>ve&&(E=Y.slice(ve,E),le[q]?le[q]+=E:le[++q]=E),(Oe=Oe[0])===(Te=Te[0])?le[q]?le[q]+=Te:le[++q]=Te:(le[++q]=null,De.push({i:q,x:k(Oe,Te)})),ve=j.lastIndex;return ve<Y.length&&(E=Y.slice(ve),le[q]?le[q]+=E:le[++q]=E),le.length<2?De[0]?be(De[0].x):Z(Y):(Y=De.length,function(W){for(var ee=0,ie;ee<Y;++ee)le[(ie=De[ee]).i]=ie.x(W);return le.join("")})}function oe(L,Y){var ve=typeof Y,Oe;return Y==null||ve==="boolean"?i(Y):(ve==="number"?k:ve==="string"?(Oe=t.color(Y))?(Y=Oe,x):pe:Y instanceof t.color?x:Y instanceof Date?H:T(Y)?A:Array.isArray(Y)?R:typeof Y.valueOf!="function"&&typeof Y.toString!="function"||isNaN(Y)?z:k)(L,Y)}function ze(L){var Y=L.length;return function(ve){return L[Math.max(0,Math.min(Y-1,Math.floor(ve*Y)))]}}function de(L,Y){var ve=s(+L,+Y);return function(Oe){var Te=ve(Oe);return Te-360*Math.floor(Te/360)}}function $(L,Y){return L=+L,Y=+Y,function(ve){return Math.round(L*(1-ve)+Y*ve)}}var we=180/Math.PI,te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ae(L,Y,ve,Oe,Te,E){var q,le,De;return(q=Math.sqrt(L*L+Y*Y))&&(L/=q,Y/=q),(De=L*ve+Y*Oe)&&(ve-=L*De,Oe-=Y*De),(le=Math.sqrt(ve*ve+Oe*Oe))&&(ve/=le,Oe/=le,De/=le),L*Oe<Y*ve&&(L=-L,Y=-Y,De=-De,q=-q),{translateX:Te,translateY:E,rotate:Math.atan2(Y,L)*we,skewX:Math.atan(De)*we,scaleX:q,scaleY:le}}var ge,ye,ce,ke;function Le(L){return L==="none"?te:(ge||(ge=document.createElement("DIV"),ye=document.documentElement,ce=document.defaultView),ge.style.transform=L,L=ce.getComputedStyle(ye.appendChild(ge),null).getPropertyValue("transform"),ye.removeChild(ge),L=L.slice(7,-1).split(","),ae(+L[0],+L[1],+L[2],+L[3],+L[4],+L[5]))}function Se(L){return L==null||(ke||(ke=document.createElementNS("http://www.w3.org/2000/svg","g")),ke.setAttribute("transform",L),!(L=ke.transform.baseVal.consolidate()))?te:(L=L.matrix,ae(L.a,L.b,L.c,L.d,L.e,L.f))}function He(L,Y,ve,Oe){function Te(W){return W.length?W.pop()+" ":""}function E(W,ee,ie,_e,xe,Ae){if(W!==ie||ee!==_e){var Ne=xe.push("translate(",null,Y,null,ve);Ae.push({i:Ne-4,x:k(W,ie)},{i:Ne-2,x:k(ee,_e)})}else(ie||_e)&&xe.push("translate("+ie+Y+_e+ve)}function q(W,ee,ie,_e){W!==ee?(W-ee>180?ee+=360:ee-W>180&&(W+=360),_e.push({i:ie.push(Te(ie)+"rotate(",null,Oe)-2,x:k(W,ee)})):ee&&ie.push(Te(ie)+"rotate("+ee+Oe)}function le(W,ee,ie,_e){W!==ee?_e.push({i:ie.push(Te(ie)+"skewX(",null,Oe)-2,x:k(W,ee)}):ee&&ie.push(Te(ie)+"skewX("+ee+Oe)}function De(W,ee,ie,_e,xe,Ae){if(W!==ie||ee!==_e){var Ne=xe.push(Te(xe)+"scale(",null,",",null,")");Ae.push({i:Ne-4,x:k(W,ie)},{i:Ne-2,x:k(ee,_e)})}else(ie!==1||_e!==1)&&xe.push(Te(xe)+"scale("+ie+","+_e+")")}return function(W,ee){var ie=[],_e=[];return W=L(W),ee=L(ee),E(W.translateX,W.translateY,ee.translateX,ee.translateY,ie,_e),q(W.rotate,ee.rotate,ie,_e),le(W.skewX,ee.skewX,ie,_e),De(W.scaleX,W.scaleY,ee.scaleX,ee.scaleY,ie,_e),W=ee=null,function(xe){for(var Ae=-1,Ne=_e.length,Fe;++Ae<Ne;)ie[(Fe=_e[Ae]).i]=Fe.x(xe);return ie.join("")}}}var X=He(Le,"px, ","px)","deg)"),he=He(Se,", ",")",")"),ue=Math.SQRT2,me=2,Q=4,K=1e-12;function Ce(L){return((L=Math.exp(L))+1/L)/2}function Me(L){return((L=Math.exp(L))-1/L)/2}function Xe(L){return((L=Math.exp(2*L))-1)/(L+1)}function Je(L,Y){var ve=L[0],Oe=L[1],Te=L[2],E=Y[0],q=Y[1],le=Y[2],De=E-ve,W=q-Oe,ee=De*De+W*W,ie,_e;if(ee<K)_e=Math.log(le/Te)/ue,ie=function(et){return[ve+et*De,Oe+et*W,Te*Math.exp(ue*et*_e)]};else{var xe=Math.sqrt(ee),Ae=(le*le-Te*Te+Q*ee)/(2*Te*me*xe),Ne=(le*le-Te*Te-Q*ee)/(2*le*me*xe),Fe=Math.log(Math.sqrt(Ae*Ae+1)-Ae),We=Math.log(Math.sqrt(Ne*Ne+1)-Ne);_e=(We-Fe)/ue,ie=function(et){var xt=et*_e,Ue=Ce(Fe),G=Te/(me*xe)*(Ue*Xe(ue*xt+Fe)-Me(Fe));return[ve+G*De,Oe+G*W,Te*Ue/Ce(ue*xt+Fe)]}}return ie.duration=_e*1e3,ie}function mt(L){return function(Y,ve){var Oe=L((Y=t.hsl(Y)).h,(ve=t.hsl(ve)).h),Te=h(Y.s,ve.s),E=h(Y.l,ve.l),q=h(Y.opacity,ve.opacity);return function(le){return Y.h=Oe(le),Y.s=Te(le),Y.l=E(le),Y.opacity=q(le),Y+""}}}var ft=mt(s),Ye=mt(h);function rt(L,Y){var ve=h((L=t.lab(L)).l,(Y=t.lab(Y)).l),Oe=h(L.a,Y.a),Te=h(L.b,Y.b),E=h(L.opacity,Y.opacity);return function(q){return L.l=ve(q),L.a=Oe(q),L.b=Te(q),L.opacity=E(q),L+""}}function St(L){return function(Y,ve){var Oe=L((Y=t.hcl(Y)).h,(ve=t.hcl(ve)).h),Te=h(Y.c,ve.c),E=h(Y.l,ve.l),q=h(Y.opacity,ve.opacity);return function(le){return Y.h=Oe(le),Y.c=Te(le),Y.l=E(le),Y.opacity=q(le),Y+""}}}var ht=St(s),Hn=St(h);function mn(L){return function Y(ve){ve=+ve;function Oe(Te,E){var q=L((Te=t.cubehelix(Te)).h,(E=t.cubehelix(E)).h),le=h(Te.s,E.s),De=h(Te.l,E.l),W=h(Te.opacity,E.opacity);return function(ee){return Te.h=q(ee),Te.s=le(ee),Te.l=De(Math.pow(ee,ve)),Te.opacity=W(ee),Te+""}}return Oe.gamma=Y,Oe}(1)}var Vn=mn(s),kn=mn(h);function Jt(L,Y){for(var ve=0,Oe=Y.length-1,Te=Y[0],E=new Array(Oe<0?0:Oe);ve<Oe;)E[ve]=L(Te,Te=Y[++ve]);return function(q){var le=Math.max(0,Math.min(Oe-1,Math.floor(q*=Oe)));return E[le](q-le)}}function Yn(L,Y){for(var ve=new Array(Y),Oe=0;Oe<Y;++Oe)ve[Oe]=L(Oe/(Y-1));return ve}e.interpolate=oe,e.interpolateArray=D,e.interpolateBasis=r,e.interpolateBasisClosed=a,e.interpolateCubehelix=Vn,e.interpolateCubehelixLong=kn,e.interpolateDate=H,e.interpolateDiscrete=ze,e.interpolateHcl=ht,e.interpolateHclLong=Hn,e.interpolateHsl=ft,e.interpolateHslLong=Ye,e.interpolateHue=de,e.interpolateLab=rt,e.interpolateNumber=k,e.interpolateNumberArray=A,e.interpolateObject=z,e.interpolateRgb=x,e.interpolateRgbBasis=M,e.interpolateRgbBasisClosed=C,e.interpolateRound=$,e.interpolateString=pe,e.interpolateTransformCss=X,e.interpolateTransformSvg=he,e.interpolateZoom=Je,e.piecewise=Jt,e.quantize=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var Rd=ir((ql,f1)=>{(function(e,t){typeof ql=="object"&&typeof f1<"u"?t(ql):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(ql,function(e){"use strict";function t(k,z){if((I=(k=z?k.toExponential(z-1):k.toExponential()).indexOf("e"))<0)return null;var I,j=k.slice(0,I);return[j.length>1?j[0]+j.slice(2):j,+k.slice(I+1)]}function n(k){return k=t(Math.abs(k)),k?k[1]:NaN}function r(k,z){return function(I,j){for(var Z=I.length,be=[],pe=0,oe=k[0],ze=0;Z>0&&oe>0&&(ze+oe+1>j&&(oe=Math.max(1,j-ze)),be.push(I.substring(Z-=oe,Z+oe)),!((ze+=oe+1)>j));)oe=k[pe=(pe+1)%k.length];return be.reverse().join(z)}}function a(k,z){k=k.toPrecision(z);e:for(var I=k.length,j=1,Z=-1,be;j<I;++j)switch(k[j]){case".":Z=be=j;break;case"0":Z===0&&(Z=j),be=j;break;case"e":break e;default:Z>0&&(Z=0);break}return Z>0?k.slice(0,Z)+k.slice(be+1):k}var i;function o(k,z){var I=t(k,z);if(!I)return k+"";var j=I[0],Z=I[1],be=Z-(i=Math.max(-8,Math.min(8,Math.floor(Z/3)))*3)+1,pe=j.length;return be===pe?j:be>pe?j+new Array(be-pe+1).join("0"):be>0?j.slice(0,be)+"."+j.slice(be):"0."+new Array(1-be).join("0")+t(k,Math.max(0,z+be-1))[0]}function l(k,z){var I=t(k,z);if(!I)return k+"";var j=I[0],Z=I[1];return Z<0?"0."+new Array(-Z).join("0")+j:j.length>Z+1?j.slice(0,Z+1)+"."+j.slice(Z+1):j+new Array(Z-j.length+2).join("0")}var s={"":a,"%":function(k,z){return(k*100).toFixed(z)},b:function(k){return Math.round(k).toString(2)},c:function(k){return k+""},d:function(k){return Math.round(k).toString(10)},e:function(k,z){return k.toExponential(z)},f:function(k,z){return k.toFixed(z)},g:function(k,z){return k.toPrecision(z)},o:function(k){return Math.round(k).toString(8)},p:function(k,z){return l(k*100,z)},r:l,s:o,X:function(k){return Math.round(k).toString(16).toUpperCase()},x:function(k){return Math.round(k).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function h(k){return new x(k)}function x(k){if(!(z=f.exec(k)))throw new Error("invalid format: "+k);var z,I=z[1]||" ",j=z[2]||">",Z=z[3]||"-",be=z[4]||"",pe=!!z[5],oe=z[6]&&+z[6],ze=!!z[7],de=z[8]&&+z[8].slice(1),$=z[9]||"";$==="n"?(ze=!0,$="g"):s[$]||($=""),(pe||I==="0"&&j==="=")&&(pe=!0,I="0",j="="),this.fill=I,this.align=j,this.sign=Z,this.symbol=be,this.zero=pe,this.width=oe,this.comma=ze,this.precision=de,this.type=$}x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var v=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function M(k){return k}function C(k){var z=k.grouping&&k.thousands?r(k.grouping,k.thousands):M,I=k.currency,j=k.decimal;function Z(pe){pe=h(pe);var oe=pe.fill,ze=pe.align,de=pe.sign,$=pe.symbol,we=pe.zero,te=pe.width,ae=pe.comma,ge=pe.precision,ye=pe.type,ce=$==="$"?I[0]:$==="#"&&/[boxX]/.test(ye)?"0"+ye.toLowerCase():"",ke=$==="$"?I[1]:/[%p]/.test(ye)?"%":"",Le=s[ye],Se=!ye||/[defgprs%]/.test(ye);ge=ge==null?ye?6:12:/[gprs]/.test(ye)?Math.max(1,Math.min(21,ge)):Math.max(0,Math.min(20,ge));function He(X){var he=ce,ue=ke,me,Q,K;if(ye==="c")ue=Le(X)+ue,X="";else{X=+X;var Ce=(X<0||1/X<0)&&(X*=-1,!0);if(X=Le(X,ge),Ce){for(me=-1,Q=X.length,Ce=!1;++me<Q;)if(K=X.charCodeAt(me),48<K&&K<58||ye==="x"&&96<K&&K<103||ye==="X"&&64<K&&K<71){Ce=!0;break}}if(he=(Ce?de==="("?de:"-":de==="-"||de==="("?"":de)+he,ue=ue+(ye==="s"?v[8+i/3]:"")+(Ce&&de==="("?")":""),Se){for(me=-1,Q=X.length;++me<Q;)if(K=X.charCodeAt(me),48>K||K>57){ue=(K===46?j+X.slice(me+1):X.slice(me))+ue,X=X.slice(0,me);break}}}ae&&!we&&(X=z(X,1/0));var Me=he.length+X.length+ue.length,Xe=Me<te?new Array(te-Me+1).join(oe):"";switch(ae&&we&&(X=z(Xe+X,Xe.length?te-ue.length:1/0),Xe=""),ze){case"<":return he+X+ue+Xe;case"=":return he+Xe+X+ue;case"^":return Xe.slice(0,Me=Xe.length>>1)+he+X+ue+Xe.slice(Me)}return Xe+he+X+ue}return He.toString=function(){return pe+""},He}function be(pe,oe){var ze=Z((pe=h(pe),pe.type="f",pe)),de=Math.max(-8,Math.min(8,Math.floor(n(oe)/3)))*3,$=Math.pow(10,-de),we=v[8+de/3];return function(te){return ze($*te)+we}}return{format:Z,formatPrefix:be}}var A;T({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function T(k){return A=C(k),e.format=A.format,e.formatPrefix=A.formatPrefix,A}function D(k){return Math.max(0,-n(Math.abs(k)))}function R(k,z){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(z)/3)))*3-n(Math.abs(k)))}function H(k,z){return k=Math.abs(k),z=Math.abs(z)-k,Math.max(0,n(z)-n(k))+1}e.formatDefaultLocale=T,e.formatLocale=C,e.formatSpecifier=h,e.precisionFixed=D,e.precisionPrefix=R,e.precisionRound=H,Object.defineProperty(e,"__esModule",{value:!0})})});var Fd=ir((Gl,d1)=>{(function(e,t){typeof Gl=="object"&&typeof d1<"u"?t(Gl):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Gl,function(e){"use strict";var t=new Date,n=new Date;function r(L,Y,ve,Oe){function Te(E){return L(E=arguments.length===0?new Date:new Date(+E)),E}return Te.floor=function(E){return L(E=new Date(+E)),E},Te.ceil=function(E){return L(E=new Date(E-1)),Y(E,1),L(E),E},Te.round=function(E){var q=Te(E),le=Te.ceil(E);return E-q<le-E?q:le},Te.offset=function(E,q){return Y(E=new Date(+E),q==null?1:Math.floor(q)),E},Te.range=function(E,q,le){var De=[],W;if(E=Te.ceil(E),le=le==null?1:Math.floor(le),!(E<q)||!(le>0))return De;do De.push(W=new Date(+E)),Y(E,le),L(E);while(W<E&&E<q);return De},Te.filter=function(E){return r(function(q){if(q>=q)for(;L(q),!E(q);)q.setTime(q-1)},function(q,le){if(q>=q)if(le<0)for(;++le<=0;)for(;Y(q,-1),!E(q););else for(;--le>=0;)for(;Y(q,1),!E(q););})},ve&&(Te.count=function(E,q){return t.setTime(+E),n.setTime(+q),L(t),L(n),Math.floor(ve(t,n))},Te.every=function(E){return E=Math.floor(E),!isFinite(E)||!(E>0)?null:E>1?Te.filter(Oe?function(q){return Oe(q)%E===0}:function(q){return Te.count(0,q)%E===0}):Te}),Te}var a=r(function(){},function(L,Y){L.setTime(+L+Y)},function(L,Y){return Y-L});a.every=function(L){return L=Math.floor(L),!isFinite(L)||!(L>0)?null:L>1?r(function(Y){Y.setTime(Math.floor(Y/L)*L)},function(Y,ve){Y.setTime(+Y+ve*L)},function(Y,ve){return(ve-Y)/L}):a};var i=a.range,o=1e3,l=6e4,s=36e5,f=864e5,h=6048e5,x=r(function(L){L.setTime(L-L.getMilliseconds())},function(L,Y){L.setTime(+L+Y*o)},function(L,Y){return(Y-L)/o},function(L){return L.getUTCSeconds()}),v=x.range,M=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getMinutes()}),C=M.range,A=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o-L.getMinutes()*l)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getHours()}),T=A.range,D=r(function(L){L.setHours(0,0,0,0)},function(L,Y){L.setDate(L.getDate()+Y)},function(L,Y){return(Y-L-(Y.getTimezoneOffset()-L.getTimezoneOffset())*l)/f},function(L){return L.getDate()-1}),R=D.range;function H(L){return r(function(Y){Y.setDate(Y.getDate()-(Y.getDay()+7-L)%7),Y.setHours(0,0,0,0)},function(Y,ve){Y.setDate(Y.getDate()+ve*7)},function(Y,ve){return(ve-Y-(ve.getTimezoneOffset()-Y.getTimezoneOffset())*l)/h})}var k=H(0),z=H(1),I=H(2),j=H(3),Z=H(4),be=H(5),pe=H(6),oe=k.range,ze=z.range,de=I.range,$=j.range,we=Z.range,te=be.range,ae=pe.range,ge=r(function(L){L.setDate(1),L.setHours(0,0,0,0)},function(L,Y){L.setMonth(L.getMonth()+Y)},function(L,Y){return Y.getMonth()-L.getMonth()+(Y.getFullYear()-L.getFullYear())*12},function(L){return L.getMonth()}),ye=ge.range,ce=r(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,Y){L.setFullYear(L.getFullYear()+Y)},function(L,Y){return Y.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});ce.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setFullYear(Math.floor(Y.getFullYear()/L)*L),Y.setMonth(0,1),Y.setHours(0,0,0,0)},function(Y,ve){Y.setFullYear(Y.getFullYear()+ve*L)})};var ke=ce.range,Le=r(function(L){L.setUTCSeconds(0,0)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getUTCMinutes()}),Se=Le.range,He=r(function(L){L.setUTCMinutes(0,0,0)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getUTCHours()}),X=He.range,he=r(function(L){L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCDate(L.getUTCDate()+Y)},function(L,Y){return(Y-L)/f},function(L){return L.getUTCDate()-1}),ue=he.range;function me(L){return r(function(Y){Y.setUTCDate(Y.getUTCDate()-(Y.getUTCDay()+7-L)%7),Y.setUTCHours(0,0,0,0)},function(Y,ve){Y.setUTCDate(Y.getUTCDate()+ve*7)},function(Y,ve){return(ve-Y)/h})}var Q=me(0),K=me(1),Ce=me(2),Me=me(3),Xe=me(4),Je=me(5),mt=me(6),ft=Q.range,Ye=K.range,rt=Ce.range,St=Me.range,ht=Xe.range,Hn=Je.range,mn=mt.range,Vn=r(function(L){L.setUTCDate(1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCMonth(L.getUTCMonth()+Y)},function(L,Y){return Y.getUTCMonth()-L.getUTCMonth()+(Y.getUTCFullYear()-L.getUTCFullYear())*12},function(L){return L.getUTCMonth()}),kn=Vn.range,Jt=r(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCFullYear(L.getUTCFullYear()+Y)},function(L,Y){return Y.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});Jt.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setUTCFullYear(Math.floor(Y.getUTCFullYear()/L)*L),Y.setUTCMonth(0,1),Y.setUTCHours(0,0,0,0)},function(Y,ve){Y.setUTCFullYear(Y.getUTCFullYear()+ve*L)})};var Yn=Jt.range;e.timeDay=D,e.timeDays=R,e.timeFriday=be,e.timeFridays=te,e.timeHour=A,e.timeHours=T,e.timeInterval=r,e.timeMillisecond=a,e.timeMilliseconds=i,e.timeMinute=M,e.timeMinutes=C,e.timeMonday=z,e.timeMondays=ze,e.timeMonth=ge,e.timeMonths=ye,e.timeSaturday=pe,e.timeSaturdays=ae,e.timeSecond=x,e.timeSeconds=v,e.timeSunday=k,e.timeSundays=oe,e.timeThursday=Z,e.timeThursdays=we,e.timeTuesday=I,e.timeTuesdays=de,e.timeWednesday=j,e.timeWednesdays=$,e.timeWeek=k,e.timeWeeks=oe,e.timeYear=ce,e.timeYears=ke,e.utcDay=he,e.utcDays=ue,e.utcFriday=Je,e.utcFridays=Hn,e.utcHour=He,e.utcHours=X,e.utcMillisecond=a,e.utcMilliseconds=i,e.utcMinute=Le,e.utcMinutes=Se,e.utcMonday=K,e.utcMondays=Ye,e.utcMonth=Vn,e.utcMonths=kn,e.utcSaturday=mt,e.utcSaturdays=mn,e.utcSecond=x,e.utcSeconds=v,e.utcSunday=Q,e.utcSundays=ft,e.utcThursday=Xe,e.utcThursdays=ht,e.utcTuesday=Ce,e.utcTuesdays=rt,e.utcWednesday=Me,e.utcWednesdays=St,e.utcWeek=Q,e.utcWeeks=ft,e.utcYear=Jt,e.utcYears=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var h1=ir((Xl,m1)=>{(function(e,t){typeof Xl=="object"&&typeof m1<"u"?t(Xl,Fd()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(Xl,function(e,t){"use strict";function n(G){if(0<=G.y&&G.y<100){var se=new Date(-1,G.m,G.d,G.H,G.M,G.S,G.L);return se.setFullYear(G.y),se}return new Date(G.y,G.m,G.d,G.H,G.M,G.S,G.L)}function r(G){if(0<=G.y&&G.y<100){var se=new Date(Date.UTC(-1,G.m,G.d,G.H,G.M,G.S,G.L));return se.setUTCFullYear(G.y),se}return new Date(Date.UTC(G.y,G.m,G.d,G.H,G.M,G.S,G.L))}function a(G,se,Ve){return{y:G,m:se,d:Ve,H:0,M:0,S:0,L:0}}function i(G){var se=G.dateTime,Ve=G.date,Pe=G.time,en=G.periods,tn=G.days,ar=G.shortDays,ca=G.months,Wn=G.shortMonths,Go=v(en),ct=M(en),at=v(tn),Ft=M(tn),Yt=v(ar),nn=M(ar),Tn=v(ca),Wt=M(ca),hn=v(Wn),zt=M(Wn),ot={a:mf,A:hf,b:pf,B:gf,c:null,d:ge,e:ge,f:Se,g:Je,G:ft,H:ye,I:ce,j:ke,L:Le,m:He,M:X,p:Vt,q:Xa,Q:_e,s:xe,S:he,u:ue,U:me,V:K,w:Ce,W:Me,x:null,X:null,y:Xe,Y:mt,Z:Ye,"%":ie},Wr={a:ja,A:$r,b:Dn,B:vf,c:null,d:rt,e:rt,f:Vn,g:le,G:W,H:St,I:ht,j:Hn,L:mn,m:kn,M:Jt,p:yf,q:bf,Q:_e,s:xe,S:Yn,u:L,U:Y,V:Oe,w:Te,W:E,x:null,X:null,y:q,Y:De,Z:ee,"%":ie},cf={a:_l,A:Sl,b:sf,B:Ml,c:ff,d:Z,e:Z,f:$,g:k,G:H,H:pe,I:pe,j:be,L:de,m:j,M:oe,p:br,q:I,Q:te,s:ae,S:ze,u:A,U:T,V:D,w:C,W:R,x:df,X:Tl,y:k,Y:H,Z:z,"%":we};ot.x=yr(Ve,ot),ot.X=yr(Pe,ot),ot.c=yr(se,ot),Wr.x=yr(Ve,Wr),Wr.X=yr(Pe,Wr),Wr.c=yr(se,Wr);function yr($e,dt){return function(Qe){var Ie=[],$t=-1,nt=0,pn=$e.length,Dt,rn,$n;for(Qe instanceof Date||(Qe=new Date(+Qe));++$t<pn;)$e.charCodeAt($t)===37&&(Ie.push($e.slice(nt,$t)),(rn=o[Dt=$e.charAt(++$t)])!=null?Dt=$e.charAt(++$t):rn=Dt==="e"?" ":"0",($n=dt[Dt])&&(Dt=$n(Qe,rn)),Ie.push(Dt),nt=$t+1);return Ie.push($e.slice(nt,$t)),Ie.join("")}}function ji($e,dt){return function(Qe){var Ie=a(1900,void 0,1),$t=sa(Ie,$e,Qe+="",0),nt,pn;if($t!=Qe.length)return null;if("Q"in Ie)return new Date(Ie.Q);if("s"in Ie)return new Date(Ie.s*1e3+("L"in Ie?Ie.L:0));if(dt&&!("Z"in Ie)&&(Ie.Z=0),"p"in Ie&&(Ie.H=Ie.H%12+Ie.p*12),Ie.m===void 0&&(Ie.m="q"in Ie?Ie.q:0),"V"in Ie){if(Ie.V<1||Ie.V>53)return null;"w"in Ie||(Ie.w=1),"Z"in Ie?(nt=r(a(Ie.y,0,1)),pn=nt.getUTCDay(),nt=pn>4||pn===0?t.utcMonday.ceil(nt):t.utcMonday(nt),nt=t.utcDay.offset(nt,(Ie.V-1)*7),Ie.y=nt.getUTCFullYear(),Ie.m=nt.getUTCMonth(),Ie.d=nt.getUTCDate()+(Ie.w+6)%7):(nt=n(a(Ie.y,0,1)),pn=nt.getDay(),nt=pn>4||pn===0?t.timeMonday.ceil(nt):t.timeMonday(nt),nt=t.timeDay.offset(nt,(Ie.V-1)*7),Ie.y=nt.getFullYear(),Ie.m=nt.getMonth(),Ie.d=nt.getDate()+(Ie.w+6)%7)}else("W"in Ie||"U"in Ie)&&("w"in Ie||(Ie.w="u"in Ie?Ie.u%7:"W"in Ie?1:0),pn="Z"in Ie?r(a(Ie.y,0,1)).getUTCDay():n(a(Ie.y,0,1)).getDay(),Ie.m=0,Ie.d="W"in Ie?(Ie.w+6)%7+Ie.W*7-(pn+5)%7:Ie.w+Ie.U*7-(pn+6)%7);return"Z"in Ie?(Ie.H+=Ie.Z/100|0,Ie.M+=Ie.Z%100,r(Ie)):n(Ie)}}function sa($e,dt,Qe,Ie){for(var $t=0,nt=dt.length,pn=Qe.length,Dt,rn;$t<nt;){if(Ie>=pn)return-1;if(Dt=dt.charCodeAt($t++),Dt===37){if(Dt=dt.charAt($t++),rn=cf[Dt in o?dt.charAt($t++):Dt],!rn||(Ie=rn($e,Qe,Ie))<0)return-1}else if(Dt!=Qe.charCodeAt(Ie++))return-1}return Ie}function br($e,dt,Qe){var Ie=Go.exec(dt.slice(Qe));return Ie?($e.p=ct[Ie[0].toLowerCase()],Qe+Ie[0].length):-1}function _l($e,dt,Qe){var Ie=Yt.exec(dt.slice(Qe));return Ie?($e.w=nn[Ie[0].toLowerCase()],Qe+Ie[0].length):-1}function Sl($e,dt,Qe){var Ie=at.exec(dt.slice(Qe));return Ie?($e.w=Ft[Ie[0].toLowerCase()],Qe+Ie[0].length):-1}function sf($e,dt,Qe){var Ie=hn.exec(dt.slice(Qe));return Ie?($e.m=zt[Ie[0].toLowerCase()],Qe+Ie[0].length):-1}function Ml($e,dt,Qe){var Ie=Tn.exec(dt.slice(Qe));return Ie?($e.m=Wt[Ie[0].toLowerCase()],Qe+Ie[0].length):-1}function ff($e,dt,Qe){return sa($e,se,dt,Qe)}function df($e,dt,Qe){return sa($e,Ve,dt,Qe)}function Tl($e,dt,Qe){return sa($e,Pe,dt,Qe)}function mf($e){return ar[$e.getDay()]}function hf($e){return tn[$e.getDay()]}function pf($e){return Wn[$e.getMonth()]}function gf($e){return ca[$e.getMonth()]}function Vt($e){return en[+($e.getHours()>=12)]}function Xa($e){return 1+~~($e.getMonth()/3)}function ja($e){return ar[$e.getUTCDay()]}function $r($e){return tn[$e.getUTCDay()]}function Dn($e){return Wn[$e.getUTCMonth()]}function vf($e){return ca[$e.getUTCMonth()]}function yf($e){return en[+($e.getUTCHours()>=12)]}function bf($e){return 1+~~($e.getUTCMonth()/3)}return{format:function($e){var dt=yr($e+="",ot);return dt.toString=function(){return $e},dt},parse:function($e){var dt=ji($e+="",!1);return dt.toString=function(){return $e},dt},utcFormat:function($e){var dt=yr($e+="",Wr);return dt.toString=function(){return $e},dt},utcParse:function($e){var dt=ji($e+="",!0);return dt.toString=function(){return $e},dt}}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,s=/^%/,f=/[\\^$*+?|[\]().{}]/g;function h(G,se,Ve){var Pe=G<0?"-":"",en=(Pe?-G:G)+"",tn=en.length;return Pe+(tn<Ve?new Array(Ve-tn+1).join(se)+en:en)}function x(G){return G.replace(f,"\\$&")}function v(G){return new RegExp("^(?:"+G.map(x).join("|")+")","i")}function M(G){for(var se={},Ve=-1,Pe=G.length;++Ve<Pe;)se[G[Ve].toLowerCase()]=Ve;return se}function C(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+1));return Pe?(G.w=+Pe[0],Ve+Pe[0].length):-1}function A(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+1));return Pe?(G.u=+Pe[0],Ve+Pe[0].length):-1}function T(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.U=+Pe[0],Ve+Pe[0].length):-1}function D(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.V=+Pe[0],Ve+Pe[0].length):-1}function R(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.W=+Pe[0],Ve+Pe[0].length):-1}function H(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+4));return Pe?(G.y=+Pe[0],Ve+Pe[0].length):-1}function k(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.y=+Pe[0]+(+Pe[0]>68?1900:2e3),Ve+Pe[0].length):-1}function z(G,se,Ve){var Pe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(se.slice(Ve,Ve+6));return Pe?(G.Z=Pe[1]?0:-(Pe[2]+(Pe[3]||"00")),Ve+Pe[0].length):-1}function I(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+1));return Pe?(G.q=Pe[0]*3-3,Ve+Pe[0].length):-1}function j(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.m=Pe[0]-1,Ve+Pe[0].length):-1}function Z(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.d=+Pe[0],Ve+Pe[0].length):-1}function be(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+3));return Pe?(G.m=0,G.d=+Pe[0],Ve+Pe[0].length):-1}function pe(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.H=+Pe[0],Ve+Pe[0].length):-1}function oe(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.M=+Pe[0],Ve+Pe[0].length):-1}function ze(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+2));return Pe?(G.S=+Pe[0],Ve+Pe[0].length):-1}function de(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+3));return Pe?(G.L=+Pe[0],Ve+Pe[0].length):-1}function $(G,se,Ve){var Pe=l.exec(se.slice(Ve,Ve+6));return Pe?(G.L=Math.floor(Pe[0]/1e3),Ve+Pe[0].length):-1}function we(G,se,Ve){var Pe=s.exec(se.slice(Ve,Ve+1));return Pe?Ve+Pe[0].length:-1}function te(G,se,Ve){var Pe=l.exec(se.slice(Ve));return Pe?(G.Q=+Pe[0],Ve+Pe[0].length):-1}function ae(G,se,Ve){var Pe=l.exec(se.slice(Ve));return Pe?(G.s=+Pe[0],Ve+Pe[0].length):-1}function ge(G,se){return h(G.getDate(),se,2)}function ye(G,se){return h(G.getHours(),se,2)}function ce(G,se){return h(G.getHours()%12||12,se,2)}function ke(G,se){return h(1+t.timeDay.count(t.timeYear(G),G),se,3)}function Le(G,se){return h(G.getMilliseconds(),se,3)}function Se(G,se){return Le(G,se)+"000"}function He(G,se){return h(G.getMonth()+1,se,2)}function X(G,se){return h(G.getMinutes(),se,2)}function he(G,se){return h(G.getSeconds(),se,2)}function ue(G){var se=G.getDay();return se===0?7:se}function me(G,se){return h(t.timeSunday.count(t.timeYear(G)-1,G),se,2)}function Q(G){var se=G.getDay();return se>=4||se===0?t.timeThursday(G):t.timeThursday.ceil(G)}function K(G,se){return G=Q(G),h(t.timeThursday.count(t.timeYear(G),G)+(t.timeYear(G).getDay()===4),se,2)}function Ce(G){return G.getDay()}function Me(G,se){return h(t.timeMonday.count(t.timeYear(G)-1,G),se,2)}function Xe(G,se){return h(G.getFullYear()%100,se,2)}function Je(G,se){return G=Q(G),h(G.getFullYear()%100,se,2)}function mt(G,se){return h(G.getFullYear()%1e4,se,4)}function ft(G,se){var Ve=G.getDay();return G=Ve>=4||Ve===0?t.timeThursday(G):t.timeThursday.ceil(G),h(G.getFullYear()%1e4,se,4)}function Ye(G){var se=G.getTimezoneOffset();return(se>0?"-":(se*=-1,"+"))+h(se/60|0,"0",2)+h(se%60,"0",2)}function rt(G,se){return h(G.getUTCDate(),se,2)}function St(G,se){return h(G.getUTCHours(),se,2)}function ht(G,se){return h(G.getUTCHours()%12||12,se,2)}function Hn(G,se){return h(1+t.utcDay.count(t.utcYear(G),G),se,3)}function mn(G,se){return h(G.getUTCMilliseconds(),se,3)}function Vn(G,se){return mn(G,se)+"000"}function kn(G,se){return h(G.getUTCMonth()+1,se,2)}function Jt(G,se){return h(G.getUTCMinutes(),se,2)}function Yn(G,se){return h(G.getUTCSeconds(),se,2)}function L(G){var se=G.getUTCDay();return se===0?7:se}function Y(G,se){return h(t.utcSunday.count(t.utcYear(G)-1,G),se,2)}function ve(G){var se=G.getUTCDay();return se>=4||se===0?t.utcThursday(G):t.utcThursday.ceil(G)}function Oe(G,se){return G=ve(G),h(t.utcThursday.count(t.utcYear(G),G)+(t.utcYear(G).getUTCDay()===4),se,2)}function Te(G){return G.getUTCDay()}function E(G,se){return h(t.utcMonday.count(t.utcYear(G)-1,G),se,2)}function q(G,se){return h(G.getUTCFullYear()%100,se,2)}function le(G,se){return G=ve(G),h(G.getUTCFullYear()%100,se,2)}function De(G,se){return h(G.getUTCFullYear()%1e4,se,4)}function W(G,se){var Ve=G.getUTCDay();return G=Ve>=4||Ve===0?t.utcThursday(G):t.utcThursday.ceil(G),h(G.getUTCFullYear()%1e4,se,4)}function ee(){return"+0000"}function ie(){return"%"}function _e(G){return+G}function xe(G){return Math.floor(+G/1e3)}var Ae;Ne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ne(G){return Ae=i(G),e.timeFormat=Ae.format,e.timeParse=Ae.parse,e.utcFormat=Ae.utcFormat,e.utcParse=Ae.utcParse,Ae}var Fe="%Y-%m-%dT%H:%M:%S.%LZ";function We(G){return G.toISOString()}var et=Date.prototype.toISOString?We:e.utcFormat(Fe);function xt(G){var se=new Date(G);return isNaN(se)?null:se}var Ue=+new Date("2000-01-01T00:00:00.000Z")?xt:e.utcParse(Fe);e.isoFormat=et,e.isoParse=Ue,e.timeFormatDefaultLocale=Ne,e.timeFormatLocale=i,Object.defineProperty(e,"__esModule",{value:!0})})});var Bd=ir((jl,p1)=>{(function(e,t){typeof jl=="object"&&typeof p1<"u"?t(jl,Id(),u1(),s1(),Rd(),Fd(),h1(),zd()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})(jl,function(e,t,n,r,a,i,o,l){"use strict";var s=Array.prototype,f=s.map,h=s.slice,x={name:"implicit"};function v(W){var ee=n.map(),ie=[],_e=x;W=W==null?[]:h.call(W);function xe(Ae){var Ne=Ae+"",Fe=ee.get(Ne);if(!Fe){if(_e!==x)return _e;ee.set(Ne,Fe=ie.push(Ae))}return W[(Fe-1)%W.length]}return xe.domain=function(Ae){if(!arguments.length)return ie.slice();ie=[],ee=n.map();for(var Ne=-1,Fe=Ae.length,We,et;++Ne<Fe;)ee.has(et=(We=Ae[Ne])+"")||ee.set(et,ie.push(We));return xe},xe.range=function(Ae){return arguments.length?(W=h.call(Ae),xe):W.slice()},xe.unknown=function(Ae){return arguments.length?(_e=Ae,xe):_e},xe.copy=function(){return v().domain(ie).range(W).unknown(_e)},xe}function M(){var W=v().unknown(void 0),ee=W.domain,ie=W.range,_e=[0,1],xe,Ae,Ne=!1,Fe=0,We=0,et=.5;delete W.unknown;function xt(){var Ue=ee().length,G=_e[1]<_e[0],se=_e[G-0],Ve=_e[1-G];xe=(Ve-se)/Math.max(1,Ue-Fe+We*2),Ne&&(xe=Math.floor(xe)),se+=(Ve-se-xe*(Ue-Fe))*et,Ae=xe*(1-Fe),Ne&&(se=Math.round(se),Ae=Math.round(Ae));var Pe=t.range(Ue).map(function(en){return se+xe*en});return ie(G?Pe.reverse():Pe)}return W.domain=function(Ue){return arguments.length?(ee(Ue),xt()):ee()},W.range=function(Ue){return arguments.length?(_e=[+Ue[0],+Ue[1]],xt()):_e.slice()},W.rangeRound=function(Ue){return _e=[+Ue[0],+Ue[1]],Ne=!0,xt()},W.bandwidth=function(){return Ae},W.step=function(){return xe},W.round=function(Ue){return arguments.length?(Ne=!!Ue,xt()):Ne},W.padding=function(Ue){return arguments.length?(Fe=We=Math.max(0,Math.min(1,Ue)),xt()):Fe},W.paddingInner=function(Ue){return arguments.length?(Fe=Math.max(0,Math.min(1,Ue)),xt()):Fe},W.paddingOuter=function(Ue){return arguments.length?(We=Math.max(0,Math.min(1,Ue)),xt()):We},W.align=function(Ue){return arguments.length?(et=Math.max(0,Math.min(1,Ue)),xt()):et},W.copy=function(){return M().domain(ee()).range(_e).round(Ne).paddingInner(Fe).paddingOuter(We).align(et)},xt()}function C(W){var ee=W.copy;return W.padding=W.paddingOuter,delete W.paddingInner,delete W.paddingOuter,W.copy=function(){return C(ee())},W}function A(){return C(M().paddingInner(1))}function T(W){return function(){return W}}function D(W){return+W}var R=[0,1];function H(W,ee){return(ee-=W=+W)?function(ie){return(ie-W)/ee}:T(ee)}function k(W){return function(ee,ie){var _e=W(ee=+ee,ie=+ie);return function(xe){return xe<=ee?0:xe>=ie?1:_e(xe)}}}function z(W){return function(ee,ie){var _e=W(ee=+ee,ie=+ie);return function(xe){return xe<=0?ee:xe>=1?ie:_e(xe)}}}function I(W,ee,ie,_e){var xe=W[0],Ae=W[1],Ne=ee[0],Fe=ee[1];return Ae<xe?(xe=ie(Ae,xe),Ne=_e(Fe,Ne)):(xe=ie(xe,Ae),Ne=_e(Ne,Fe)),function(We){return Ne(xe(We))}}function j(W,ee,ie,_e){var xe=Math.min(W.length,ee.length)-1,Ae=new Array(xe),Ne=new Array(xe),Fe=-1;for(W[xe]<W[0]&&(W=W.slice().reverse(),ee=ee.slice().reverse());++Fe<xe;)Ae[Fe]=ie(W[Fe],W[Fe+1]),Ne[Fe]=_e(ee[Fe],ee[Fe+1]);return function(We){var et=t.bisect(W,We,1,xe)-1;return Ne[et](Ae[et](We))}}function Z(W,ee){return ee.domain(W.domain()).range(W.range()).interpolate(W.interpolate()).clamp(W.clamp())}function be(W,ee){var ie=R,_e=R,xe=r.interpolate,Ae=!1,Ne,Fe,We;function et(){return Ne=Math.min(ie.length,_e.length)>2?j:I,Fe=We=null,xt}function xt(Ue){return(Fe||(Fe=Ne(ie,_e,Ae?k(W):W,xe)))(+Ue)}return xt.invert=function(Ue){return(We||(We=Ne(_e,ie,H,Ae?z(ee):ee)))(+Ue)},xt.domain=function(Ue){return arguments.length?(ie=f.call(Ue,D),et()):ie.slice()},xt.range=function(Ue){return arguments.length?(_e=h.call(Ue),et()):_e.slice()},xt.rangeRound=function(Ue){return _e=h.call(Ue),xe=r.interpolateRound,et()},xt.clamp=function(Ue){return arguments.length?(Ae=!!Ue,et()):Ae},xt.interpolate=function(Ue){return arguments.length?(xe=Ue,et()):xe},et()}function pe(W,ee,ie){var _e=W[0],xe=W[W.length-1],Ae=t.tickStep(_e,xe,ee??10),Ne;switch(ie=a.formatSpecifier(ie??",f"),ie.type){case"s":{var Fe=Math.max(Math.abs(_e),Math.abs(xe));return ie.precision==null&&!isNaN(Ne=a.precisionPrefix(Ae,Fe))&&(ie.precision=Ne),a.formatPrefix(ie,Fe)}case"":case"e":case"g":case"p":case"r":{ie.precision==null&&!isNaN(Ne=a.precisionRound(Ae,Math.max(Math.abs(_e),Math.abs(xe))))&&(ie.precision=Ne-(ie.type==="e"));break}case"f":case"%":{ie.precision==null&&!isNaN(Ne=a.precisionFixed(Ae))&&(ie.precision=Ne-(ie.type==="%")*2);break}}return a.format(ie)}function oe(W){var ee=W.domain;return W.ticks=function(ie){var _e=ee();return t.ticks(_e[0],_e[_e.length-1],ie??10)},W.tickFormat=function(ie,_e){return pe(ee(),ie,_e)},W.nice=function(ie){var _e=ee(),xe=_e.length-1,Ae=ie??10,Ne=_e[0],Fe=_e[xe],We=t.tickStep(Ne,Fe,Ae);return We&&(We=t.tickStep(Math.floor(Ne/We)*We,Math.ceil(Fe/We)*We,Ae),_e[0]=Math.floor(Ne/We)*We,_e[xe]=Math.ceil(Fe/We)*We,ee(_e)),W},W}function ze(){var W=be(H,r.interpolateNumber);return W.copy=function(){return Z(W,ze())},oe(W)}function de(){var W=[0,1];function ee(ie){return+ie}return ee.invert=ee,ee.domain=ee.range=function(ie){return arguments.length?(W=f.call(ie,D),ee):W.slice()},ee.copy=function(){return de().domain(W)},oe(ee)}function $(W,ee){W=W.slice();var ie=0,_e=W.length-1,xe=W[ie],Ae=W[_e],Ne;return Ae<xe&&(Ne=ie,ie=_e,_e=Ne,Ne=xe,xe=Ae,Ae=Ne),W[ie]=ee.floor(xe),W[_e]=ee.ceil(Ae),W}function we(W,ee){return(ee=Math.log(ee/W))?function(ie){return Math.log(ie/W)/ee}:T(ee)}function te(W,ee){return W<0?function(ie){return-Math.pow(-ee,ie)*Math.pow(-W,1-ie)}:function(ie){return Math.pow(ee,ie)*Math.pow(W,1-ie)}}function ae(W){return isFinite(W)?+("1e"+W):W<0?0:W}function ge(W){return W===10?ae:W===Math.E?Math.exp:function(ee){return Math.pow(W,ee)}}function ye(W){return W===Math.E?Math.log:W===10&&Math.log10||W===2&&Math.log2||(W=Math.log(W),function(ee){return Math.log(ee)/W})}function ce(W){return function(ee){return-W(-ee)}}function ke(){var W=be(we,te).domain([1,10]),ee=W.domain,ie=10,_e=ye(10),xe=ge(10);function Ae(){return _e=ye(ie),xe=ge(ie),ee()[0]<0&&(_e=ce(_e),xe=ce(xe)),W}return W.base=function(Ne){return arguments.length?(ie=+Ne,Ae()):ie},W.domain=function(Ne){return arguments.length?(ee(Ne),Ae()):ee()},W.ticks=function(Ne){var Fe=ee(),We=Fe[0],et=Fe[Fe.length-1],xt;(xt=et<We)&&(Ue=We,We=et,et=Ue);var Ue=_e(We),G=_e(et),se,Ve,Pe,en=Ne==null?10:+Ne,tn=[];if(!(ie%1)&&G-Ue<en){if(Ue=Math.round(Ue)-1,G=Math.round(G)+1,We>0){for(;Ue<G;++Ue)for(Ve=1,se=xe(Ue);Ve<ie;++Ve)if(Pe=se*Ve,!(Pe<We)){if(Pe>et)break;tn.push(Pe)}}else for(;Ue<G;++Ue)for(Ve=ie-1,se=xe(Ue);Ve>=1;--Ve)if(Pe=se*Ve,!(Pe<We)){if(Pe>et)break;tn.push(Pe)}}else tn=t.ticks(Ue,G,Math.min(G-Ue,en)).map(xe);return xt?tn.reverse():tn},W.tickFormat=function(Ne,Fe){if(Fe==null&&(Fe=ie===10?".0e":","),typeof Fe!="function"&&(Fe=a.format(Fe)),Ne===1/0)return Fe;Ne==null&&(Ne=10);var We=Math.max(1,ie*Ne/W.ticks().length);return function(et){var xt=et/xe(Math.round(_e(et)));return xt*ie<ie-.5&&(xt*=ie),xt<=We?Fe(et):""}},W.nice=function(){return ee($(ee(),{floor:function(Ne){return xe(Math.floor(_e(Ne)))},ceil:function(Ne){return xe(Math.ceil(_e(Ne)))}}))},W.copy=function(){return Z(W,ke().base(ie))},W}function Le(W,ee){return W<0?-Math.pow(-W,ee):Math.pow(W,ee)}function Se(){var W=1,ee=be(_e,xe),ie=ee.domain;function _e(Ae,Ne){return(Ne=Le(Ne,W)-(Ae=Le(Ae,W)))?function(Fe){return(Le(Fe,W)-Ae)/Ne}:T(Ne)}function xe(Ae,Ne){return Ne=Le(Ne,W)-(Ae=Le(Ae,W)),function(Fe){return Le(Ae+Ne*Fe,1/W)}}return ee.exponent=function(Ae){return arguments.length?(W=+Ae,ie(ie())):W},ee.copy=function(){return Z(ee,Se().exponent(W))},oe(ee)}function He(){return Se().exponent(.5)}function X(){var W=[],ee=[],ie=[];function _e(){var Ae=0,Ne=Math.max(1,ee.length);for(ie=new Array(Ne-1);++Ae<Ne;)ie[Ae-1]=t.quantile(W,Ae/Ne);return xe}function xe(Ae){if(!isNaN(Ae=+Ae))return ee[t.bisect(ie,Ae)]}return xe.invertExtent=function(Ae){var Ne=ee.indexOf(Ae);return Ne<0?[NaN,NaN]:[Ne>0?ie[Ne-1]:W[0],Ne<ie.length?ie[Ne]:W[W.length-1]]},xe.domain=function(Ae){if(!arguments.length)return W.slice();W=[];for(var Ne=0,Fe=Ae.length,We;Ne<Fe;++Ne)We=Ae[Ne],We!=null&&!isNaN(We=+We)&&W.push(We);return W.sort(t.ascending),_e()},xe.range=function(Ae){return arguments.length?(ee=h.call(Ae),_e()):ee.slice()},xe.quantiles=function(){return ie.slice()},xe.copy=function(){return X().domain(W).range(ee)},xe}function he(){var W=0,ee=1,ie=1,_e=[.5],xe=[0,1];function Ae(Fe){if(Fe<=Fe)return xe[t.bisect(_e,Fe,0,ie)]}function Ne(){var Fe=-1;for(_e=new Array(ie);++Fe<ie;)_e[Fe]=((Fe+1)*ee-(Fe-ie)*W)/(ie+1);return Ae}return Ae.domain=function(Fe){return arguments.length?(W=+Fe[0],ee=+Fe[1],Ne()):[W,ee]},Ae.range=function(Fe){return arguments.length?(ie=(xe=h.call(Fe)).length-1,Ne()):xe.slice()},Ae.invertExtent=function(Fe){var We=xe.indexOf(Fe);return We<0?[NaN,NaN]:We<1?[W,_e[0]]:We>=ie?[_e[ie-1],ee]:[_e[We-1],_e[We]]},Ae.copy=function(){return he().domain([W,ee]).range(xe)},oe(Ae)}function ue(){var W=[.5],ee=[0,1],ie=1;function _e(xe){if(xe<=xe)return ee[t.bisect(W,xe,0,ie)]}return _e.domain=function(xe){return arguments.length?(W=h.call(xe),ie=Math.min(W.length,ee.length-1),_e):W.slice()},_e.range=function(xe){return arguments.length?(ee=h.call(xe),ie=Math.min(W.length,ee.length-1),_e):ee.slice()},_e.invertExtent=function(xe){var Ae=ee.indexOf(xe);return[W[Ae-1],W[Ae]]},_e.copy=function(){return ue().domain(W).range(ee)},_e}var me=1e3,Q=me*60,K=Q*60,Ce=K*24,Me=Ce*7,Xe=Ce*30,Je=Ce*365;function mt(W){return new Date(W)}function ft(W){return W instanceof Date?+W:+new Date(+W)}function Ye(W,ee,ie,_e,xe,Ae,Ne,Fe,We){var et=be(H,r.interpolateNumber),xt=et.invert,Ue=et.domain,G=We(".%L"),se=We(":%S"),Ve=We("%I:%M"),Pe=We("%I %p"),en=We("%a %d"),tn=We("%b %d"),ar=We("%B"),ca=We("%Y"),Wn=[[Ne,1,me],[Ne,5,5*me],[Ne,15,15*me],[Ne,30,30*me],[Ae,1,Q],[Ae,5,5*Q],[Ae,15,15*Q],[Ae,30,30*Q],[xe,1,K],[xe,3,3*K],[xe,6,6*K],[xe,12,12*K],[_e,1,Ce],[_e,2,2*Ce],[ie,1,Me],[ee,1,Xe],[ee,3,3*Xe],[W,1,Je]];function Go(at){return(Ne(at)<at?G:Ae(at)<at?se:xe(at)<at?Ve:_e(at)<at?Pe:ee(at)<at?ie(at)<at?en:tn:W(at)<at?ar:ca)(at)}function ct(at,Ft,Yt,nn){if(at==null&&(at=10),typeof at=="number"){var Tn=Math.abs(Yt-Ft)/at,Wt=t.bisector(function(hn){return hn[2]}).right(Wn,Tn);Wt===Wn.length?(nn=t.tickStep(Ft/Je,Yt/Je,at),at=W):Wt?(Wt=Wn[Tn/Wn[Wt-1][2]<Wn[Wt][2]/Tn?Wt-1:Wt],nn=Wt[1],at=Wt[0]):(nn=t.tickStep(Ft,Yt,at),at=Fe)}return nn==null?at:at.every(nn)}return et.invert=function(at){return new Date(xt(at))},et.domain=function(at){return arguments.length?Ue(f.call(at,ft)):Ue().map(mt)},et.ticks=function(at,Ft){var Yt=Ue(),nn=Yt[0],Tn=Yt[Yt.length-1],Wt=Tn<nn,hn;return Wt&&(hn=nn,nn=Tn,Tn=hn),hn=ct(at,nn,Tn,Ft),hn=hn?hn.range(nn,Tn+1):[],Wt?hn.reverse():hn},et.tickFormat=function(at,Ft){return Ft==null?Go:We(Ft)},et.nice=function(at,Ft){var Yt=Ue();return(at=ct(at,Yt[0],Yt[Yt.length-1],Ft))?Ue($(Yt,at)):et},et.copy=function(){return Z(et,Ye(W,ee,ie,_e,xe,Ae,Ne,Fe,We))},et}function rt(){return Ye(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function St(){return Ye(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function ht(W){return W.match(/.{6}/g).map(function(ee){return"#"+ee})}var Hn=ht("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),mn=ht("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Vn=ht("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),kn=ht("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Jt=r.interpolateCubehelixLong(l.cubehelix(300,.5,0),l.cubehelix(-240,.5,1)),Yn=r.interpolateCubehelixLong(l.cubehelix(-100,.75,.35),l.cubehelix(80,1.5,.8)),L=r.interpolateCubehelixLong(l.cubehelix(260,.75,.35),l.cubehelix(80,1.5,.8)),Y=l.cubehelix();function ve(W){(W<0||W>1)&&(W-=Math.floor(W));var ee=Math.abs(W-.5);return Y.h=360*W-100,Y.s=1.5-1.5*ee,Y.l=.8-.9*ee,Y+""}function Oe(W){var ee=W.length;return function(ie){return W[Math.max(0,Math.min(ee-1,Math.floor(ie*ee)))]}}var Te=Oe(ht("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),E=Oe(ht("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q=Oe(ht("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),le=Oe(ht("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function De(W){var ee=0,ie=1,_e=!1;function xe(Ae){var Ne=(Ae-ee)/(ie-ee);return W(_e?Math.max(0,Math.min(1,Ne)):Ne)}return xe.domain=function(Ae){return arguments.length?(ee=+Ae[0],ie=+Ae[1],xe):[ee,ie]},xe.clamp=function(Ae){return arguments.length?(_e=!!Ae,xe):_e},xe.interpolator=function(Ae){return arguments.length?(W=Ae,xe):W},xe.copy=function(){return De(W).domain([ee,ie]).clamp(_e)},oe(xe)}e.scaleBand=M,e.scalePoint=A,e.scaleIdentity=de,e.scaleLinear=ze,e.scaleLog=ke,e.scaleOrdinal=v,e.scaleImplicit=x,e.scalePow=Se,e.scaleSqrt=He,e.scaleQuantile=X,e.scaleQuantize=he,e.scaleThreshold=ue,e.scaleTime=rt,e.scaleUtc=St,e.schemeCategory10=Hn,e.schemeCategory20b=mn,e.schemeCategory20c=Vn,e.schemeCategory20=kn,e.interpolateCubehelixDefault=Jt,e.interpolateRainbow=ve,e.interpolateWarm=Yn,e.interpolateCool=L,e.interpolateViridis=Te,e.interpolateMagma=E,e.interpolateInferno=q,e.interpolatePlasma=le,e.scaleSequential=De,Object.defineProperty(e,"__esModule",{value:!0})})});function At(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{let o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{let s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let f;do s.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<o);return s},a.filter=i=>At(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Hd.setTime(+i),Yd.setTime(+o),e(Hd),e(Yd),Math.floor(n(Hd,Yd))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}var Hd,Yd,Cr=P(()=>{Hd=new Date,Yd=new Date});var ba,Wd,$d=P(()=>{Cr();ba=At(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ba.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?At(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ba);Wd=ba.range});var cr,Ud,qd=P(()=>{Cr();cr=At(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),Ud=cr.range});var ui,g1,pu,v1,Gd=P(()=>{Cr();ui=At(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),g1=ui.range,pu=At(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),v1=pu.range});var ci,y1,gu,b1,Xd=P(()=>{Cr();ci=At(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),y1=ci.range,gu=At(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),b1=gu.range});var Vr,x1,ao,w1,yu,_1,jd=P(()=>{Cr();Vr=At(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),x1=Vr.range,ao=At(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),w1=ao.range,yu=At(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),_1=yu.range});function si(e){return At(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function di(e){return At(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var kr,fi,Qd,Zd,Xr,Kd,Jd,em,M1,T1,C1,A1,V1,k1,xa,mi,tm,nm,jr,rm,am,im,D1,N1,E1,P1,L1,O1,om=P(()=>{Cr();kr=si(0),fi=si(1),Qd=si(2),Zd=si(3),Xr=si(4),Kd=si(5),Jd=si(6),em=kr.range,M1=fi.range,T1=Qd.range,C1=Zd.range,A1=Xr.range,V1=Kd.range,k1=Jd.range;xa=di(0),mi=di(1),tm=di(2),nm=di(3),jr=di(4),rm=di(5),am=di(6),im=xa.range,D1=mi.range,N1=tm.range,E1=nm.range,P1=jr.range,L1=rm.range,O1=am.range});var hi,I1,bu,z1,um=P(()=>{Cr();hi=At(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),I1=hi.range,bu=At(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),z1=bu.range});var In,R1,Gn,F1,lm=P(()=>{Cr();In=At(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:At(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});R1=In.range,Gn=At(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:At(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});F1=Gn.range});function H1(e,t,n,r,a,i){let o=[[cr,1,1e3],[cr,5,5*1e3],[cr,15,15*1e3],[cr,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function l(f,h,x){let v=h<f;v&&([f,h]=[h,f]);let M=x&&typeof x.range=="function"?x:s(f,h,x),C=M?M.range(f,+h+1):[];return v?C.reverse():C}function s(f,h,x){let v=Math.abs(h-f)/x,M=ga(([,,T])=>T).right(o,v);if(M===o.length)return e.every(ti(f/31536e6,h/31536e6,x));if(M===0)return ba.every(Math.max(ti(f,h,x),1));let[C,A]=o[v/o[M-1][2]<o[M][2]/v?M-1:M];return C.every(A)}return[l,s]}var Y1,W1,Ql,Zl,$1=P(()=>{Tr();$d();qd();Gd();Xd();jd();om();um();lm();[Y1,W1]=H1(Gn,bu,xa,yu,gu,pu),[Ql,Zl]=H1(In,hi,kr,Vr,ci,ui)});var U1={};Ln(U1,{timeDay:()=>Vr,timeDays:()=>x1,timeFriday:()=>Kd,timeFridays:()=>V1,timeHour:()=>ci,timeHours:()=>y1,timeInterval:()=>At,timeMillisecond:()=>ba,timeMilliseconds:()=>Wd,timeMinute:()=>ui,timeMinutes:()=>g1,timeMonday:()=>fi,timeMondays:()=>M1,timeMonth:()=>hi,timeMonths:()=>I1,timeSaturday:()=>Jd,timeSaturdays:()=>k1,timeSecond:()=>cr,timeSeconds:()=>Ud,timeSunday:()=>kr,timeSundays:()=>em,timeThursday:()=>Xr,timeThursdays:()=>A1,timeTickInterval:()=>Zl,timeTicks:()=>Ql,timeTuesday:()=>Qd,timeTuesdays:()=>T1,timeWednesday:()=>Zd,timeWednesdays:()=>C1,timeWeek:()=>kr,timeWeeks:()=>em,timeYear:()=>In,timeYears:()=>R1,unixDay:()=>yu,unixDays:()=>_1,utcDay:()=>ao,utcDays:()=>w1,utcFriday:()=>rm,utcFridays:()=>L1,utcHour:()=>gu,utcHours:()=>b1,utcMillisecond:()=>ba,utcMilliseconds:()=>Wd,utcMinute:()=>pu,utcMinutes:()=>v1,utcMonday:()=>mi,utcMondays:()=>D1,utcMonth:()=>bu,utcMonths:()=>z1,utcSaturday:()=>am,utcSaturdays:()=>O1,utcSecond:()=>cr,utcSeconds:()=>Ud,utcSunday:()=>xa,utcSundays:()=>im,utcThursday:()=>jr,utcThursdays:()=>P1,utcTickInterval:()=>W1,utcTicks:()=>Y1,utcTuesday:()=>tm,utcTuesdays:()=>N1,utcWednesday:()=>nm,utcWednesdays:()=>E1,utcWeek:()=>xa,utcWeeks:()=>im,utcYear:()=>Gn,utcYears:()=>F1});var xu=P(()=>{Cr();$d();qd();Gd();Xd();jd();om();um();lm();$1()});var bt,qt=P(()=>{bt=Math.random});var q1,G1=P(()=>{qt();q1=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n}(bt)});var X1,j1=P(()=>{qt();X1=function e(t){function n(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return n.source=e,n}(bt)});var io,Kl=P(()=>{qt();io=function e(t){function n(r,a){var i,o;return r=r==null?0:+r,a=a==null?1:+a,function(){var l;if(i!=null)l=i,i=null;else do i=t()*2-1,l=t()*2-1,o=i*i+l*l;while(!o||o>1);return r+a*l*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(bt)});var Q1,Z1=P(()=>{qt();Kl();Q1=function e(t){var n=io.source(t);function r(){var a=n.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=e,r}(bt)});var Jl,cm=P(()=>{qt();Jl=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var a=0,i=r;i>1;--i)a+=t();return a+i*t()}}return n.source=e,n}(bt)});var K1,J1=P(()=>{qt();cm();K1=function e(t){var n=Jl.source(t);function r(a){if((a=+a)==0)return t;var i=n(a);return function(){return i()/a}}return r.source=e,r}(bt)});var ey,ty=P(()=>{qt();ey=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(bt)});var ny,ry=P(()=>{qt();ny=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(bt)});var ay,iy=P(()=>{qt();ay=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(bt)});var ec,sm=P(()=>{qt();ec=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(bt)});var oo,tc=P(()=>{qt();Kl();oo=function e(t){var n=io.source(t)();function r(a,i){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(i=i==null?1:+i,a===1)return()=>-Math.log1p(-t())*i;var o=(a<1?a+1:a)-1/3,l=1/(3*Math.sqrt(o)),s=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var f=n(),h=1+l*f;while(h<=0);h*=h*h;var x=1-t()}while(x>=1-.0331*f*f*f*f&&Math.log(x)>=.5*f*f+o*(1-h+Math.log(h)));return o*h*s()*i}}return r.source=e,r}(bt)});var nc,fm=P(()=>{qt();tc();nc=function e(t){var n=oo.source(t);function r(a,i){var o=n(a),l=n(i);return function(){var s=o();return s===0?0:s/(s+l())}}return r.source=e,r}(bt)});var rc,dm=P(()=>{qt();fm();sm();rc=function e(t){var n=ec.source(t),r=nc.source(t);function a(i,o){return i=+i,(o=+o)>=1?()=>i:o<=0?()=>0:function(){for(var l=0,s=i,f=o;s*f>16&&s*(1-f)>16;){var h=Math.floor((s+1)*f),x=r(h,s-h+1)();x<=f?(l+=h,s-=h,f=(f-x)/(1-x)):(s=h-1,f/=x)}for(var v=f<.5,M=v?f:1-f,C=n(M),A=C(),T=0;A<=s;++T)A+=C();return l+(v?T:s-T)}}return a.source=e,a}(bt)});var oy,uy=P(()=>{qt();oy=function e(t){function n(r,a,i){var o;return(r=+r)==0?o=l=>-Math.log(l):(r=1/r,o=l=>Math.pow(l,r)),a=a==null?0:+a,i=i==null?1:+i,function(){return a+i*o(-Math.log1p(-t()))}}return n.source=e,n}(bt)});var ly,cy=P(()=>{qt();ly=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return n.source=e,n}(bt)});var sy,fy=P(()=>{qt();sy=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var i=t();return r+a*Math.log(i/(1-i))}}return n.source=e,n}(bt)});var dy,my=P(()=>{qt();dm();tc();dy=function e(t){var n=oo.source(t),r=rc.source(t);function a(i){return function(){for(var o=0,l=i;l>16;){var s=Math.floor(.875*l),f=n(s)();if(f>l)return o+r(s-1,l/f)();o+=s,l-=f}for(var h=-Math.log1p(-t()),x=0;h<=l;++x)h-=Math.log1p(-t());return o+x}}return a.source=e,a}(bt)});function mm(e=Math.random()){let t=(0<=e&&e<1?e/hy:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,hy*(t>>>0))}var hy,py=P(()=>{hy=23283064365386963e-26});var gy={};Ln(gy,{randomBates:()=>K1,randomBernoulli:()=>ay,randomBeta:()=>nc,randomBinomial:()=>rc,randomCauchy:()=>ly,randomExponential:()=>ey,randomGamma:()=>oo,randomGeometric:()=>ec,randomInt:()=>X1,randomIrwinHall:()=>Jl,randomLcg:()=>mm,randomLogNormal:()=>Q1,randomLogistic:()=>sy,randomNormal:()=>io,randomPareto:()=>ny,randomPoisson:()=>dy,randomUniform:()=>q1,randomWeibull:()=>oy});var hm=P(()=>{G1();j1();Kl();Z1();J1();cm();ty();ry();iy();sm();dm();tc();fm();uy();cy();fy();my();py()});function q9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function vy(e,t){return fetch(e,t).then(q9)}var yy=P(()=>{});function G9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function by(e,t){return fetch(e,t).then(G9)}var xy=P(()=>{});function Sy(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function X9(e,t){var n=Sy(e);return function(r,a){return t(n(r),a,e)}}function _y(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function zn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function j9(e){return e<0?"-"+zn(-e,6):e>9999?"+"+zn(e,6):zn(e,4)}function Q9(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":j9(e.getUTCFullYear(),4)+"-"+zn(e.getUTCMonth()+1,2)+"-"+zn(e.getUTCDate(),2)+(a?"T"+zn(t,2)+":"+zn(n,2)+":"+zn(r,2)+"."+zn(a,3)+"Z":r?"T"+zn(t,2)+":"+zn(n,2)+":"+zn(r,2)+"Z":n||t?"T"+zn(t,2)+":"+zn(n,2)+"Z":"")}function pi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(x,v){var M,C,A=a(x,function(T,D){if(M)return M(T,D-1);C=T,M=v?X9(T,v):Sy(T)});return A.columns=C||[],A}function a(x,v){var M=[],C=x.length,A=0,T=0,D,R=C<=0,H=!1;x.charCodeAt(C-1)===wu&&--C,x.charCodeAt(C-1)===vm&&--C;function k(){if(R)return pm;if(H)return H=!1,wy;var I,j=A,Z;if(x.charCodeAt(j)===gm){for(;A++<C&&x.charCodeAt(A)!==gm||x.charCodeAt(++A)===gm;);return(I=A)>=C?R=!0:(Z=x.charCodeAt(A++))===wu?H=!0:Z===vm&&(H=!0,x.charCodeAt(A)===wu&&++A),x.slice(j+1,I-1).replace(/""/g,'"')}for(;A<C;){if((Z=x.charCodeAt(I=A++))===wu)H=!0;else if(Z===vm)H=!0,x.charCodeAt(A)===wu&&++A;else if(Z!==n)continue;return x.slice(j,I)}return R=!0,x.slice(j,C)}for(;(D=k())!==pm;){for(var z=[];D!==wy&&D!==pm;)z.push(D),D=k();v&&(z=v(z,T++))==null||M.push(z)}return M}function i(x,v){return x.map(function(M){return v.map(function(C){return h(M[C])}).join(e)})}function o(x,v){return v==null&&(v=_y(x)),[v.map(h).join(e)].concat(i(x,v)).join(`
`)}function l(x,v){return v==null&&(v=_y(x)),i(x,v).join(`
`)}function s(x){return x.map(f).join(`
`)}function f(x){return x.map(h).join(e)}function h(x){return x==null?"":x instanceof Date?Q9(x):t.test(x+="")?'"'+x.replace(/"/g,'""')+'"':x}return{parse:r,parseRows:a,format:o,formatBody:l,formatRows:s,formatRow:f,formatValue:h}}var wy,pm,gm,wu,vm,ac=P(()=>{wy={},pm={},gm=34,wu=10,vm=13});var gi,ym,Z9,K9,J9,eM,tM,nM,My=P(()=>{ac();gi=pi(","),ym=gi.parse,Z9=gi.parseRows,K9=gi.format,J9=gi.formatBody,eM=gi.formatRows,tM=gi.formatRow,nM=gi.formatValue});var vi,bm,rM,aM,iM,oM,uM,lM,Ty=P(()=>{ac();vi=pi("	"),bm=vi.parse,rM=vi.parseRows,aM=vi.format,iM=vi.formatBody,oM=vi.formatRows,uM=vi.formatRow,lM=vi.formatValue});var xm=P(()=>{ac();My();Ty()});function cM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function yi(e,t){return fetch(e,t).then(cM)}var ic=P(()=>{});function Cy(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),yi(t,n).then(function(a){return e(a,r)})}}function wm(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var a=pi(e);return yi(t,n).then(function(i){return a.parse(i,r)})}var Ay,Vy,ky=P(()=>{xm();ic();Ay=Cy(ym),Vy=Cy(bm)});function Dy(e,t){return new Promise(function(n,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){n(a)},a.src=e})}var Ny=P(()=>{});function sM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Ey(e,t){return fetch(e,t).then(sM)}var Py=P(()=>{});function _m(e){return(t,n)=>yi(t,n).then(r=>new DOMParser().parseFromString(r,e))}var Ly,Oy,Iy,zy=P(()=>{ic();Ly=_m("application/xml"),Oy=_m("text/html"),Iy=_m("image/svg+xml")});var Ry={};Ln(Ry,{blob:()=>vy,buffer:()=>by,csv:()=>Ay,dsv:()=>wm,html:()=>Oy,image:()=>Dy,json:()=>Ey,svg:()=>Iy,text:()=>yi,tsv:()=>Vy,xml:()=>Ly});var Sm=P(()=>{yy();xy();ky();Ny();Py();ic();zy()});function Fy(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function dM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fy;let n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}function Cm(){return new Qr}function By(e=3){return new Qr(+e)}var Mm,Tm,bi,fM,Qr,Hy=P(()=>{Mm=Math.PI,Tm=2*Mm,bi=1e-6,fM=Tm-bi;Qr=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Fy:dM(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=r-t,f=a-n,h=o-t,x=l-n,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>bi)if(!(Math.abs(x*s-f*h)>bi)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let M=r-o,C=a-l,A=s*s+f*f,T=M*M+C*C,D=Math.sqrt(A),R=Math.sqrt(v),H=i*Math.tan((Mm-Math.acos((A+v-T)/(2*D*R)))/2),k=H/R,z=H/D;Math.abs(k-1)>bi&&this._append`L${t+k*h},${n+k*x}`,this._append`A${i},${i},0,0,${+(x*M>h*C)},${this._x1=t+z*s},${this._y1=n+z*f}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),s=r*Math.sin(a),f=t+l,h=n+s,x=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>bi||Math.abs(this._y1-h)>bi)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Tm+Tm),v>fM?this._append`A${r},${r},0,1,${x},${t-l},${n-s}A${r},${r},0,1,${x},${this._x1=f},${this._y1=h}`:v>bi&&this._append`A${r},${r},0,${+(v>=Mm)},${x},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};Cm.prototype=Qr.prototype});var Yy={};Ln(Yy,{Path:()=>Qr,path:()=>Cm,pathRound:()=>By});var oc=P(()=>{Hy()});var uc,_u,lc=P(()=>{uc="http://www.w3.org/1999/xhtml",_u={svg:"http://www.w3.org/2000/svg",xhtml:uc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Dr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_u.hasOwnProperty(t)?{space:_u[t],local:e}:e}var cc=P(()=>{lc()});function mM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===uc&&t.documentElement.namespaceURI===uc?t.createElement(e):t.createElementNS(n,e)}}function hM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wa(e){var t=Dr(e);return(t.local?hM:mM)(t)}var Su=P(()=>{cc();lc()});function pM(){}function _a(e){return e==null?pM:function(){return this.querySelector(e)}}var sc=P(()=>{});function Wy(e){typeof e!="function"&&(e=_a(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,h=0;h<o;++h)(s=i[h])&&(f=e.call(s,s.__data__,h,i))&&("__data__"in s&&(f.__data__=s.__data__),l[h]=f);return new Pt(r,this._parents)}var $y=P(()=>{Xn();sc()});function Mu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var Am=P(()=>{});function gM(){return[]}function uo(e){return e==null?gM:function(){return this.querySelectorAll(e)}}var Vm=P(()=>{});function vM(e){return function(){return Mu(e.apply(this,arguments))}}function Uy(e){typeof e=="function"?e=vM(e):e=uo(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new Pt(r,a)}var qy=P(()=>{Xn();Am();Vm()});function lo(e){return function(){return this.matches(e)}}function fc(e){return function(t){return t.matches(e)}}var Tu=P(()=>{});function bM(e){return function(){return yM.call(this.children,e)}}function xM(){return this.firstElementChild}function Gy(e){return this.select(e==null?xM:bM(typeof e=="function"?e:fc(e)))}var yM,Xy=P(()=>{Tu();yM=Array.prototype.find});function _M(){return Array.from(this.children)}function SM(e){return function(){return wM.call(this.children,e)}}function jy(e){return this.selectAll(e==null?_M:SM(typeof e=="function"?e:fc(e)))}var wM,Qy=P(()=>{Tu();wM=Array.prototype.filter});function Zy(e){typeof e!="function"&&(e=lo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new Pt(r,this._parents)}var Ky=P(()=>{Xn();Tu()});function dc(e){return new Array(e.length)}var km=P(()=>{});function Jy(){return new Pt(this._enter||this._groups.map(dc),this._parents)}function Cu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Dm=P(()=>{km();Xn();Cu.prototype={constructor:Cu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function eb(e){return function(){return e}}var tb=P(()=>{});function MM(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Cu(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function TM(e,t,n,r,a,i,o){var l,s,f=new Map,h=t.length,x=i.length,v=new Array(h),M;for(l=0;l<h;++l)(s=t[l])&&(v[l]=M=o.call(s,s.__data__,l,t)+"",f.has(M)?a[l]=s:f.set(M,s));for(l=0;l<x;++l)M=o.call(e,i[l],l,i)+"",(s=f.get(M))?(r[l]=s,s.__data__=i[l],f.delete(M)):n[l]=new Cu(e,i[l]);for(l=0;l<h;++l)(s=t[l])&&f.get(v[l])===s&&(a[l]=s)}function CM(e){return e.__data__}function nb(e,t){if(!arguments.length)return Array.from(this,CM);var n=t?TM:MM,r=this._parents,a=this._groups;typeof e!="function"&&(e=eb(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var h=r[f],x=a[f],v=x.length,M=AM(e.call(h,h&&h.__data__,f,r)),C=M.length,A=l[f]=new Array(C),T=o[f]=new Array(C),D=s[f]=new Array(v);n(h,x,A,T,D,M,t);for(var R=0,H=0,k,z;R<C;++R)if(k=A[R]){for(R>=H&&(H=R+1);!(z=T[H])&&++H<C;);k._next=z||null}}return o=new Pt(o,r),o._enter=l,o._exit=s,o}function AM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var rb=P(()=>{Xn();Dm();tb()});function ab(){return new Pt(this._exit||this._groups.map(dc),this._parents)}var ib=P(()=>{km();Xn()});function ob(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}var ub=P(()=>{});function lb(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),s=0;s<o;++s)for(var f=n[s],h=r[s],x=f.length,v=l[s]=new Array(x),M,C=0;C<x;++C)(M=f[C]||h[C])&&(v[C]=M);for(;s<a;++s)l[s]=n[s];return new Pt(l,this._parents)}var cb=P(()=>{Xn()});function sb(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}var fb=P(()=>{});function db(e){e||(e=VM);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(s[h]=f);s.sort(t)}return new Pt(a,this._parents).order()}function VM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var mb=P(()=>{Xn()});function hb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var pb=P(()=>{});function gb(){return Array.from(this)}var vb=P(()=>{});function yb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}var bb=P(()=>{});function xb(){let e=0;for(let t of this)++e;return e}var wb=P(()=>{});function _b(){return!this.node()}var Sb=P(()=>{});function Mb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}var Tb=P(()=>{});function kM(e){return function(){this.removeAttribute(e)}}function DM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NM(e,t){return function(){this.setAttribute(e,t)}}function EM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function PM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function LM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Cb(e,t){var n=Dr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?DM:kM:typeof t=="function"?n.local?LM:PM:n.local?EM:NM)(n,t))}var Ab=P(()=>{cc()});function co(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var mc=P(()=>{});function OM(e){return function(){this.style.removeProperty(e)}}function IM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Vb(e,t,n){return arguments.length>1?this.each((t==null?OM:typeof t=="function"?zM:IM)(e,t,n??"")):Zr(this.node(),e)}function Zr(e,t){return e.style.getPropertyValue(t)||co(e).getComputedStyle(e,null).getPropertyValue(t)}var Nm=P(()=>{mc()});function RM(e){return function(){delete this[e]}}function FM(e,t){return function(){this[e]=t}}function BM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kb(e,t){return arguments.length>1?this.each((t==null?RM:typeof t=="function"?BM:FM)(e,t)):this.node()[e]}var Db=P(()=>{});function Nb(e){return e.trim().split(/^|\s+/)}function Em(e){return e.classList||new Eb(e)}function Eb(e){this._node=e,this._names=Nb(e.getAttribute("class")||"")}function Pb(e,t){for(var n=Em(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Lb(e,t){for(var n=Em(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function HM(e){return function(){Pb(this,e)}}function YM(e){return function(){Lb(this,e)}}function WM(e,t){return function(){(t.apply(this,arguments)?Pb:Lb)(this,e)}}function Ob(e,t){var n=Nb(e+"");if(arguments.length<2){for(var r=Em(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?WM:t?HM:YM)(n,t))}var Ib=P(()=>{Eb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function $M(){this.textContent=""}function UM(e){return function(){this.textContent=e}}function qM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zb(e){return arguments.length?this.each(e==null?$M:(typeof e=="function"?qM:UM)(e)):this.node().textContent}var Rb=P(()=>{});function GM(){this.innerHTML=""}function XM(e){return function(){this.innerHTML=e}}function jM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fb(e){return arguments.length?this.each(e==null?GM:(typeof e=="function"?jM:XM)(e)):this.node().innerHTML}var Bb=P(()=>{});function QM(){this.nextSibling&&this.parentNode.appendChild(this)}function Hb(){return this.each(QM)}var Yb=P(()=>{});function ZM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wb(){return this.each(ZM)}var $b=P(()=>{});function Ub(e){var t=typeof e=="function"?e:wa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var qb=P(()=>{Su()});function KM(){return null}function Gb(e,t){var n=typeof e=="function"?e:wa(e),r=t==null?KM:typeof t=="function"?t:_a(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}var Xb=P(()=>{Su();sc()});function JM(){var e=this.parentNode;e&&e.removeChild(this)}function jb(){return this.each(JM)}var Qb=P(()=>{});function eT(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tT(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zb(e){return this.select(e?tT:eT)}var Kb=P(()=>{});function Jb(e){return arguments.length?this.property("__data__",e):this.node().__data__}var ex=P(()=>{});function nT(e){return function(t){e.call(this,t,this.__data__)}}function rT(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aT(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function iT(e,t,n){return function(){var r=this.__on,a,i=nT(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function tx(e,t,n){var r=rT(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,h;s<f;++s)for(a=0,h=l[s];a<i;++a)if((o=r[a]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?iT:aT,a=0;a<i;++a)this.each(l(r[a],t,n));return this}var nx=P(()=>{});function rx(e,t,n){var r=co(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function oT(e,t){return function(){return rx(this,e,t)}}function uT(e,t){return function(){return rx(this,e,t.apply(this,arguments))}}function ax(e,t){return this.each((typeof t=="function"?uT:oT)(e,t))}var ix=P(()=>{mc()});function*ox(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var ux=P(()=>{});function Pt(e,t){this._groups=e,this._parents=t}function lx(){return new Pt([[document.documentElement]],Au)}function lT(){return this}var Au,Nr,Xn=P(()=>{$y();qy();Xy();Qy();Ky();rb();Dm();ib();ub();cb();fb();mb();pb();vb();bb();wb();Sb();Tb();Ab();Nm();Db();Ib();Rb();Bb();Yb();$b();qb();Xb();Qb();Kb();ex();nx();ix();ux();Au=[null];Pt.prototype=lx.prototype={constructor:Pt,select:Wy,selectAll:Uy,selectChild:Gy,selectChildren:jy,filter:Zy,data:nb,enter:Jy,exit:ab,join:ob,merge:lb,selection:lT,order:sb,sort:db,call:hb,nodes:gb,node:yb,size:xb,empty:_b,each:Mb,attr:Cb,style:Vb,property:kb,classed:Ob,text:zb,html:Fb,raise:Hb,lower:Wb,append:Ub,insert:Gb,remove:jb,clone:Zb,datum:Jb,on:tx,dispatch:ax,[Symbol.iterator]:ox};Nr=lx});function Re(e){return typeof e=="string"?new Pt([[document.querySelector(e)]],[document.documentElement]):new Pt([[e]],Au)}var Pm=P(()=>{Xn()});function cx(e){return Re(wa(e).call(document.documentElement))}var sx=P(()=>{Su();Pm()});function hc(){return new Lm}function Lm(){this._="@"+(++cT).toString(36)}var cT,fx=P(()=>{cT=0;Lm.prototype=hc.prototype={constructor:Lm,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function pc(e){let t;for(;t=e.sourceEvent;)e=t;return e}var Om=P(()=>{});function Gt(e,t){if(e=pc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Im=P(()=>{Om()});function dx(e,t){return e.target&&(e=pc(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Gt(n,t))}var mx=P(()=>{Im();Om()});function gc(e){return typeof e=="string"?new Pt([document.querySelectorAll(e)],[document.documentElement]):new Pt([Mu(e)],Au)}var hx=P(()=>{Am();Xn()});var px={};Ln(px,{create:()=>cx,creator:()=>wa,local:()=>hc,matcher:()=>lo,namespace:()=>Dr,namespaces:()=>_u,pointer:()=>Gt,pointers:()=>dx,select:()=>Re,selectAll:()=>gc,selection:()=>Nr,selector:()=>_a,selectorAll:()=>uo,style:()=>Zr,window:()=>co});var vn=P(()=>{sx();Su();fx();Tu();cc();lc();Im();mx();Pm();hx();Xn();sc();Vm();Nm();mc()});function tt(e){return function(){return e}}var Sa=P(()=>{});function vx(e){return e>1?0:e<-1?fr:Math.acos(e)}function Rm(e){return e>=1?Vu:e<=-1?-Vu:Math.asin(e)}var zm,ln,sr,gx,Er,yn,st,Xt,fr,Vu,jn,cn=P(()=>{zm=Math.abs,ln=Math.atan2,sr=Math.cos,gx=Math.max,Er=Math.min,yn=Math.sin,st=Math.sqrt,Xt=1e-12,fr=Math.PI,Vu=fr/2,jn=2*fr});function Pr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qr(t)}var so=P(()=>{oc()});function sT(e){return e.innerRadius}function fT(e){return e.outerRadius}function dT(e){return e.startAngle}function mT(e){return e.endAngle}function hT(e){return e&&e.padAngle}function pT(e,t,n,r,a,i,o,l){var s=n-e,f=r-t,h=o-a,x=l-i,v=x*s-h*f;if(!(v*v<Xt))return v=(h*(t-i)-x*(e-a))/v,[e+v*s,t+v*f]}function vc(e,t,n,r,a,i,o){var l=e-n,s=t-r,f=(o?i:-i)/st(l*l+s*s),h=f*s,x=-f*l,v=e+h,M=t+x,C=n+h,A=r+x,T=(v+C)/2,D=(M+A)/2,R=C-v,H=A-M,k=R*R+H*H,z=a-i,I=v*A-C*M,j=(H<0?-1:1)*st(gx(0,z*z*k-I*I)),Z=(I*H-R*j)/k,be=(-I*R-H*j)/k,pe=(I*H+R*j)/k,oe=(-I*R+H*j)/k,ze=Z-T,de=be-D,$=pe-T,we=oe-D;return ze*ze+de*de>$*$+we*we&&(Z=pe,be=oe),{cx:Z,cy:be,x01:-h,y01:-x,x11:Z*(a/z-1),y11:be*(a/z-1)}}function yc(){var e=sT,t=fT,n=tt(0),r=null,a=dT,i=mT,o=hT,l=null,s=Pr(f);function f(){var h,x,v=+e.apply(this,arguments),M=+t.apply(this,arguments),C=a.apply(this,arguments)-Vu,A=i.apply(this,arguments)-Vu,T=zm(A-C),D=A>C;if(l||(l=h=s()),M<v&&(x=M,M=v,v=x),!(M>Xt))l.moveTo(0,0);else if(T>jn-Xt)l.moveTo(M*sr(C),M*yn(C)),l.arc(0,0,M,C,A,!D),v>Xt&&(l.moveTo(v*sr(A),v*yn(A)),l.arc(0,0,v,A,C,D));else{var R=C,H=A,k=C,z=A,I=T,j=T,Z=o.apply(this,arguments)/2,be=Z>Xt&&(r?+r.apply(this,arguments):st(v*v+M*M)),pe=Er(zm(M-v)/2,+n.apply(this,arguments)),oe=pe,ze=pe,de,$;if(be>Xt){var we=Rm(be/v*yn(Z)),te=Rm(be/M*yn(Z));(I-=we*2)>Xt?(we*=D?1:-1,k+=we,z-=we):(I=0,k=z=(C+A)/2),(j-=te*2)>Xt?(te*=D?1:-1,R+=te,H-=te):(j=0,R=H=(C+A)/2)}var ae=M*sr(R),ge=M*yn(R),ye=v*sr(z),ce=v*yn(z);if(pe>Xt){var ke=M*sr(H),Le=M*yn(H),Se=v*sr(k),He=v*yn(k),X;if(T<fr)if(X=pT(ae,ge,Se,He,ke,Le,ye,ce)){var he=ae-X[0],ue=ge-X[1],me=ke-X[0],Q=Le-X[1],K=1/yn(vx((he*me+ue*Q)/(st(he*he+ue*ue)*st(me*me+Q*Q)))/2),Ce=st(X[0]*X[0]+X[1]*X[1]);oe=Er(pe,(v-Ce)/(K-1)),ze=Er(pe,(M-Ce)/(K+1))}else oe=ze=0}j>Xt?ze>Xt?(de=vc(Se,He,ae,ge,M,ze,D),$=vc(ke,Le,ye,ce,M,ze,D),l.moveTo(de.cx+de.x01,de.cy+de.y01),ze<pe?l.arc(de.cx,de.cy,ze,ln(de.y01,de.x01),ln($.y01,$.x01),!D):(l.arc(de.cx,de.cy,ze,ln(de.y01,de.x01),ln(de.y11,de.x11),!D),l.arc(0,0,M,ln(de.cy+de.y11,de.cx+de.x11),ln($.cy+$.y11,$.cx+$.x11),!D),l.arc($.cx,$.cy,ze,ln($.y11,$.x11),ln($.y01,$.x01),!D))):(l.moveTo(ae,ge),l.arc(0,0,M,R,H,!D)):l.moveTo(ae,ge),!(v>Xt)||!(I>Xt)?l.lineTo(ye,ce):oe>Xt?(de=vc(ye,ce,ke,Le,v,-oe,D),$=vc(ae,ge,Se,He,v,-oe,D),l.lineTo(de.cx+de.x01,de.cy+de.y01),oe<pe?l.arc(de.cx,de.cy,oe,ln(de.y01,de.x01),ln($.y01,$.x01),!D):(l.arc(de.cx,de.cy,oe,ln(de.y01,de.x01),ln(de.y11,de.x11),!D),l.arc(0,0,v,ln(de.cy+de.y11,de.cx+de.x11),ln($.cy+$.y11,$.cx+$.x11),D),l.arc($.cx,$.cy,oe,ln($.y11,$.x11),ln($.y01,$.x01),!D))):l.arc(0,0,v,z,k,D)}if(l.closePath(),h)return l=null,h+""||null}return f.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,x=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-fr/2;return[sr(x)*h,yn(x)*h]},f.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:tt(+h),f):e},f.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:tt(+h),f):t},f.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:tt(+h),f):n},f.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:tt(+h),f):r},f.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:tt(+h),f):a},f.endAngle=function(h){return arguments.length?(i=typeof h=="function"?h:tt(+h),f):i},f.padAngle=function(h){return arguments.length?(o=typeof h=="function"?h:tt(+h),f):o},f.context=function(h){return arguments.length?(l=h??null,f):l},f}var yx=P(()=>{Sa();cn();so()});function Ma(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var bx,fo=P(()=>{bx=Array.prototype.slice});function xx(e){this._context=e}function Ta(e){return new xx(e)}var ku=P(()=>{xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function mo(e){return e[0]}function ho(e){return e[1]}var bc=P(()=>{});function Ca(e,t){var n=tt(!0),r=null,a=Ta,i=null,o=Pr(l);e=typeof e=="function"?e:e===void 0?mo:tt(e),t=typeof t=="function"?t:t===void 0?ho:tt(t);function l(s){var f,h=(s=Ma(s)).length,x,v=!1,M;for(r==null&&(i=a(M=o())),f=0;f<=h;++f)!(f<h&&n(x=s[f],f,s))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(x,f,s),+t(x,f,s));if(M)return i=null,M+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:tt(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:tt(!!s),l):n},l.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),l):a},l.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),l):r},l}var xc=P(()=>{fo();Sa();ku();so();bc()});function wc(e,t,n){var r=null,a=tt(!0),i=null,o=Ta,l=null,s=Pr(f);e=typeof e=="function"?e:e===void 0?mo:tt(+e),t=typeof t=="function"?t:t===void 0?tt(0):tt(+t),n=typeof n=="function"?n:n===void 0?ho:tt(+n);function f(x){var v,M,C,A=(x=Ma(x)).length,T,D=!1,R,H=new Array(A),k=new Array(A);for(i==null&&(l=o(R=s())),v=0;v<=A;++v){if(!(v<A&&a(T=x[v],v,x))===D)if(D=!D)M=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),C=v-1;C>=M;--C)l.point(H[C],k[C]);l.lineEnd(),l.areaEnd()}D&&(H[v]=+e(T,v,x),k[v]=+t(T,v,x),l.point(r?+r(T,v,x):H[v],n?+n(T,v,x):k[v]))}if(R)return l=null,R+""||null}function h(){return Ca().defined(a).curve(o).context(i)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:tt(+x),r=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:tt(+x),f):e},f.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:tt(+x),f):r},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:tt(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:tt(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:tt(+x),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(x){return arguments.length?(a=typeof x=="function"?x:tt(!!x),f):a},f.curve=function(x){return arguments.length?(o=x,i!=null&&(l=o(i)),f):o},f.context=function(x){return arguments.length?(x==null?i=l=null:l=o(i=x),f):i},f}var Fm=P(()=>{fo();Sa();ku();xc();so();bc()});function wx(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var _x=P(()=>{});function Sx(e){return e}var Mx=P(()=>{});function Tx(){var e=Sx,t=wx,n=null,r=tt(0),a=tt(jn),i=tt(0);function o(l){var s,f=(l=Ma(l)).length,h,x,v=0,M=new Array(f),C=new Array(f),A=+r.apply(this,arguments),T=Math.min(jn,Math.max(-jn,a.apply(this,arguments)-A)),D,R=Math.min(Math.abs(T)/f,i.apply(this,arguments)),H=R*(T<0?-1:1),k;for(s=0;s<f;++s)(k=C[M[s]=s]=+e(l[s],s,l))>0&&(v+=k);for(t!=null?M.sort(function(z,I){return t(C[z],C[I])}):n!=null&&M.sort(function(z,I){return n(l[z],l[I])}),s=0,x=v?(T-f*H)/v:0;s<f;++s,A=D)h=M[s],k=C[h],D=A+(k>0?k*x:0)+H,C[h]={data:l[h],index:s,value:k,startAngle:A,endAngle:D,padAngle:R};return C}return o.value=function(l){return arguments.length?(e=typeof l=="function"?l:tt(+l),o):e},o.sortValues=function(l){return arguments.length?(t=l,n=null,o):t},o.sort=function(l){return arguments.length?(n=l,t=null,o):n},o.startAngle=function(l){return arguments.length?(r=typeof l=="function"?l:tt(+l),o):r},o.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:tt(+l),o):a},o.padAngle=function(l){return arguments.length?(i=typeof l=="function"?l:tt(+l),o):i},o}var Cx=P(()=>{fo();Sa();_x();Mx();cn()});function Ax(e){this._curve=e}function po(e){function t(n){return new Ax(e(n))}return t._curve=e,t}var _c,Bm=P(()=>{ku();_c=po(Ta);Ax.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function go(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(po(n)):t()._curve},e}function Hm(){return go(Ca().curve(_c))}var Ym=P(()=>{Bm();xc()});function Wm(){var e=wc().curve(_c),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return go(n())},delete e.lineX0,e.lineEndAngle=function(){return go(r())},delete e.lineX1,e.lineInnerRadius=function(){return go(a())},delete e.lineY0,e.lineOuterRadius=function(){return go(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(po(o)):t()._curve},e}var Vx=P(()=>{Bm();Fm();Ym()});function xi(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var $m=P(()=>{});function Mc(e){return new Sc(e,!0)}function Tc(e){return new Sc(e,!1)}function kx(e){return new Um(e)}var Sc,Um,qm=P(()=>{$m();Sc=class{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}},Um=class{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{let r=xi(this._x0,this._y0),a=xi(this._x0,this._y0=(this._y0+n)/2),i=xi(t,this._y0),o=xi(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...a,...i,...o)}this._x0=t,this._y0=n}}});function gT(e){return e.source}function vT(e){return e.target}function Du(e){let t=gT,n=vT,r=mo,a=ho,i=null,o=null,l=Pr(s);function s(){let f,h=bx.call(arguments),x=t.apply(this,h),v=n.apply(this,h);if(i==null&&(o=e(f=l())),o.lineStart(),h[0]=x,o.point(+r.apply(this,h),+a.apply(this,h)),h[0]=v,o.point(+r.apply(this,h),+a.apply(this,h)),o.lineEnd(),f)return o=null,f+""||null}return s.source=function(f){return arguments.length?(t=f,s):t},s.target=function(f){return arguments.length?(n=f,s):n},s.x=function(f){return arguments.length?(r=typeof f=="function"?f:tt(+f),s):r},s.y=function(f){return arguments.length?(a=typeof f=="function"?f:tt(+f),s):a},s.context=function(f){return arguments.length?(f==null?i=o=null:o=e(i=f),s):i},s}function Dx(){return Du(Mc)}function Nx(){return Du(Tc)}function Ex(){let e=Du(kx);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var Px=P(()=>{fo();Sa();qm();so();bc()});var yT,Cc,Gm=P(()=>{cn();yT=st(3),Cc={draw(e,t){let n=st(t+Er(t/28,.75))*.59436,r=n/2,a=r*yT;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-a,-r),e.lineTo(a,r),e.moveTo(-a,r),e.lineTo(a,-r)}}});var dr,Xm=P(()=>{cn();dr={draw(e,t){let n=st(t/fr);e.moveTo(n,0),e.arc(0,0,n,0,jn)}}});var wi,jm=P(()=>{cn();wi={draw(e,t){let n=st(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}});var Lx,bT,_i,Qm=P(()=>{cn();Lx=st(1/3),bT=Lx*2,_i={draw(e,t){let n=st(t/bT),r=n*Lx;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}}});var Ac,Zm=P(()=>{cn();Ac={draw(e,t){let n=st(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}}});var Vc,Km=P(()=>{cn();Vc={draw(e,t){let n=st(t-Er(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}}});var Si,Jm=P(()=>{cn();Si={draw(e,t){let n=st(t),r=-n/2;e.rect(r,r,n,n)}}});var kc,eh=P(()=>{cn();kc={draw(e,t){let n=st(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}}});var xT,Ox,wT,_T,Mi,th=P(()=>{cn();xT=.8908130915292852,Ox=yn(fr/10)/yn(7*fr/10),wT=yn(jn/10)*Ox,_T=-sr(jn/10)*Ox,Mi={draw(e,t){let n=st(t*xT),r=wT*n,a=_T*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){let o=jn*i/5,l=sr(o),s=yn(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*a,s*r+l*a)}e.closePath()}}});var nh,Ti,rh=P(()=>{cn();nh=st(3),Ti={draw(e,t){let n=-st(t/(nh*3));e.moveTo(0,n*2),e.lineTo(-nh*n,-n),e.lineTo(nh*n,-n),e.closePath()}}});var ST,Dc,ah=P(()=>{cn();ST=st(3),Dc={draw(e,t){let n=st(t)*.6824,r=n/2,a=n*ST/2;e.moveTo(0,-n),e.lineTo(a,r),e.lineTo(-a,r),e.closePath()}}});var Qn,Zn,ih,MT,Ci,oh=P(()=>{cn();Qn=-.5,Zn=st(3)/2,ih=1/st(12),MT=(ih/2+1)*3,Ci={draw(e,t){let n=st(t/MT),r=n/2,a=n*ih,i=r,o=n*ih+n,l=-i,s=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(Qn*r-Zn*a,Zn*r+Qn*a),e.lineTo(Qn*i-Zn*o,Zn*i+Qn*o),e.lineTo(Qn*l-Zn*s,Zn*l+Qn*s),e.lineTo(Qn*r+Zn*a,Qn*a-Zn*r),e.lineTo(Qn*i+Zn*o,Qn*o-Zn*i),e.lineTo(Qn*l+Zn*s,Qn*s-Zn*l),e.closePath()}}});var Nu,uh=P(()=>{cn();Nu={draw(e,t){let n=st(t-Er(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}}});function Eu(e,t){let n=null,r=Pr(a);e=typeof e=="function"?e:tt(e||dr),t=typeof t=="function"?t:tt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:tt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:tt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}var lh,Ix,zx=P(()=>{Sa();so();Gm();Xm();jm();Qm();Zm();Km();Jm();eh();th();rh();ah();oh();uh();lh=[dr,wi,_i,Si,Mi,Ti,Ci],Ix=[dr,Vc,Nu,Dc,Cc,kc,Ac]});function Kn(){}var Pu=P(()=>{});function vo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Lu(e){this._context=e}function Rx(e){return new Lu(e)}var Ou=P(()=>{Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Fx(e){this._context=e}function Bx(e){return new Fx(e)}var Hx=P(()=>{Pu();Ou();Fx.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Yx(e){this._context=e}function Wx(e){return new Yx(e)}var $x=P(()=>{Ou();Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Ux(e,t){this._basis=new Lu(e),this._beta=t}var qx,Gx=P(()=>{Ou();Ux.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],i=e[n]-r,o=t[n]-a,l=-1,s;++l<=n;)s=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+s*i),this._beta*t[l]+(1-this._beta)*(a+s*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};qx=function e(t){function n(r){return t===1?new Lu(r):new Ux(r,t)}return n.beta=function(r){return e(+r)},n}(.85)});function yo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Nc(e,t){this._context=e,this._k=(1-t)/6}var Xx,Iu=P(()=>{Nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Xx=function e(t){function n(r){return new Nc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Ec(e,t){this._context=e,this._k=(1-t)/6}var jx,ch=P(()=>{Pu();Iu();Ec.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};jx=function e(t){function n(r){return new Ec(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Pc(e,t){this._context=e,this._k=(1-t)/6}var Qx,sh=P(()=>{Iu();Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Qx=function e(t){function n(r){return new Pc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function zu(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Xt){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Xt){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*f+e._x1*e._l23_2a-t*e._l12_2a)/h,o=(o*f+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function Zx(e,t){this._context=e,this._alpha=t}var Kx,Lc=P(()=>{cn();Iu();Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Kx=function e(t){function n(r){return t?new Zx(r,t):new Nc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function Jx(e,t){this._context=e,this._alpha=t}var e2,t2=P(()=>{ch();Pu();Lc();Jx.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};e2=function e(t){function n(r){return t?new Jx(r,t):new Ec(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function n2(e,t){this._context=e,this._alpha=t}var r2,a2=P(()=>{sh();Lc();n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};r2=function e(t){function n(r){return t?new n2(r,t):new Pc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function i2(e){this._context=e}function o2(e){return new i2(e)}var u2=P(()=>{Pu();i2.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function l2(e){return e<0?-1:1}function c2(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(l2(i)+l2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function s2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fh(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Oc(e){this._context=e}function f2(e){this._context=new d2(e)}function d2(e){this._context=e}function m2(e){return new Oc(e)}function h2(e){return new f2(e)}var p2=P(()=>{Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fh(this,this._t0,s2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fh(this,s2(this,n=c2(this,e,t)),n);break;default:fh(this,this._t0,n=c2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};(f2.prototype=Object.create(Oc.prototype)).point=function(e,t){Oc.prototype.point.call(this,t,e)};d2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}}});function v2(e){this._context=e}function g2(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function y2(e){return new v2(e)}var b2=P(()=>{v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=g2(e),a=g2(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function Ic(e,t){this._context=e,this._t=t}function x2(e){return new Ic(e,.5)}function w2(e){return new Ic(e,0)}function _2(e){return new Ic(e,1)}var S2=P(()=>{Ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}}});function mr(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}var bo=P(()=>{});function hr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}var xo=P(()=>{});function TT(e,t){return e[t]}function CT(e){let t=[];return t.key=e,t}function M2(){var e=tt([]),t=hr,n=mr,r=TT;function a(i){var o=Array.from(e.apply(this,arguments),CT),l,s=o.length,f=-1,h;for(let x of i)for(l=0,++f;l<s;++l)(o[l][f]=[0,+r(x,o[l].key,f,i)]).data=x;for(l=0,h=Ma(t(o));l<s;++l)o[h[l]].index=l;return n(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:tt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?hr:typeof i=="function"?i:tt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??mr,a):n},a}var T2=P(()=>{fo();Sa();bo();xo()});function C2(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}mr(e,t)}}var A2=P(()=>{bo()});function V2(e,t){if((s=e.length)>0)for(var n,r=0,a,i,o,l,s,f=e[t[0]].length;r<f;++r)for(o=l=0,n=0;n<s;++n)(i=(a=e[t[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=l,a[0]=l+=i):(a[0]=0,a[1]=i)}var k2=P(()=>{});function D2(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}mr(e,t)}}var N2=P(()=>{bo()});function E2(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,s=0,f=0;l<o;++l){for(var h=e[t[l]],x=h[r][1]||0,v=h[r-1][1]||0,M=(x-v)/2,C=0;C<l;++C){var A=e[t[C]],T=A[r][1]||0,D=A[r-1][1]||0;M+=T-D}s+=x,f+=M*x}a[r-1][1]+=a[r-1][0]=n,s&&(n-=f/s)}a[r-1][1]+=a[r-1][0]=n,mr(e,t)}}var P2=P(()=>{bo()});function zc(e){var t=e.map(AT);return hr(e).sort(function(n,r){return t[n]-t[r]})}function AT(e){for(var t=-1,n=0,r=e.length,a,i=-1/0;++t<r;)(a=+e[t][1])>i&&(i=a,n=t);return n}var dh=P(()=>{xo()});function Rc(e){var t=e.map(mh);return hr(e).sort(function(n,r){return t[n]-t[r]})}function mh(e){for(var t=0,n=-1,r=e.length,a;++n<r;)(a=+e[n][1])&&(t+=a);return t}var Fc=P(()=>{xo()});function L2(e){return Rc(e).reverse()}var O2=P(()=>{Fc()});function I2(e){var t=e.length,n,r,a=e.map(mh),i=zc(e),o=0,l=0,s=[],f=[];for(n=0;n<t;++n)r=i[n],o<l?(o+=a[r],s.push(r)):(l+=a[r],f.push(r));return f.reverse().concat(s)}var z2=P(()=>{dh();Fc()});function R2(e){return hr(e).reverse()}var F2=P(()=>{xo()});var B2={};Ln(B2,{arc:()=>yc,area:()=>wc,areaRadial:()=>Wm,curveBasis:()=>Rx,curveBasisClosed:()=>Bx,curveBasisOpen:()=>Wx,curveBumpX:()=>Mc,curveBumpY:()=>Tc,curveBundle:()=>qx,curveCardinal:()=>Xx,curveCardinalClosed:()=>jx,curveCardinalOpen:()=>Qx,curveCatmullRom:()=>Kx,curveCatmullRomClosed:()=>e2,curveCatmullRomOpen:()=>r2,curveLinear:()=>Ta,curveLinearClosed:()=>o2,curveMonotoneX:()=>m2,curveMonotoneY:()=>h2,curveNatural:()=>y2,curveStep:()=>x2,curveStepAfter:()=>_2,curveStepBefore:()=>w2,line:()=>Ca,lineRadial:()=>Hm,link:()=>Du,linkHorizontal:()=>Dx,linkRadial:()=>Ex,linkVertical:()=>Nx,pie:()=>Tx,pointRadial:()=>xi,radialArea:()=>Wm,radialLine:()=>Hm,stack:()=>M2,stackOffsetDiverging:()=>V2,stackOffsetExpand:()=>C2,stackOffsetNone:()=>mr,stackOffsetSilhouette:()=>D2,stackOffsetWiggle:()=>E2,stackOrderAppearance:()=>zc,stackOrderAscending:()=>Rc,stackOrderDescending:()=>L2,stackOrderInsideOut:()=>I2,stackOrderNone:()=>hr,stackOrderReverse:()=>R2,symbol:()=>Eu,symbolAsterisk:()=>Cc,symbolCircle:()=>dr,symbolCross:()=>wi,symbolDiamond:()=>_i,symbolDiamond2:()=>Ac,symbolPlus:()=>Vc,symbolSquare:()=>Si,symbolSquare2:()=>kc,symbolStar:()=>Mi,symbolTimes:()=>Nu,symbolTriangle:()=>Ti,symbolTriangle2:()=>Dc,symbolWye:()=>Ci,symbolX:()=>Nu,symbols:()=>lh,symbolsFill:()=>lh,symbolsStroke:()=>Ix});var hh=P(()=>{yx();Fm();xc();Cx();Vx();Ym();$m();Px();zx();Gm();Xm();jm();Qm();Zm();Km();Jm();eh();th();rh();ah();oh();uh();Hx();$x();Ou();qm();Gx();ch();sh();Iu();t2();a2();Lc();u2();ku();p2();b2();S2();T2();A2();k2();bo();N2();P2();dh();Fc();O2();z2();xo();F2()});function Be(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var lt=P(()=>{});var H2,Y2=P(()=>{lt();H2=Be("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var W2,$2=P(()=>{lt();W2=Be("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var U2,q2=P(()=>{lt();U2=Be("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var G2,X2=P(()=>{lt();G2=Be("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0")});var j2,Q2=P(()=>{lt();j2=Be("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var Z2,K2=P(()=>{lt();Z2=Be("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var J2,ew=P(()=>{lt();J2=Be("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var tw,nw=P(()=>{lt();tw=Be("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var rw,aw=P(()=>{lt();rw=Be("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var iw,ow=P(()=>{lt();iw=Be("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var uw,lw=P(()=>{lt();uw=Be("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});function wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ru(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}var ph=P(()=>{});function Di(){}function sw(){return this.rgb().formatHex()}function OT(){return this.rgb().formatHex8()}function IT(){return vw(this).formatHsl()}function fw(){return this.rgb().formatRgb()}function bn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dw(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kT.exec(e))?new sn(t[1],t[2],t[3],1):(t=DT.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NT.exec(e))?Bc(t[1],t[2],t[3],t[4]):(t=ET.exec(e))?Bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PT.exec(e))?pw(t[1],t[2]/100,t[3]/100,1):(t=LT.exec(e))?pw(t[1],t[2]/100,t[3]/100,t[4]):cw.hasOwnProperty(e)?dw(cw[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function dw(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Bc(e,t,n,r){return r<=0&&(e=t=n=NaN),new sn(e,t,n,r)}function vh(e){return e instanceof Di||(e=bn(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Va(e,t,n,r){return arguments.length===1?vh(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mw(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}`}function zT(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}${Ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function hw(){let e=Yc(this.opacity);return`${e===1?"rgb(":"rgba("}${Vi(this.r)}, ${Vi(this.g)}, ${Vi(this.b)}${e===1?")":`, ${e})`}`}function Yc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ai(e){return e=Vi(e),(e<16?"0":"")+e.toString(16)}function pw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pr(e,t,n,r)}function vw(e){if(e instanceof pr)return new pr(e.h,e.s,e.l,e.opacity);if(e instanceof Di||(e=bn(e)),!e)return new pr;if(e instanceof pr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new pr(o,l,s,e.opacity)}function yw(e,t,n,r){return arguments.length===1?vw(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gw(e){return e=(e||0)%360,e<0?e+360:e}function Hc(e){return Math.max(0,Math.min(1,e||0))}function gh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Aa,ki,_o,Fu,Lr,VT,kT,DT,NT,ET,PT,LT,cw,yh=P(()=>{ph();Aa=.7,ki=1/Aa,_o="\\s*([+-]?\\d+)\\s*",Fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VT=/^#([0-9a-f]{3,8})$/,kT=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),DT=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),NT=new RegExp(`^rgba\\(${_o},${_o},${_o},${Fu}\\)$`),ET=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Fu}\\)$`),PT=new RegExp(`^hsl\\(${Fu},${Lr},${Lr}\\)$`),LT=new RegExp(`^hsla\\(${Fu},${Lr},${Lr},${Fu}\\)$`),cw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wo(Di,bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sw,formatHex:sw,formatHex8:OT,formatHsl:IT,formatRgb:fw,toString:fw});wo(sn,Va,Ru(Di,{brighter(e){return e=e==null?ki:Math.pow(ki,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(Vi(this.r),Vi(this.g),Vi(this.b),Yc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mw,formatHex:mw,formatHex8:zT,formatRgb:hw,toString:hw}));wo(pr,yw,Ru(Di,{brighter(e){return e=e==null?ki:Math.pow(ki,e),new pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new sn(gh(e>=240?e-240:e+120,a,r),gh(e,a,r),gh(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new pr(gw(this.h),Hc(this.s),Hc(this.l),Yc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Yc(this.opacity);return`${e===1?"hsl(":"hsla("}${gw(this.h)}, ${Hc(this.s)*100}%, ${Hc(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var bw,xw,ww=P(()=>{bw=Math.PI/180,xw=180/Math.PI});function RT(e){if(e instanceof Ni)return new Ni(e.h,e.s,e.l,e.opacity);e instanceof sn||(e=vh(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Mw*r+_w*t-Sw*n)/(Mw+_w-Sw),i=r-a,o=(Bu*(n-a)-xh*i)/Wc,l=Math.sqrt(o*o+i*i)/(Bu*a*(1-a)),s=l?Math.atan2(o,i)*xw-120:NaN;return new Ni(s<0?s+360:s,l,a,e.opacity)}function Cn(e,t,n,r){return arguments.length===1?RT(e):new Ni(e,t,n,r??1)}function Ni(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var Tw,bh,xh,Wc,Bu,_w,Sw,Mw,Cw=P(()=>{ph();yh();ww();Tw=-.14861,bh=1.78277,xh=-.29227,Wc=-.90649,Bu=1.97294,_w=Bu*Wc,Sw=Bu*bh,Mw=bh*xh-Wc*Tw;wo(Ni,Cn,Ru(Di,{brighter(e){return e=e==null?ki:Math.pow(ki,e),new Ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new Ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*bw,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new sn(255*(t+n*(Tw*r+bh*a)),255*(t+n*(xh*r+Wc*a)),255*(t+n*(Bu*r)),this.opacity)}}))});var Kr=P(()=>{yh();Cw()});function wh(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function Aw(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,l=r<t-1?e[r+2]:2*i-a;return wh((n-r/t)*t,o,a,i,l)}}var _h=P(()=>{});function Vw(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return wh((n-r/t)*t,a,i,o,l)}}var kw=P(()=>{_h()});var So,Sh=P(()=>{So=e=>()=>e});function Dw(e,t){return function(n){return e+n*t}}function FT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nw(e,t){var n=t-e;return n?Dw(e,n>180||n<-180?n-360*Math.round(n/360):n):So(isNaN(e)?t:e)}function Ew(e){return(e=+e)==1?Jr:function(t,n){return n-t?FT(t,n,e):So(isNaN(t)?n:t)}}function Jr(e,t){var n=t-e;return n?Dw(e,n):So(isNaN(e)?t:e)}var Mh=P(()=>{Sh()});function Pw(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,l;for(o=0;o<n;++o)l=Va(t[o]),r[o]=l.r||0,a[o]=l.g||0,i[o]=l.b||0;return r=e(r),a=e(a),i=e(i),l.opacity=1,function(s){return l.r=r(s),l.g=a(s),l.b=i(s),l+""}}}var Ei,Th,BT,Ch=P(()=>{Kr();_h();kw();Mh();Ei=function e(t){var n=Ew(t);function r(a,i){var o=n((a=Va(a)).r,(i=Va(i)).r),l=n(a.g,i.g),s=n(a.b,i.b),f=Jr(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=s(h),a.opacity=f(h),a+""}}return r.gamma=e,r}(1);Th=Pw(Aw),BT=Pw(Vw)});function Lw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Ow(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Iw=P(()=>{});function zw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=jt(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}var Rw=P(()=>{$c()});function Fw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var Bw=P(()=>{});function fn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Hu=P(()=>{});function Hw(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=jt(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Yw=P(()=>{$c()});function HT(e){return function(){return e}}function YT(e){return function(t){return e(t)+""}}function Yu(e,t){var n=Vh.lastIndex=Ah.lastIndex=0,r,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Vh.exec(e))&&(a=Ah.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:fn(r,a)})),n=Ah.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?YT(s[0].x):HT(t):(t=s.length,function(f){for(var h=0,x;h<t;++h)l[(x=s[h]).i]=x.x(f);return l.join("")})}var Vh,Ah,kh=P(()=>{Hu();Vh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ah=new RegExp(Vh.source,"g")});function jt(e,t){var n=typeof t,r;return t==null||n==="boolean"?So(t):(n==="number"?fn:n==="string"?(r=bn(t))?(t=r,Ei):Yu:t instanceof bn?Ei:t instanceof Date?Fw:Ow(t)?Lw:Array.isArray(t)?zw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hw:fn)(e,t)}var $c=P(()=>{Kr();Ch();Rw();Bw();Hu();Yw();kh();Sh();Iw()});function Wu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ww=P(()=>{});function Dh(e,t,n,r,a,i){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*$w,skewX:Math.atan(s)*$w,scaleX:o,scaleY:l}}var $w,Uc,Uw=P(()=>{$w=180/Math.PI,Uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function qw(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uc:Dh(t.a,t.b,t.c,t.d,t.e,t.f)}function Gw(e){return e==null?Uc:(qc||(qc=document.createElementNS("http://www.w3.org/2000/svg","g")),qc.setAttribute("transform",e),(e=qc.transform.baseVal.consolidate())?(e=e.matrix,Dh(e.a,e.b,e.c,e.d,e.e,e.f)):Uc)}var qc,Xw=P(()=>{Uw()});function jw(e,t,n,r){function a(f){return f.length?f.pop()+" ":""}function i(f,h,x,v,M,C){if(f!==x||h!==v){var A=M.push("translate(",null,t,null,n);C.push({i:A-4,x:fn(f,x)},{i:A-2,x:fn(h,v)})}else(x||v)&&M.push("translate("+x+t+v+n)}function o(f,h,x,v){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),v.push({i:x.push(a(x)+"rotate(",null,r)-2,x:fn(f,h)})):h&&x.push(a(x)+"rotate("+h+r)}function l(f,h,x,v){f!==h?v.push({i:x.push(a(x)+"skewX(",null,r)-2,x:fn(f,h)}):h&&x.push(a(x)+"skewX("+h+r)}function s(f,h,x,v,M,C){if(f!==x||h!==v){var A=M.push(a(M)+"scale(",null,",",null,")");C.push({i:A-4,x:fn(f,x)},{i:A-2,x:fn(h,v)})}else(x!==1||v!==1)&&M.push(a(M)+"scale("+x+","+v+")")}return function(f,h){var x=[],v=[];return f=e(f),h=e(h),i(f.translateX,f.translateY,h.translateX,h.translateY,x,v),o(f.rotate,h.rotate,x,v),l(f.skewX,h.skewX,x,v),s(f.scaleX,f.scaleY,h.scaleX,h.scaleY,x,v),f=h=null,function(M){for(var C=-1,A=v.length,T;++C<A;)x[(T=v[C]).i]=T.x(M);return x.join("")}}}var Nh,Eh,Qw=P(()=>{Hu();Xw();Nh=jw(qw,"px, ","px)","deg)"),Eh=jw(Gw,", ",")",")")});function Zw(e){return((e=Math.exp(e))+1/e)/2}function $T(e){return((e=Math.exp(e))-1/e)/2}function UT(e){return((e=Math.exp(2*e))-1)/(e+1)}var WT,Ph,Kw=P(()=>{WT=1e-12;Ph=function e(t,n,r){function a(i,o){var l=i[0],s=i[1],f=i[2],h=o[0],x=o[1],v=o[2],M=h-l,C=x-s,A=M*M+C*C,T,D;if(A<WT)D=Math.log(v/f)/t,T=function(j){return[l+j*M,s+j*C,f*Math.exp(t*j*D)]};else{var R=Math.sqrt(A),H=(v*v-f*f+r*A)/(2*f*n*R),k=(v*v-f*f-r*A)/(2*v*n*R),z=Math.log(Math.sqrt(H*H+1)-H),I=Math.log(Math.sqrt(k*k+1)-k);D=(I-z)/t,T=function(j){var Z=j*D,be=Zw(z),pe=f/(n*R)*(be*UT(t*Z+z)-$T(z));return[l+pe*M,s+pe*C,f*be/Zw(t*Z+z)]}}return T.duration=D*1e3*t/Math.SQRT2,T}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,s=l*l;return e(o,l,s)},a}(Math.SQRT2,2,4)});function Jw(e){return function t(n){n=+n;function r(a,i){var o=e((a=Cn(a)).h,(i=Cn(i)).h),l=Jr(a.s,i.s),s=Jr(a.l,i.l),f=Jr(a.opacity,i.opacity);return function(h){return a.h=o(h),a.s=l(h),a.l=s(Math.pow(h,n)),a.opacity=f(h),a+""}}return r.gamma=t,r}(1)}var qT,Mo,e_=P(()=>{Kr();Mh();qT=Jw(Nw),Mo=Jw(Jr)});var Jn=P(()=>{$c();Hu();Ww();kh();Qw();Kw();Ch();e_()});var Ze,kt=P(()=>{Jn();Ze=e=>Th(e[e.length-1])});var Lh,t_,n_=P(()=>{lt();kt();Lh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Be),t_=Ze(Lh)});var Oh,r_,a_=P(()=>{lt();kt();Oh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Be),r_=Ze(Oh)});var Ih,i_,o_=P(()=>{lt();kt();Ih=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Be),i_=Ze(Ih)});var zh,u_,l_=P(()=>{lt();kt();zh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Be),u_=Ze(zh)});var Rh,c_,s_=P(()=>{lt();kt();Rh=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Be),c_=Ze(Rh)});var Fh,f_,d_=P(()=>{lt();kt();Fh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Be),f_=Ze(Fh)});var Bh,m_,h_=P(()=>{lt();kt();Bh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Be),m_=Ze(Bh)});var Hh,p_,g_=P(()=>{lt();kt();Hh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Be),p_=Ze(Hh)});var Yh,v_,y_=P(()=>{lt();kt();Yh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Be),v_=Ze(Yh)});var Wh,b_,x_=P(()=>{lt();kt();Wh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Be),b_=Ze(Wh)});var $h,w_,__=P(()=>{lt();kt();$h=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Be),w_=Ze($h)});var Uh,S_,M_=P(()=>{lt();kt();Uh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Be),S_=Ze(Uh)});var qh,T_,C_=P(()=>{lt();kt();qh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Be),T_=Ze(qh)});var Gh,A_,V_=P(()=>{lt();kt();Gh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Be),A_=Ze(Gh)});var Xh,k_,D_=P(()=>{lt();kt();Xh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Be),k_=Ze(Xh)});var jh,N_,E_=P(()=>{lt();kt();jh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Be),N_=Ze(jh)});var Qh,P_,L_=P(()=>{lt();kt();Qh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Be),P_=Ze(Qh)});var Zh,O_,I_=P(()=>{lt();kt();Zh=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Be),O_=Ze(Zh)});var Kh,z_,R_=P(()=>{lt();kt();Kh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Be),z_=Ze(Kh)});var Jh,F_,B_=P(()=>{lt();kt();Jh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Be),F_=Ze(Jh)});var ep,H_,Y_=P(()=>{lt();kt();ep=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Be),H_=Ze(ep)});var tp,W_,$_=P(()=>{lt();kt();tp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Be),W_=Ze(tp)});var np,U_,q_=P(()=>{lt();kt();np=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Be),U_=Ze(np)});var rp,G_,X_=P(()=>{lt();kt();rp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Be),G_=Ze(rp)});var ap,j_,Q_=P(()=>{lt();kt();ap=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Be),j_=Ze(ap)});var ip,Z_,K_=P(()=>{lt();kt();ip=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Be),Z_=Ze(ip)});var op,J_,eS=P(()=>{lt();kt();op=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Be),J_=Ze(op)});function tS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var nS=P(()=>{});var rS,aS=P(()=>{Kr();Jn();rS=Mo(Cn(300,.5,0),Cn(-240,.5,1))});function uS(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Gc.h=360*e-100,Gc.s=1.5-1.5*t,Gc.l=.8-.9*t,Gc+""}var iS,oS,Gc,lS=P(()=>{Kr();Jn();iS=Mo(Cn(-100,.75,.35),Cn(80,1.5,.8)),oS=Mo(Cn(260,.75,.35),Cn(80,1.5,.8)),Gc=Cn()});function cS(e){var t;return e=(.5-e)*Math.PI,Xc.r=255*(t=Math.sin(e))*t,Xc.g=255*(t=Math.sin(e+GT))*t,Xc.b=255*(t=Math.sin(e+XT))*t,Xc+""}var Xc,GT,XT,sS=P(()=>{Kr();Xc=Va(),GT=Math.PI/3,XT=Math.PI*2/3});function fS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var dS=P(()=>{});function jc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var mS,hS,pS,gS,vS=P(()=>{lt();mS=jc(Be("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),hS=jc(Be("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),pS=jc(Be("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gS=jc(Be("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var yS={};Ln(yS,{interpolateBlues:()=>W_,interpolateBrBG:()=>t_,interpolateBuGn:()=>b_,interpolateBuPu:()=>w_,interpolateCividis:()=>tS,interpolateCool:()=>oS,interpolateCubehelixDefault:()=>rS,interpolateGnBu:()=>S_,interpolateGreens:()=>U_,interpolateGreys:()=>G_,interpolateInferno:()=>pS,interpolateMagma:()=>hS,interpolateOrRd:()=>T_,interpolateOranges:()=>J_,interpolatePRGn:()=>r_,interpolatePiYG:()=>i_,interpolatePlasma:()=>gS,interpolatePuBu:()=>k_,interpolatePuBuGn:()=>A_,interpolatePuOr:()=>u_,interpolatePuRd:()=>N_,interpolatePurples:()=>j_,interpolateRainbow:()=>uS,interpolateRdBu:()=>c_,interpolateRdGy:()=>f_,interpolateRdPu:()=>P_,interpolateRdYlBu:()=>m_,interpolateRdYlGn:()=>p_,interpolateReds:()=>Z_,interpolateSinebow:()=>cS,interpolateSpectral:()=>v_,interpolateTurbo:()=>fS,interpolateViridis:()=>mS,interpolateWarm:()=>iS,interpolateYlGn:()=>z_,interpolateYlGnBu:()=>O_,interpolateYlOrBr:()=>F_,interpolateYlOrRd:()=>H_,schemeAccent:()=>W2,schemeBlues:()=>tp,schemeBrBG:()=>Lh,schemeBuGn:()=>Wh,schemeBuPu:()=>$h,schemeCategory10:()=>H2,schemeDark2:()=>U2,schemeGnBu:()=>Uh,schemeGreens:()=>np,schemeGreys:()=>rp,schemeObservable10:()=>G2,schemeOrRd:()=>qh,schemeOranges:()=>op,schemePRGn:()=>Oh,schemePaired:()=>j2,schemePastel1:()=>Z2,schemePastel2:()=>J2,schemePiYG:()=>Ih,schemePuBu:()=>Xh,schemePuBuGn:()=>Gh,schemePuOr:()=>zh,schemePuRd:()=>jh,schemePurples:()=>ap,schemeRdBu:()=>Rh,schemeRdGy:()=>Fh,schemeRdPu:()=>Qh,schemeRdYlBu:()=>Bh,schemeRdYlGn:()=>Hh,schemeReds:()=>ip,schemeSet1:()=>tw,schemeSet2:()=>rw,schemeSet3:()=>iw,schemeSpectral:()=>Yh,schemeTableau10:()=>uw,schemeYlGn:()=>Kh,schemeYlGnBu:()=>Zh,schemeYlOrBr:()=>Jh,schemeYlOrRd:()=>ep});var up=P(()=>{Y2();$2();q2();X2();Q2();K2();ew();nw();aw();ow();lw();n_();a_();o_();l_();s_();d_();h_();g_();y_();x_();__();M_();C_();V_();D_();E_();L_();I_();R_();B_();Y_();$_();q_();X_();Q_();K_();eS();nS();aS();lS();sS();dS();vS()});var lp=ir((Qc,bS)=>{(function(e,t){typeof Qc=="object"&&typeof bS<"u"?t(Qc):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Qc,function(e){"use strict";var t={value:function(){}};function n(){for(var l=0,s=arguments.length,f={},h;l<s;++l){if(!(h=arguments[l]+"")||h in f)throw new Error("illegal type: "+h);f[h]=[]}return new r(f)}function r(l){this._=l}function a(l,s){return l.trim().split(/^|\s+/).map(function(f){var h="",x=f.indexOf(".");if(x>=0&&(h=f.slice(x+1),f=f.slice(0,x)),f&&!s.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:h}})}r.prototype=n.prototype={constructor:r,on:function(l,s){var f=this._,h=a(l+"",f),x,v=-1,M=h.length;if(arguments.length<2){for(;++v<M;)if((x=(l=h[v]).type)&&(x=i(f[x],l.name)))return x;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++v<M;)if(x=(l=h[v]).type)f[x]=o(f[x],l.name,s);else if(s==null)for(x in f)f[x]=o(f[x],l.name,null);return this},copy:function(){var l={},s=this._;for(var f in s)l[f]=s[f].slice();return new r(l)},call:function(l,s){if((x=arguments.length-2)>0)for(var f=new Array(x),h=0,x,v;h<x;++h)f[h]=arguments[h+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(v=this._[l],h=0,x=v.length;h<x;++h)v[h].value.apply(s,f)},apply:function(l,s,f){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var h=this._[l],x=0,v=h.length;x<v;++x)h[x].value.apply(s,f)}};function i(l,s){for(var f=0,h=l.length,x;f<h;++f)if((x=l[f]).name===s)return x.value}function o(l,s,f){for(var h=0,x=l.length;h<x;++h)if(l[h].name===s){l[h]=t,l=l.slice(0,h).concat(l.slice(h+1));break}return f!=null&&l.push({name:s,value:f}),l}e.dispatch=n,Object.defineProperty(e,"__esModule",{value:!0})})});function wS(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zc(n)}function Zc(e){this._=e}function QT(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function ZT(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function xS(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=jT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var jT,ea,_S=P(()=>{jT={value:()=>{}};Zc.prototype=wS.prototype={constructor:Zc,on:function(e,t){var n=this._,r=QT(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=ZT(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=xS(n[a],e.name,t);else if(t==null)for(a in n)n[a]=xS(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zc(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};ea=wS});var To=P(()=>{_S()});function Kc(e){e.stopImmediatePropagation()}function ka(e){e.preventDefault(),e.stopImmediatePropagation()}var SS,Pi,cp=P(()=>{SS={passive:!1},Pi={capture:!0,passive:!1}});function Li(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",ka,Pi);"onselectstart"in t?n.on("selectstart.drag",ka,Pi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Oi(e,t){var n=e.document.documentElement,r=Re(e).on("dragstart.drag",null);t&&(r.on("click.drag",ka,Pi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var sp=P(()=>{vn();cp()});var $u,MS=P(()=>{$u=e=>()=>e});function Uu(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:s,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}var TS=P(()=>{Uu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function KT(e){return!e.ctrlKey&&!e.button}function JT(){return this.parentNode}function eC(e,t){return t??{x:e.x,y:e.y}}function tC(){return navigator.maxTouchPoints||"ontouchstart"in this}function Co(){var e=KT,t=JT,n=eC,r=tC,a={},i=ea("start","drag","end"),o=0,l,s,f,h,x=0;function v(k){k.on("mousedown.drag",M).filter(r).on("touchstart.drag",T).on("touchmove.drag",D,SS).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(k,z){if(!(h||!e.call(this,k,z))){var I=H(this,t.call(this,k,z),k,z,"mouse");!I||(Re(k.view).on("mousemove.drag",C,Pi).on("mouseup.drag",A,Pi),Li(k.view),Kc(k),f=!1,l=k.clientX,s=k.clientY,I("start",k))}}function C(k){if(ka(k),!f){var z=k.clientX-l,I=k.clientY-s;f=z*z+I*I>x}a.mouse("drag",k)}function A(k){Re(k.view).on("mousemove.drag mouseup.drag",null),Oi(k.view,f),ka(k),a.mouse("end",k)}function T(k,z){if(!!e.call(this,k,z)){var I=k.changedTouches,j=t.call(this,k,z),Z=I.length,be,pe;for(be=0;be<Z;++be)(pe=H(this,j,k,z,I[be].identifier,I[be]))&&(Kc(k),pe("start",k,I[be]))}}function D(k){var z=k.changedTouches,I=z.length,j,Z;for(j=0;j<I;++j)(Z=a[z[j].identifier])&&(ka(k),Z("drag",k,z[j]))}function R(k){var z=k.changedTouches,I=z.length,j,Z;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),j=0;j<I;++j)(Z=a[z[j].identifier])&&(Kc(k),Z("end",k,z[j]))}function H(k,z,I,j,Z,be){var pe=i.copy(),oe=Gt(be||I,z),ze,de,$;if(($=n.call(k,new Uu("beforestart",{sourceEvent:I,target:v,identifier:Z,active:o,x:oe[0],y:oe[1],dx:0,dy:0,dispatch:pe}),j))!=null)return ze=$.x-oe[0]||0,de=$.y-oe[1]||0,function we(te,ae,ge){var ye=oe,ce;switch(te){case"start":a[Z]=we,ce=o++;break;case"end":delete a[Z],--o;case"drag":oe=Gt(ge||ae,z),ce=o;break}pe.call(te,k,new Uu(te,{sourceEvent:ae,subject:$,target:v,identifier:Z,active:ce,x:oe[0]+ze,y:oe[1]+de,dx:oe[0]-ye[0],dy:oe[1]-ye[1],dispatch:pe}),j)}}return v.filter=function(k){return arguments.length?(e=typeof k=="function"?k:$u(!!k),v):e},v.container=function(k){return arguments.length?(t=typeof k=="function"?k:$u(k),v):t},v.subject=function(k){return arguments.length?(n=typeof k=="function"?k:$u(k),v):n},v.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:$u(!!k),v):r},v.on=function(){var k=i.on.apply(i,arguments);return k===i?v:k},v.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,v):Math.sqrt(x)},v}var CS=P(()=>{To();vn();sp();cp();MS();TS()});var Jc=P(()=>{CS();sp()});function Zu(){return Ii||(kS(nC),Ii=ju.now()+ns)}function nC(){Ii=0}function Qu(){this._call=this._time=this._next=null}function rs(e,t,n){var r=new Qu;return r.restart(e,t,n),r}function DS(){Zu(),++Ao;for(var e=es,t;e;)(t=Ii-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ao}function AS(){Ii=(ts=ju.now())+ns,Ao=Gu=0;try{DS()}finally{Ao=0,aC(),Ii=0}}function rC(){var e=ju.now(),t=e-ts;t>VS&&(ns-=t,ts=e)}function aC(){for(var e,t=es,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:es=n);Xu=e,fp(r)}function fp(e){if(!Ao){Gu&&(Gu=clearTimeout(Gu));var t=e-Ii;t>24?(e<1/0&&(Gu=setTimeout(AS,e-ju.now()-ns)),qu&&(qu=clearInterval(qu))):(qu||(ts=ju.now(),qu=setInterval(rC,VS)),Ao=1,kS(AS))}}var Ao,Gu,qu,VS,es,Xu,ts,Ii,ns,ju,kS,dp=P(()=>{Ao=0,Gu=0,qu=0,VS=1e3,ts=0,Ii=0,ns=0,ju=typeof performance=="object"&&performance.now?performance:Date,kS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Qu.prototype=rs.prototype={constructor:Qu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Zu():+n)+(t==null?0:+t),!this._next&&Xu!==this&&(Xu?Xu._next=this:es=this,Xu=this),this._call=e,this._time=n,fp()},stop:function(){this._call&&(this._call=null,this._time=1/0,fp())}}});function as(e,t,n){var r=new Qu;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var NS=P(()=>{dp()});var is=P(()=>{dp();NS()});function Da(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;uC(e,n,{name:t,index:r,group:a,on:iC,tween:oC,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:LS})}function Ju(e,t){var n=Bt(e,t);if(n.state>LS)throw new Error("too late; already scheduled");return n}function dn(e,t){var n=Bt(e,t);if(n.state>os)throw new Error("too late; already running");return n}function Bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uC(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=rs(i,0,n.time);function i(f){n.state=ES,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var h,x,v,M;if(n.state!==ES)return s();for(h in r)if(M=r[h],M.name===n.name){if(M.state===os)return as(o);M.state===PS?(M.state=Ku,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete r[h]):+h<t&&(M.state=Ku,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete r[h])}if(as(function(){n.state===os&&(n.state=PS,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=us,n.on.call("start",e,e.__data__,n.index,n.group),n.state===us){for(n.state=os,a=new Array(v=n.tween.length),h=0,x=-1;h<v;++h)(M=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(a[++x]=M);a.length=x+1}}function l(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(s),n.state=ls,1),x=-1,v=a.length;++x<v;)a[x].call(e,h);n.state===ls&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Ku,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}var iC,oC,LS,ES,us,os,PS,ls,Ku,Rn=P(()=>{To();is();iC=ea("start","end","cancel","interrupt"),oC=[],LS=0,ES=1,us=2,os=3,PS=4,ls=5,Ku=6});function Or(e,t){var n=e.__transition,r,a,i=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>us&&r.state<ls,r.state=Ku,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}var mp=P(()=>{Rn()});function OS(e){return this.each(function(){Or(this,e)})}var IS=P(()=>{mp()});function lC(e,t){var n,r;return function(){var a=dn(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function cC(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=dn(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},s=0,f=a.length;s<f;++s)if(a[s].name===t){a[s]=l;break}s===f&&a.push(l)}i.tween=a}}function zS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Bt(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?lC:cC)(n,e,t))}function Vo(e,t,n){var r=e._id;return e.each(function(){var a=dn(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Bt(a,r).value[t]}}var el=P(()=>{Rn()});function cs(e,t){var n;return(typeof t=="number"?fn:t instanceof bn?Ei:(n=bn(t))?(t=n,Ei):Yu)(e,t)}var hp=P(()=>{Kr();Jn()});function sC(e){return function(){this.removeAttribute(e)}}function fC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dC(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function mC(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function hC(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function pC(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function RS(e,t){var n=Dr(e),r=n==="transform"?Eh:cs;return this.attrTween(e,typeof t=="function"?(n.local?pC:hC)(n,r,Vo(this,"attr."+e,t)):t==null?(n.local?fC:sC)(n):(n.local?mC:dC)(n,r,t))}var FS=P(()=>{Jn();vn();el();hp()});function gC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function yC(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&vC(e,i)),n}return a._value=t,a}function bC(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&gC(e,i)),n}return a._value=t,a}function BS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Dr(e);return this.tween(n,(r.local?yC:bC)(r,t))}var HS=P(()=>{vn()});function xC(e,t){return function(){Ju(this,e).delay=+t.apply(this,arguments)}}function wC(e,t){return t=+t,function(){Ju(this,e).delay=t}}function YS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xC:wC)(t,e)):Bt(this.node(),t).delay}var WS=P(()=>{Rn()});function _C(e,t){return function(){dn(this,e).duration=+t.apply(this,arguments)}}function SC(e,t){return t=+t,function(){dn(this,e).duration=t}}function $S(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_C:SC)(t,e)):Bt(this.node(),t).duration}var US=P(()=>{Rn()});function MC(e,t){if(typeof t!="function")throw new Error;return function(){dn(this,e).ease=t}}function qS(e){var t=this._id;return arguments.length?this.each(MC(t,e)):Bt(this.node(),t).ease}var GS=P(()=>{Rn()});function TC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dn(this,e).ease=n}}function XS(e){if(typeof e!="function")throw new Error;return this.each(TC(this._id,e))}var jS=P(()=>{Rn()});function QS(e){typeof e!="function"&&(e=lo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new An(r,this._parents,this._name,this._id)}var ZS=P(()=>{vn();zi()});function KS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],h=s.length,x=o[l]=new Array(h),v,M=0;M<h;++M)(v=s[M]||f[M])&&(x[M]=v);for(;l<r;++l)o[l]=t[l];return new An(o,this._parents,this._name,this._id)}var JS=P(()=>{zi()});function CC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function AC(e,t,n){var r,a,i=CC(t)?Ju:dn;return function(){var o=i(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function e3(e,t){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(e):this.each(AC(n,e,t))}var t3=P(()=>{Rn()});function VC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function n3(){return this.on("end.remove",VC(this._id))}var r3=P(()=>{});function a3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_a(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l=r[o],s=l.length,f=i[o]=new Array(s),h,x,v=0;v<s;++v)(h=l[v])&&(x=e.call(h,h.__data__,v,l))&&("__data__"in h&&(x.__data__=h.__data__),f[v]=x,Da(f[v],t,n,v,f,Bt(h,n)));return new An(i,this._parents,t,n)}var i3=P(()=>{vn();zi();Rn()});function o3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uo(e));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var s=r[l],f=s.length,h,x=0;x<f;++x)if(h=s[x]){for(var v=e.call(h,h.__data__,x,s),M,C=Bt(h,n),A=0,T=v.length;A<T;++A)(M=v[A])&&Da(M,t,n,A,v,C);i.push(v),o.push(h)}return new An(i,o,t,n)}var u3=P(()=>{vn();zi();Rn()});function l3(){return new kC(this._groups,this._parents)}var kC,c3=P(()=>{vn();kC=Nr.prototype.constructor});function DC(e,t){var n,r,a;return function(){var i=Zr(this,e),o=(this.style.removeProperty(e),Zr(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function s3(e){return function(){this.style.removeProperty(e)}}function NC(e,t,n){var r,a=n+"",i;return function(){var o=Zr(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function EC(e,t,n){var r,a,i;return function(){var o=Zr(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Zr(this,e))),o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l))}}function PC(e,t){var n,r,a,i="style."+t,o="end."+i,l;return function(){var s=dn(this,e),f=s.on,h=s.value[i]==null?l||(l=s3(t)):void 0;(f!==n||a!==h)&&(r=(n=f).copy()).on(o,a=h),s.on=r}}function f3(e,t,n){var r=(e+="")=="transform"?Nh:cs;return t==null?this.styleTween(e,DC(e,r)).on("end.style."+e,s3(e)):typeof t=="function"?this.styleTween(e,EC(e,r,Vo(this,"style."+e,t))).each(PC(this._id,e)):this.styleTween(e,NC(e,r,t),n).on("end.style."+e,null)}var d3=P(()=>{Jn();vn();Rn();el();hp()});function LC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function OC(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&LC(e,o,n)),r}return i._value=t,i}function m3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,OC(e,t,n??""))}var h3=P(()=>{});function IC(e){return function(){this.textContent=e}}function zC(e){return function(){var t=e(this);this.textContent=t??""}}function p3(e){return this.tween("text",typeof e=="function"?zC(Vo(this,"text",e)):IC(e==null?"":e+""))}var g3=P(()=>{el()});function RC(e){return function(t){this.textContent=e.call(this,t)}}function FC(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&RC(a)),t}return r._value=e,r}function v3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FC(e))}var y3=P(()=>{});function b3(){for(var e=this._name,t=this._id,n=ss(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)if(s=o[f]){var h=Bt(s,t);Da(s,e,n,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new An(r,this._parents,e,n)}var x3=P(()=>{zi();Rn()});function w3(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var l={value:o},s={value:function(){--a===0&&i()}};n.each(function(){var f=dn(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),f.on=t}),a===0&&i()})}var _3=P(()=>{Rn()});function An(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function S3(e){return Nr().transition(e)}function ss(){return++BC}var BC,ta,zi=P(()=>{vn();FS();HS();WS();US();GS();jS();ZS();JS();t3();r3();i3();u3();c3();d3();h3();g3();y3();x3();el();_3();BC=0;ta=Nr.prototype;An.prototype=S3.prototype={constructor:An,select:a3,selectAll:o3,selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:QS,merge:KS,selection:l3,transition:b3,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:e3,attr:RS,attrTween:BS,style:f3,styleTween:m3,text:p3,textTween:v3,remove:n3,tween:zS,delay:YS,duration:$S,ease:qS,easeVarying:XS,end:w3,[Symbol.iterator]:ta[Symbol.iterator]}});function fs(e){return--e*e*e+1}function ds(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var M3=P(()=>{});var pp=P(()=>{M3()});function YC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function T3(e){var t,n;e instanceof An?(t=e._id,e=e._name):(t=ss(),(n=HC).time=Zu(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&Da(s,e,t,f,o,n||YC(s,t));return new An(r,this._parents,e,t)}var HC,C3=P(()=>{zi();Rn();pp();is();HC={time:null,delay:0,duration:250,ease:ds}});var A3=P(()=>{vn();IS();C3();Nr.prototype.interrupt=OS;Nr.prototype.transition=T3});var ms=P(()=>{A3();mp()});var hs,V3=P(()=>{hs=e=>()=>e});function gp(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}var k3=P(()=>{});function D3(e){e.stopImmediatePropagation()}function ps(e){e.preventDefault(),e.stopImmediatePropagation()}var N3=P(()=>{});function L3(e){return[+e[0],+e[1]]}function bp(e){return[L3(e[0]),L3(e[1])]}function tl(e){return{type:e}}function qC(e){return!e.ctrlKey&&!e.button}function GC(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function XC(){return navigator.maxTouchPoints||"ontouchstart"in this}function yp(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function jC(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function z3(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function R3(){return xp(gs)}function F3(){return xp(vs)}function B3(){return xp(WC)}function xp(e){var t=GC,n=qC,r=XC,a=!0,i=ea("start","brush","end"),o=6,l;function s(T){var D=T.property("__brush",A).selectAll(".overlay").data([tl("overlay")]);D.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",na.overlay).merge(D).each(function(){var H=yp(this).extent;Re(this).attr("x",H[0][0]).attr("y",H[0][1]).attr("width",H[1][0]-H[0][0]).attr("height",H[1][1]-H[0][1])}),T.selectAll(".selection").data([tl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",na.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=T.selectAll(".handle").data(e.handles,function(H){return H.type});R.exit().remove(),R.enter().append("rect").attr("class",function(H){return"handle handle--"+H.type}).attr("cursor",function(H){return na[H.type]}),T.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",v).filter(r).on("touchstart.brush",v).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(T,D,R){T.tween?T.on("start.brush",function(H){h(this,arguments).beforestart().start(H)}).on("interrupt.brush end.brush",function(H){h(this,arguments).end(H)}).tween("brush",function(){var H=this,k=H.__brush,z=h(H,arguments),I=k.selection,j=e.input(typeof D=="function"?D.apply(this,arguments):D,k.extent),Z=jt(I,j);function be(pe){k.selection=pe===1&&j===null?null:Z(pe),f.call(H),z.brush()}return I!==null&&j!==null?be:be(1)}):T.each(function(){var H=this,k=arguments,z=H.__brush,I=e.input(typeof D=="function"?D.apply(H,k):D,z.extent),j=h(H,k).beforestart();Or(H),z.selection=I===null?null:I,f.call(H),j.start(R).brush(R).end(R)})},s.clear=function(T,D){s.move(T,null,D)};function f(){var T=Re(this),D=yp(this).selection;D?(T.selectAll(".selection").style("display",null).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1]),T.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?D[1][0]-o/2:D[0][0]-o/2}).attr("y",function(R){return R.type[0]==="s"?D[1][1]-o/2:D[0][1]-o/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?D[1][0]-D[0][0]+o:o}).attr("height",function(R){return R.type==="e"||R.type==="w"?D[1][1]-D[0][1]+o:o})):T.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(T,D,R){var H=T.__brush.emitter;return H&&(!R||!H.clean)?H:new x(T,D,R)}function x(T,D,R){this.that=T,this.args=D,this.state=T.__brush,this.active=0,this.clean=R}x.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(T,D){return this.starting?(this.starting=!1,this.emit("start",T,D)):this.emit("brush",T),this},brush:function(T,D){return this.emit("brush",T,D),this},end:function(T,D){return--this.active===0&&(delete this.state.emitter,this.emit("end",T,D)),this},emit:function(T,D,R){var H=Re(this.that).datum();i.call(T,this.that,new gp(T,{sourceEvent:D,target:s,selection:e.output(this.state.selection),mode:R,dispatch:i}),H)}};function v(T){if(l&&!T.touches||!n.apply(this,arguments))return;var D=this,R=T.target.__data__.type,H=(a&&T.metaKey?R="overlay":R)==="selection"?E3:a&&T.altKey?Do:ko,k=e===vs?null:$C[R],z=e===gs?null:UC[R],I=yp(D),j=I.extent,Z=I.selection,be=j[0][0],pe,oe,ze=j[0][1],de,$,we=j[1][0],te,ae,ge=j[1][1],ye,ce,ke=0,Le=0,Se,He=k&&z&&a&&T.shiftKey,X,he,ue=Array.from(T.touches||[T],Ye=>{let rt=Ye.identifier;return Ye=Gt(Ye,D),Ye.point0=Ye.slice(),Ye.identifier=rt,Ye});Or(D);var me=h(D,arguments,!0).beforestart();if(R==="overlay"){Z&&(Se=!0);let Ye=[ue[0],ue[1]||ue[0]];I.selection=Z=[[pe=e===vs?be:wn(Ye[0][0],Ye[1][0]),de=e===gs?ze:wn(Ye[0][1],Ye[1][1])],[te=e===vs?we:xn(Ye[0][0],Ye[1][0]),ye=e===gs?ge:xn(Ye[0][1],Ye[1][1])]],ue.length>1&&Xe(T)}else pe=Z[0][0],de=Z[0][1],te=Z[1][0],ye=Z[1][1];oe=pe,$=de,ae=te,ce=ye;var Q=Re(D).attr("pointer-events","none"),K=Q.selectAll(".overlay").attr("cursor",na[R]);if(T.touches)me.moved=Me,me.ended=Je;else{var Ce=Re(T.view).on("mousemove.brush",Me,!0).on("mouseup.brush",Je,!0);a&&Ce.on("keydown.brush",mt,!0).on("keyup.brush",ft,!0),Li(T.view)}f.call(D),me.start(T,H.name);function Me(Ye){for(let rt of Ye.changedTouches||[Ye])for(let St of ue)St.identifier===rt.identifier&&(St.cur=Gt(rt,D));if(He&&!X&&!he&&ue.length===1){let rt=ue[0];P3(rt.cur[0]-rt[0])>P3(rt.cur[1]-rt[1])?he=!0:X=!0}for(let rt of ue)rt.cur&&(rt[0]=rt.cur[0],rt[1]=rt.cur[1]);Se=!0,ps(Ye),Xe(Ye)}function Xe(Ye){let rt=ue[0],St=rt.point0;var ht;switch(ke=rt[0]-St[0],Le=rt[1]-St[1],H){case vp:case E3:{k&&(ke=xn(be-pe,wn(we-te,ke)),oe=pe+ke,ae=te+ke),z&&(Le=xn(ze-de,wn(ge-ye,Le)),$=de+Le,ce=ye+Le);break}case ko:{ue[1]?(k&&(oe=xn(be,wn(we,ue[0][0])),ae=xn(be,wn(we,ue[1][0])),k=1),z&&($=xn(ze,wn(ge,ue[0][1])),ce=xn(ze,wn(ge,ue[1][1])),z=1)):(k<0?(ke=xn(be-pe,wn(we-pe,ke)),oe=pe+ke,ae=te):k>0&&(ke=xn(be-te,wn(we-te,ke)),oe=pe,ae=te+ke),z<0?(Le=xn(ze-de,wn(ge-de,Le)),$=de+Le,ce=ye):z>0&&(Le=xn(ze-ye,wn(ge-ye,Le)),$=de,ce=ye+Le));break}case Do:{k&&(oe=xn(be,wn(we,pe-ke*k)),ae=xn(be,wn(we,te+ke*k))),z&&($=xn(ze,wn(ge,de-Le*z)),ce=xn(ze,wn(ge,ye+Le*z)));break}}ae<oe&&(k*=-1,ht=pe,pe=te,te=ht,ht=oe,oe=ae,ae=ht,R in O3&&K.attr("cursor",na[R=O3[R]])),ce<$&&(z*=-1,ht=de,de=ye,ye=ht,ht=$,$=ce,ce=ht,R in I3&&K.attr("cursor",na[R=I3[R]])),I.selection&&(Z=I.selection),X&&(oe=Z[0][0],ae=Z[1][0]),he&&($=Z[0][1],ce=Z[1][1]),(Z[0][0]!==oe||Z[0][1]!==$||Z[1][0]!==ae||Z[1][1]!==ce)&&(I.selection=[[oe,$],[ae,ce]],f.call(D),me.brush(Ye,H.name))}function Je(Ye){if(D3(Ye),Ye.touches){if(Ye.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Oi(Ye.view,Se),Ce.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Q.attr("pointer-events","all"),K.attr("cursor",na.overlay),I.selection&&(Z=I.selection),jC(Z)&&(I.selection=null,f.call(D)),me.end(Ye,H.name)}function mt(Ye){switch(Ye.keyCode){case 16:{He=k&&z;break}case 18:{H===ko&&(k&&(te=ae-ke*k,pe=oe+ke*k),z&&(ye=ce-Le*z,de=$+Le*z),H=Do,Xe(Ye));break}case 32:{(H===ko||H===Do)&&(k<0?te=ae-ke:k>0&&(pe=oe-ke),z<0?ye=ce-Le:z>0&&(de=$-Le),H=vp,K.attr("cursor",na.selection),Xe(Ye));break}default:return}ps(Ye)}function ft(Ye){switch(Ye.keyCode){case 16:{He&&(X=he=He=!1,Xe(Ye));break}case 18:{H===Do&&(k<0?te=ae:k>0&&(pe=oe),z<0?ye=ce:z>0&&(de=$),H=ko,Xe(Ye));break}case 32:{H===vp&&(Ye.altKey?(k&&(te=ae-ke*k,pe=oe+ke*k),z&&(ye=ce-Le*z,de=$+Le*z),H=Do):(k<0?te=ae:k>0&&(pe=oe),z<0?ye=ce:z>0&&(de=$),H=ko),K.attr("cursor",na[R]),Xe(Ye));break}default:return}ps(Ye)}}function M(T){h(this,arguments).moved(T)}function C(T){h(this,arguments).ended(T)}function A(){var T=this.__brush||{selection:null};return T.extent=bp(t.apply(this,arguments)),T.dim=e,T}return s.extent=function(T){return arguments.length?(t=typeof T=="function"?T:hs(bp(T)),s):t},s.filter=function(T){return arguments.length?(n=typeof T=="function"?T:hs(!!T),s):n},s.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:hs(!!T),s):r},s.handleSize=function(T){return arguments.length?(o=+T,s):o},s.keyModifiers=function(T){return arguments.length?(a=!!T,s):a},s.on=function(){var T=i.on.apply(i,arguments);return T===i?s:T},s}var E3,vp,ko,Do,P3,xn,wn,gs,vs,WC,na,O3,I3,$C,UC,H3=P(()=>{To();Jc();Jn();vn();ms();V3();k3();N3();E3={name:"drag"},vp={name:"space"},ko={name:"handle"},Do={name:"center"},{abs:P3,max:xn,min:wn}=Math;gs={name:"x",handles:["w","e"].map(tl),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},vs={name:"y",handles:["n","s"].map(tl),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},WC={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(tl),input:function(e){return e==null?null:bp(e)},output:function(e){return e}},na={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},O3={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},I3={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},$C={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},UC={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var Y3={};Ln(Y3,{brush:()=>B3,brushSelection:()=>z3,brushX:()=>R3,brushY:()=>F3});var wp=P(()=>{H3()});var nl,W3=P(()=>{nl=e=>()=>e});function _p(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var $3=P(()=>{});function er(e,t,n){this.k=e,this.x=t,this.y=n}function ys(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ir;return e.__zoom}var Ir,Sp=P(()=>{er.prototype={constructor:er,scale:function(e){return e===1?this:new er(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new er(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ir=new er(1,0,0);ys.prototype=er.prototype});function bs(e){e.stopImmediatePropagation()}function No(e){e.preventDefault(),e.stopImmediatePropagation()}var U3=P(()=>{});function QC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ZC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function q3(){return this.__zoom||Ir}function KC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function JC(){return navigator.maxTouchPoints||"ontouchstart"in this}function eA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function xs(){var e=QC,t=ZC,n=eA,r=KC,a=JC,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Ph,f=ea("start","zoom","end"),h,x,v,M=500,C=150,A=0,T=10;function D($){$.property("__zoom",q3).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",be).on("dblclick.zoom",pe).filter(a).on("touchstart.zoom",oe).on("touchmove.zoom",ze).on("touchend.zoom touchcancel.zoom",de).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function($,we,te,ae){var ge=$.selection?$.selection():$;ge.property("__zoom",q3),$!==ge?z($,we,te,ae):ge.interrupt().each(function(){I(this,arguments).event(ae).start().zoom(null,typeof we=="function"?we.apply(this,arguments):we).end()})},D.scaleBy=function($,we,te,ae){D.scaleTo($,function(){var ge=this.__zoom.k,ye=typeof we=="function"?we.apply(this,arguments):we;return ge*ye},te,ae)},D.scaleTo=function($,we,te,ae){D.transform($,function(){var ge=t.apply(this,arguments),ye=this.__zoom,ce=te==null?k(ge):typeof te=="function"?te.apply(this,arguments):te,ke=ye.invert(ce),Le=typeof we=="function"?we.apply(this,arguments):we;return n(H(R(ye,Le),ce,ke),ge,o)},te,ae)},D.translateBy=function($,we,te,ae){D.transform($,function(){return n(this.__zoom.translate(typeof we=="function"?we.apply(this,arguments):we,typeof te=="function"?te.apply(this,arguments):te),t.apply(this,arguments),o)},null,ae)},D.translateTo=function($,we,te,ae,ge){D.transform($,function(){var ye=t.apply(this,arguments),ce=this.__zoom,ke=ae==null?k(ye):typeof ae=="function"?ae.apply(this,arguments):ae;return n(Ir.translate(ke[0],ke[1]).scale(ce.k).translate(typeof we=="function"?-we.apply(this,arguments):-we,typeof te=="function"?-te.apply(this,arguments):-te),ye,o)},ae,ge)};function R($,we){return we=Math.max(i[0],Math.min(i[1],we)),we===$.k?$:new er(we,$.x,$.y)}function H($,we,te){var ae=we[0]-te[0]*$.k,ge=we[1]-te[1]*$.k;return ae===$.x&&ge===$.y?$:new er($.k,ae,ge)}function k($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function z($,we,te,ae){$.on("start.zoom",function(){I(this,arguments).event(ae).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(ae).end()}).tween("zoom",function(){var ge=this,ye=arguments,ce=I(ge,ye).event(ae),ke=t.apply(ge,ye),Le=te==null?k(ke):typeof te=="function"?te.apply(ge,ye):te,Se=Math.max(ke[1][0]-ke[0][0],ke[1][1]-ke[0][1]),He=ge.__zoom,X=typeof we=="function"?we.apply(ge,ye):we,he=s(He.invert(Le).concat(Se/He.k),X.invert(Le).concat(Se/X.k));return function(ue){if(ue===1)ue=X;else{var me=he(ue),Q=Se/me[2];ue=new er(Q,Le[0]-me[0]*Q,Le[1]-me[1]*Q)}ce.zoom(null,ue)}})}function I($,we,te){return!te&&$.__zooming||new j($,we)}function j($,we){this.that=$,this.args=we,this.active=0,this.sourceEvent=null,this.extent=t.apply($,we),this.taps=0}j.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,we){return this.mouse&&$!=="mouse"&&(this.mouse[1]=we.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=we.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=we.invert(this.touch1[0])),this.that.__zoom=we,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var we=Re(this.that).datum();f.call($,this.that,new _p($,{sourceEvent:this.sourceEvent,target:D,type:$,transform:this.that.__zoom,dispatch:f}),we)}};function Z($,...we){if(!e.apply(this,arguments))return;var te=I(this,we).event($),ae=this.__zoom,ge=Math.max(i[0],Math.min(i[1],ae.k*Math.pow(2,r.apply(this,arguments)))),ye=Gt($);if(te.wheel)(te.mouse[0][0]!==ye[0]||te.mouse[0][1]!==ye[1])&&(te.mouse[1]=ae.invert(te.mouse[0]=ye)),clearTimeout(te.wheel);else{if(ae.k===ge)return;te.mouse=[ye,ae.invert(ye)],Or(this),te.start()}No($),te.wheel=setTimeout(ce,C),te.zoom("mouse",n(H(R(ae,ge),te.mouse[0],te.mouse[1]),te.extent,o));function ce(){te.wheel=null,te.end()}}function be($,...we){if(v||!e.apply(this,arguments))return;var te=$.currentTarget,ae=I(this,we,!0).event($),ge=Re($.view).on("mousemove.zoom",Le,!0).on("mouseup.zoom",Se,!0),ye=Gt($,te),ce=$.clientX,ke=$.clientY;Li($.view),bs($),ae.mouse=[ye,this.__zoom.invert(ye)],Or(this),ae.start();function Le(He){if(No(He),!ae.moved){var X=He.clientX-ce,he=He.clientY-ke;ae.moved=X*X+he*he>A}ae.event(He).zoom("mouse",n(H(ae.that.__zoom,ae.mouse[0]=Gt(He,te),ae.mouse[1]),ae.extent,o))}function Se(He){ge.on("mousemove.zoom mouseup.zoom",null),Oi(He.view,ae.moved),No(He),ae.event(He).end()}}function pe($,...we){if(!!e.apply(this,arguments)){var te=this.__zoom,ae=Gt($.changedTouches?$.changedTouches[0]:$,this),ge=te.invert(ae),ye=te.k*($.shiftKey?.5:2),ce=n(H(R(te,ye),ae,ge),t.apply(this,we),o);No($),l>0?Re(this).transition().duration(l).call(z,ce,ae,$):Re(this).call(D.transform,ce,ae,$)}}function oe($,...we){if(!!e.apply(this,arguments)){var te=$.touches,ae=te.length,ge=I(this,we,$.changedTouches.length===ae).event($),ye,ce,ke,Le;for(bs($),ce=0;ce<ae;++ce)ke=te[ce],Le=Gt(ke,this),Le=[Le,this.__zoom.invert(Le),ke.identifier],ge.touch0?!ge.touch1&&ge.touch0[2]!==Le[2]&&(ge.touch1=Le,ge.taps=0):(ge.touch0=Le,ye=!0,ge.taps=1+!!h);h&&(h=clearTimeout(h)),ye&&(ge.taps<2&&(x=Le[0],h=setTimeout(function(){h=null},M)),Or(this),ge.start())}}function ze($,...we){if(!!this.__zooming){var te=I(this,we).event($),ae=$.changedTouches,ge=ae.length,ye,ce,ke,Le;for(No($),ye=0;ye<ge;++ye)ce=ae[ye],ke=Gt(ce,this),te.touch0&&te.touch0[2]===ce.identifier?te.touch0[0]=ke:te.touch1&&te.touch1[2]===ce.identifier&&(te.touch1[0]=ke);if(ce=te.that.__zoom,te.touch1){var Se=te.touch0[0],He=te.touch0[1],X=te.touch1[0],he=te.touch1[1],ue=(ue=X[0]-Se[0])*ue+(ue=X[1]-Se[1])*ue,me=(me=he[0]-He[0])*me+(me=he[1]-He[1])*me;ce=R(ce,Math.sqrt(ue/me)),ke=[(Se[0]+X[0])/2,(Se[1]+X[1])/2],Le=[(He[0]+he[0])/2,(He[1]+he[1])/2]}else if(te.touch0)ke=te.touch0[0],Le=te.touch0[1];else return;te.zoom("touch",n(H(ce,ke,Le),te.extent,o))}}function de($,...we){if(!!this.__zooming){var te=I(this,we).event($),ae=$.changedTouches,ge=ae.length,ye,ce;for(bs($),v&&clearTimeout(v),v=setTimeout(function(){v=null},M),ye=0;ye<ge;++ye)ce=ae[ye],te.touch0&&te.touch0[2]===ce.identifier?delete te.touch0:te.touch1&&te.touch1[2]===ce.identifier&&delete te.touch1;if(te.touch1&&!te.touch0&&(te.touch0=te.touch1,delete te.touch1),te.touch0)te.touch0[1]=this.__zoom.invert(te.touch0[0]);else if(te.end(),te.taps===2&&(ce=Gt(ce,this),Math.hypot(x[0]-ce[0],x[1]-ce[1])<T)){var ke=Re(this).on("dblclick.zoom");ke&&ke.apply(this,arguments)}}}return D.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:nl(+$),D):r},D.filter=function($){return arguments.length?(e=typeof $=="function"?$:nl(!!$),D):e},D.touchable=function($){return arguments.length?(a=typeof $=="function"?$:nl(!!$),D):a},D.extent=function($){return arguments.length?(t=typeof $=="function"?$:nl([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),D):t},D.scaleExtent=function($){return arguments.length?(i[0]=+$[0],i[1]=+$[1],D):[i[0],i[1]]},D.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],D):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},D.constrain=function($){return arguments.length?(n=$,D):n},D.duration=function($){return arguments.length?(l=+$,D):l},D.interpolate=function($){return arguments.length?(s=$,D):s},D.on=function(){var $=f.on.apply(f,arguments);return $===f?D:$},D.clickDistance=function($){return arguments.length?(A=($=+$)*$,D):Math.sqrt(A)},D.tapDistance=function($){return arguments.length?(T=+$,D):T},D}var G3=P(()=>{To();Jc();Jn();vn();ms();W3();$3();Sp();U3()});var X3={};Ln(X3,{ZoomTransform:()=>er,zoom:()=>xs,zoomIdentity:()=>Ir,zoomTransform:()=>ys});var Mp=P(()=>{G3();Sp()});var _t=ir((ws,j3)=>{(function(e,t){typeof ws=="object"&&typeof j3<"u"?t(ws,(Tr(),Sr(Od)),Bd(),(xu(),Sr(U1)),(hm(),Sr(gy)),(Sm(),Sr(Ry)),(oc(),Sr(Yy)),(vn(),Sr(px)),(hh(),Sr(B2)),(up(),Sr(yS)),lp(),(wp(),Sr(Y3)),(Mp(),Sr(X3))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(ws,function(e,t,n,r,a,i,o,l,s,f,h,x,v){"use strict";var M=function(u,c,d){var p=c[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];var g=p.apply(c,w);return g===c?u:g}},C=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=0,m=p;w<m.length;w++){var g=m[w];u[g]=M(u,c,g)}return u},A=function(c){return function(d){return c.reduce(function(p,b){return p&&b(p)},d)}},T=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=A(p),m=0,g=Object.keys(c);m<g.length;m++){var y=g[m],_=w(y);_&&(u[_]=M(u,c,y))}return u},D=function(u){return u.map(function(c){return typeof c=="string"?new RegExp("^".concat(c,"$")):c})},R=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.every(function(b){return!b.test(p)})&&p}},H=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.some(function(b){return b.test(p)})&&p}},k=function(u){return function(c){return u[c]}},z=function(c){return c[0].toUpperCase()+c.slice(1)},I=function(u){return function(c){return u+z(c)}};function j(u){return u}function Z(u){}function be(u){return typeof u=="function"?u:function(){return u}}function pe(u){return typeof u=="number"&&isNaN(u)?void 0:u}function oe(){var u=function(){return 10},c=Z,d=j,p=function(m){return m!=null},b=function(m){var g=u.apply(this,arguments),y=m.slice(0,g).map(d);return m.map(function(_,S){return S>=g&&(y.shift(),y.push(d(_,S))),S<g-1||y.some(function(V){return!p(V)})?c(void 0,S):c(y,S)})};return b.period=function(){return arguments.length?(u=be(arguments.length<=0?void 0:arguments[0]),b):u},b.accumulator=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b}function ze(){var u=2,c=oe().accumulator(function(p){var b=p&&t.deviation(p),w=p&&t.mean(p);return{average:w,upper:pe(w+u*b),lower:pe(w-u*b)}}),d=function(b){return c(b)};return d.multiplier=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},C(d,c,"period","value"),d}function de(){var u=j,c=function(){return 9},d=function(w){var m=[];return function(g){var y;return m.length<w&&(g!=null?m.push(g):m=[]),m.length>=w&&(y=t.mean(m)),y}},p=function(w){var m=c.apply(this,arguments),g=2/(m+1),y=d(m),_;return w.map(function(S,V){var N=u(S,V);return _===void 0?_=y(N):_=N*g+(1-g)*_,pe(_)})};return p.period=function(){return arguments.length?(c=be(arguments.length<=0?void 0:arguments[0]),p):c},p.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p}function $(){var u=j,c=de().period(12),d=de().period(26),p=de().period(9),b=function(m){c.value(u),d.value(u);var g=t.zip(c(m),d(m)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),y=p(g);return t.zip(g,y).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return b.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},T(b,c,k({period:"fastPeriod"})),T(b,d,k({period:"slowPeriod"})),T(b,p,k({period:"signalPeriod"})),b}function we(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?we=function(c){return typeof c}:we=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},we(u)}function te(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function ae(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function ge(u,c,d){return c&&ae(u.prototype,c),d&&ae(u,d),u}function ye(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),c&&ke(u,c)}function ce(u){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},ce(u)}function ke(u,c){return ke=Object.setPrototypeOf||function(p,b){return p.__proto__=b,p},ke(u,c)}function Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Se(u,c,d){return Le()?Se=Reflect.construct:Se=function(b,w,m){var g=[null];g.push.apply(g,w);var y=Function.bind.apply(b,g),_=new y;return m&&ke(_,m.prototype),_},Se.apply(null,arguments)}function He(u){return Function.toString.call(u).indexOf("[native code]")!==-1}function X(u){var c=typeof Map=="function"?new Map:void 0;return X=function(p){if(p===null||!He(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(p))return c.get(p);c.set(p,b)}function b(){return Se(p,arguments,ce(this).constructor)}return b.prototype=Object.create(p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),ke(b,p)},X(u)}function he(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ue(u,c){return c&&(typeof c=="object"||typeof c=="function")?c:he(u)}function me(u){var c=Le();return function(){var p=ce(u),b;if(c){var w=ce(this).constructor;b=Reflect.construct(p,arguments,w)}else b=p.apply(this,arguments);return ue(this,b)}}function Q(u,c){return Xe(u)||mt(u,c)||ft(u,c)||St()}function K(u){return Xe(u)||Je(u)||ft(u)||St()}function Ce(u){return Me(u)||Je(u)||ft(u)||rt()}function Me(u){if(Array.isArray(u))return Ye(u)}function Xe(u){if(Array.isArray(u))return u}function Je(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}function mt(u,c){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var d=[],p=!0,b=!1,w=void 0;try{for(var m=u[Symbol.iterator](),g;!(p=(g=m.next()).done)&&(d.push(g.value),!(c&&d.length===c));p=!0);}catch(y){b=!0,w=y}finally{try{!p&&m.return!=null&&m.return()}finally{if(b)throw w}}return d}}function ft(u,c){if(!!u){if(typeof u=="string")return Ye(u,c);var d=Object.prototype.toString.call(u).slice(8,-1);if(d==="Object"&&u.constructor&&(d=u.constructor.name),d==="Map"||d==="Set")return Array.from(u);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ye(u,c)}}function Ye(u,c){(c==null||c>u.length)&&(c=u.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=u[d];return p}function rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(u,c){var d;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(d=ft(u))||c&&u&&typeof u.length=="number"){d&&(u=d);var p=0,b=function(){};return{s:b,n:function(){return p>=u.length?{done:!0}:{done:!1,value:u[p++]}},e:function(y){throw y},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,m=!1,g;return{s:function(){d=u[Symbol.iterator]()},n:function(){var y=d.next();return w=y.done,y},e:function(y){m=!0,g=y},f:function(){try{!w&&d.return!=null&&d.return()}finally{if(m)throw g}}}}function Hn(){var u=oe().period(14),c=function(y,_){return _+(y[y.length-1]-_)/y.length},d=function(y){var _=Q(y,2),S=_[0],V=_[1];return S<V?0:S-V},p=function(y){var _=Q(y,2),S=_[0],V=_[1];return S>V?0:V-S},b=function(y,_){return _!==void 0?c(y,_):t.mean(y)},w=function(){var y,_,S;return function(V){if(!V){y!==void 0&&(y=NaN);return}if(y===void 0){y=V[0];return}var N=t.pairs([y].concat(Ce(V)));_=b(N.map(d),_),S=b(N.map(p),S);var O=isNaN(y)?NaN:S/_;return pe(100-100/(1+O))}},m=function(y){var _=w();return u.accumulator(_),u(y)};return C(m,u,"period","value"),m}function mn(){var u=oe().accumulator(function(d){return d&&t.mean(d)}),c=function(p){return u(p)};return C(c,u,"period","value"),c}function Vn(){var u=function(g,y){return g.close},c=function(g,y){return g.high},d=function(g,y){return g.low},p=oe().period(5).defined(function(m){return u(m)!=null&&c(m)!=null&&d(m)!=null}).accumulator(function(m){var g=m&&t.max(m,c),y=m&&t.min(m,d),_=m&&100*(u(m[m.length-1])-y)/(g-y);return pe(_)}),b=mn().period(3),w=function(g){var y=p(g),_=b(y);return y.map(function(S,V){return{k:S,d:_[V]}})};return w.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},T(w,p,k({period:"kPeriod"})),T(w,b,k({period:"dPeriod"})),w}function kn(){var u=function(m,g){return m.volume},c=function(m,g){return m.close},d=de().period(13),p=oe().period(2).defined(function(w){return c(w)!=null&&u(w)!=null}).accumulator(function(w){return w&&pe((c(w[1])-c(w[0]))*u(w[1]))}),b=function(m){var g=p(m);return d(g)};return b.volumeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.closeValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},C(b,d,"period"),b}function Jt(){var u=.1,c=j,d=function(b){return b.map(function(w){var m=pe(c(w)*(1-u)),g=pe(c(w)*(1+u));return{lower:m,upper:g}})};return d.factor=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d}function Yn(){var u=function(m,g){return m.close},c=function(m,g){return m.high},d=function(m,g){return m.low},p=de().period(13),b=function(m){return p.value(u),t.zip(m,p(m)).map(function(g){var y=pe(c(g[0])-g[1]),_=pe(d(g[0])-g[1]);return{bullPower:y,bearPower:_}})};return b.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},C(b,p,"period"),b}function L(){var u={};return u.distance=function(c,d){return d-c},u.offset=function(c,d){return c instanceof Date?new Date(c.getTime()+d):c+d},u.clampUp=function(c){return c},u.clampDown=function(c){return c},u.copy=function(){return u},u}function Y(u,c){var d=u.map(c.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function ve(u){var c=this;arguments.length||(u=n.scaleIdentity());var d=L(),p=function(w){var m=u.domain(),g=u.range(),y=d.distance(m[0],m[1]),_=d.distance(m[0],w),S=_/y,V=S*(g[1]-g[0])+g[0];return V};return p.invert=function(b){var w=u.domain(),m=u.range(),g=(b-m[0])/(m[1]-m[0]),y=d.distance(w[0],w[1]),_=g*y;return d.offset(w[0],_)},p.domain=function(){if(!arguments.length)return u.domain();var b=arguments.length<=0?void 0:arguments[0],w=d.clampUp(b[0]),m=d.clampDown(b[1]);return u.domain([w,m]),p},p.nice=function(){u.nice();var b=u.domain(),w=d.clampUp(b[0]),m=d.clampDown(b[1]);return u.domain([w,m]),p},p.ticks=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];var g=u.ticks.apply(c,w);return Y(g,d)},p.copy=function(){return ve(u.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},T(p,u,H("range","rangeRound","interpolate","clamp","tickFormat")),p}var Oe=function(c,d,p,b){var w={sunday:0,monday:1,saturday:6},m=24*3600*1e3,g=m*5,y=m*7,_={},S=function(N){return c(N)===0||c(N)===6};return _.clampDown=function(V){if(V&&S(V)){var N=d.ceil(V);return c(N)===w.sunday?d.offset(N,-1):c(N)===w.monday?d.offset(N,-2):N}else return V},_.clampUp=function(V){if(V&&S(V)){var N=d.floor(V);return c(N)===w.saturday?d.offset(N,2):c(N)===w.sunday?d.offset(N,1):N}else return V},_.distance=function(V,N){V=_.clampUp(V),N=_.clampDown(N);var O=p.ceil(V);if(N<O)return N.getTime()-V.getTime();var B=O.getTime()-V.getTime(),F=p.ceil(N),U=F.getTime()-N.getTime(),J=Math.round((F.getTime()-O.getTime())/y);return J*g+B-U},_.offset=function(V,N){var O=S(V)?_.clampUp(V):V;if(N===0)return O;var B=N<0,F=N>0,U=N,J=B?b.floor(O):p.ceil(O);if(U-=J.getTime()-O.getTime(),B&&U>0||F&&U<0)return new Date(O.getTime()+N);O=B?J:d.offset(J,2);var ne=Math.floor(U/g);return O=d.offset(O,ne*7),U-=ne*g,O=new Date(O.getTime()+U),O},_.copy=function(){return _},_},Te=function(){return Oe(function(u){return u.getDay()},r.timeDay,r.timeSaturday,r.timeMonday)},E=function(){return Oe(function(u){return u.getUTCDay()},r.utcDay,r.utcSaturday,r.utcMonday)},q=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var b=function(_,S){return _>S[0]&&_<S[1]},w=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},m={};m.distance=function(y,_){y=m.clampUp(y),_=m.clampDown(_);var S=d.filter(function(N){return w(N,[y,_])}),V=S.map(function(N){return N[1]-N[0]});return _-y-V.reduce(function(N,O){return N+O},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return m.offset=function(y,_){if(_>0){var S=function(){for(var N=m.clampUp(y),O=_;O>0;){var B=d.filter(function(J){return J[0]>N}).sort(function(J,ne){return J[0]-ne[0]});if(B.length){var F=B[0],U=F[0]-N;U>O?(N=g(N,O),O=0):(N=F[1],O-=U)}else N=g(N,O),O=0}return{v:N}}();if(we(S)==="object")return S.v}else{var V=function(){for(var N=m.clampDown(y),O=_;O<0;){var B=d.filter(function(J){return J[1]<N}).sort(function(J,ne){return ne[0]-J[0]});if(B.length){var F=B[0],U=F[1]-N;U<O?(N=g(N,O),O=0):(N=F[0],O-=U)}else N=g(N,O),O=0}return{v:N}}();if(we(V)==="object")return V.v}},m.clampUp=function(y){return d.reduce(function(_,S){return b(_,S)?S[1]:_},y)},m.clampDown=function(y){return d.reduce(function(_,S){return b(_,S)?S[0]:_},y)},m.copy=function(){return m},m},le=24*3600*1e3,De="00:00:00.000",W="SOD",ee="EOD";function ie(u){if(arguments.length!==1||typeof u!="string")throw"Expected single argument of type string";var c=function(m,g){return Number.isInteger(m)?m>=0&&m<=g:!1},d=[0,0,0,0],p=u.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=c(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=c(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var b=p[2].split(".").map(function(w){return parseInt(w,10)});d[2]=c(b[0],59)?b[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(b[0],"'")}(),b.length===2&&(d[3]=c(b[1],999)?b[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(b[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function _e(u,c){if(arguments.length!=2||!Array.isArray(u)||u.length!==2||typeof u[0]!="string"||typeof u[1]!="string")throw"Expected argument is a single string[] of length 2.";u[0]===W&&(u[0]=De),u[1]===ee&&(u[1]=De);var d=ie(u[0]),p=ie(u[1]);if(p!==De&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(De);var b=c.setTime(new Date(p===De?le:0),p)-c.setTime(new Date(0),d),w={startTime:d,endTime:p,lenghtInMs:b};return w.isInRange=function(m){var g=c.getTimeString(m);return w.startTime<=g&&(w.endTime===De||w.endTime>g)},w}var xe=function(c,d){var p=c.map(function(g){return _e(g,d)}).sort(function(g,y){return g.startTime<y.startTime?-1:g.startTime>y.startTime?1:0}),b=le-p.reduce(function(g,y){return g+y.lenghtInMs},0),w=function(y,_){if(y.getTime()===_.getTime())return 0;if(d.dayInterval(y).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(y).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(y,"'; intervalEnd: '").concat(_,"'");var S=0,V=p.filter(function(J){return J.endTime===De||d.setTime(y,J.endTime)>=y}),N=ht(V),O;try{for(N.s();!(O=N.n()).done;){var B=O.value,F=d.setTime(y,B.startTime),U=B.endTime===De?d.getStartOfNextDay(y):d.setTime(y,B.endTime);if(y<F&&_<F)return S+d.msInterval.count(y,_);if(y<F&&(S+=d.msInterval.count(y,F)),_<U)return S;y=U}}catch(J){N.e(J)}finally{N.f()}return S+d.msInterval.count(y,_)},m=function(y,_){if(_===0)return[y,_];var S=d.msInterval.offset(y,_),V=_>0?p.filter(function(fe){return d.setTime(y,fe.startTime)>=y}):p.filter(function(fe){return d.setTime(y,fe.startTime)<y}).reverse();if(V.length===0)return[d.msInterval.offset(y,_),0];if(_>0){var N=ht(V),O;try{for(N.s();!(O=N.n()).done;){var B=O.value,F=d.setTime(y,B.startTime);F<=S&&(_-=d.msInterval.count(y,F),y=B.endTime===De?d.getStartOfNextDay(y):d.setTime(y,B.endTime),S=d.msInterval.offset(y,_))}}catch(fe){N.e(fe)}finally{N.f()}_-=d.msInterval.count(y,S)}else{var U=ht(V),J;try{for(U.s();!(J=U.n()).done;){var ne=J.value,re=ne.endTime===De?d.getStartOfNextDay(y):d.setTime(y,ne.endTime);S<re&&(_+=d.msInterval.count(re,y)+1,y=d.msInterval.offset(d.setTime(y,ne.startTime),-1),S=d.msInterval.offset(y,_))}}catch(fe){U.e(fe)}finally{U.f()}_+=d.msInterval.count(S,y)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:b,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:w,offset:m}},Ae=function(c,d,p,b,w){var m={};return m.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},m.getTimeString=function(g){var y=p(g).map(function(B){return B.toString(10).padStart(2,"0")}),_=Q(y,4),S=_[0],V=_[1],N=_[2],O=_[3];return"".concat(S,":").concat(V,":").concat(N,".").concat(O.padStart(3,"0"))},m.setTime=function(g,y){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=m.getTimeComponentArrayFromString(y),V=Q(S,4),N=V[0],O=V[1],B=V[2],F=V[3];return w.offset(c(g,N,O,B,F),_)},m.getStartOfNextDay=function(g){return b.offset(b.floor(g),1)},m.getEndOfPreviousDay=function(g){return w.offset(b.floor(g),-1)},m.dayInterval=b,m.msInterval=w,m.getDay=d,m},Ne=Ae(function(u,c,d,p,b){return new Date(u.getFullYear(),u.getMonth(),u.getDate(),c,d,p,b)},function(u){return u.getDay()},function(u){return[u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()]},r.timeDay,r.timeMillisecond),Fe=function(c,d){var p=function(y){return c[y]===void 0?[]:c[y]},b=[xe(p("Sunday"),d),xe(p("Monday"),d),xe(p("Tuesday"),d),xe(p("Wednesday"),d),xe(p("Thursday"),d),xe(p("Friday"),d),xe(p("Saturday"),d)],w=b.reduce(function(g,y){return g+y.totalTradingTimeInMiliseconds},0);if(w===0)throw"Trading pattern must yield at least 1 ms of trading time";var m={tradingDays:b,totalTradingWeekMilliseconds:w};return m.clampUp=function(g){var y=b[d.getDay(g)],_=ht(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var V=S.value;if(V.isInRange(g))return V.endTime===De?m.clampUp(d.getStartOfNextDay(g)):d.setTime(g,V.endTime)}}catch(N){_.e(N)}finally{_.f()}return g},m.clampDown=function(g){var y=b[d.getDay(g)],_=ht(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var V=S.value;if(V.isInRange(g))return V.startTime===De?m.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,V.startTime,-1)}}catch(N){_.e(N)}finally{_.f()}return g},m.distance=function(g,y){if(g.getTime()===y.getTime())return 0;var _=g<=y?[g,y,1]:[y,g,-1],S=Q(_,3),V=S[0],N=S[1],O=S[2];if(d.dayInterval(V).getTime()===d.dayInterval(N).getTime())return m.tradingDays[d.getDay(V)].totalTradingMillisecondsBetween(V,N);var B=m.tradingDays[d.getDay(V)].totalTradingMillisecondsBetween(V,d.dayInterval.offset(d.dayInterval(V),1))+m.tradingDays[d.getDay(N)].totalTradingMillisecondsBetween(d.dayInterval(N),N);return d.dayInterval.count(V,N)===1?B:(V=d.dayInterval.offset(d.dayInterval(V),1),N=d.dayInterval(N),O*d.dayInterval.range(V,N).reduce(function(F,U,J,ne){var re=J<ne.length-1?ne[J+1]:d.dayInterval.offset(U,1),fe=re-U!==le,Ee=m.tradingDays[d.getDay(U)];return F+=fe?Ee.totalTradingMillisecondsBetween(U,re):Ee.totalTradingTimeInMiliseconds},B))},m.offset=function(g,y){g=y>=0?m.clampUp(g):m.clampDown(g);var _=function(fe){return d.dayInterval.offset(fe)-d.dayInterval(fe)!==le},S=function(fe,Ee,Ge){if(Ge<0){var je=d.dayInterval(Ee),qe=fe.totalTradingMillisecondsBetween(je,Ee);return Math.abs(Ge)<=qe?fe.offset(Ee,Ge):[m.clampDown(d.msInterval.offset(je,-1)),Ge+qe+1]}else{var gt=d.getStartOfNextDay(Ee),an=fe.totalTradingMillisecondsBetween(Ee,gt);return Ge<an?fe.offset(Ee,Ge):[m.clampUp(gt),Ge-an]}};if(y===0)return g;var V=y<0?function(re,fe,Ee){return[m.clampDown(d.dayInterval.offset(re,-1)),fe+Ee]}:function(re,fe,Ee){return[m.clampUp(d.dayInterval.offset(re)),fe-Ee]},N=m.tradingDays[d.getDay(g)],O=S(N,g,y),B=Q(O,2);for(g=B[0],y=B[1];y!==0;)if(N=m.tradingDays[d.getDay(g)],_(g)){var F=S(N,g,y),U=Q(F,2);g=U[0],y=U[1]}else{var J=Math.abs(y)>=N.totalTradingTimeInMiliseconds?V(g,y,N.totalTradingTimeInMiliseconds):S(N,g,y),ne=Q(J,2);g=ne[0],y=ne[1]}return g},m.copy=function(){return m},m},We=function(u){return Fe(u,Ne)},et=Ae(function(u,c,d,p,b){return new Date(Date.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),c,d,p,b))},function(u){return u.getUTCDay()},function(u){return[u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()]},r.utcDay,r.utcMillisecond),xt=function(u){return Fe(u,et)};function Ue(){var u=[function(m){return m}],c=[0,0],d="percent",p=null,b=[],w=function(g){var y=new Array(g.length),_=ht(u),S;try{for(_.s();!(S=_.n()).done;)for(var V=S.value,N=0;N<g.length;N++){var O=V(g[N],N);Array.isArray(O)?y.push.apply(y,Ce(O)):y.push(O)}}catch(J){_.e(J)}finally{_.f()}var B=[t.min(y),t.max(y)];if(B[0]=B[0]==null?t.min(b):t.min([B[0]].concat(Ce(b))),B[1]=B[1]==null?t.max(b):t.max([B[1]].concat(Ce(b))),p!=null){var F=Math.max(Math.abs(B[1]-p),Math.abs(B[0]-p));B[0]=p-F,B[1]=p+F}switch(d){case"domain":{B[0]-=c[0],B[1]+=c[1];break}case"percent":{var U=B[1]-B[0];B[0]-=c[0]*U,B[1]+=c[1]*U;break}default:throw new Error("Unknown padUnit: ".concat(d))}return B};return w.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w}function G(){var u=[],c=[0,0],d="percent",p=null,b=[],w=Ue(),m=function(_){return _!=null?_.valueOf():null},g=function(_){var S=u.map(function(V){return function(){var N=V.apply(void 0,arguments);return Array.isArray(N)?N.map(m):m(N)}});return w.accessors(S).pad(c).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(b.map(function(V){return V.valueOf()})),w(_).map(function(V){return new Date(V)})};return g.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function se(){var u=1,c=20,d=.1,p=.1,b=a.randomNormal(),w=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=u/c,_=[],S=0;S<c+1;S++){_.push(g);var V=b()*Math.sqrt(y)*p+(d-p*p/2)*y;g=g*Math.exp(V)}return _};return w.period=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.steps=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.random=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w}function Ve(u){return typeof u=="function"?u:function(){return u}}function Pe(){var u=new Date,c=100,d=r.timeDay,p=1,b=r.timeYear,w=1,m=null,g=function(){var F=a.randomNormal(1,.1);return Math.ceil(F()*1e3)},y=se(),_=function(F){var U=b.offset(F,w)-F;return(d.offset(F,p)-F)/U},S=function(F,U){var J=_(F),ne=y.period(J)(U),re={date:F,open:ne[0],high:Math.max.apply(Math,ne),low:Math.min.apply(Math,ne),close:ne[y.steps()]};return re.volume=g(re),re},V=function(F){var U,J,ne;do U=F?d.offset(F.date,p):new Date(u.getTime()),J=F?F.close:c,F=S(U,J),ne=m&&!m(F);while(ne);return F},N=function(){var F,U={};return U.next=function(){var J=V(F);return F=J,J},U.take=function(J){return U.until(function(ne,re){return!J||J<0||re===J})},U.until=function(J){for(var ne=[],re=0,fe=V(F),Ee=J&&!J(fe,re);Ee;)ne.push(fe),F=fe,fe=V(F),re+=1,Ee=J&&!J(fe,re);return ne},U},O=function(F){return N().take(F)};if(O.stream=N,typeof Symbol!="function"||we(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return O[Symbol.iterator]=function(){var B=N();return{next:function(){return{value:B.next(),done:!1}}}},O.startDate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],O):u},O.startPrice=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],O):c},O.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],O):p},O.unitInterval=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],O):b},O.unitIntervalStep=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],O):w},O.filter=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],O):m},O.volume=function(){return arguments.length?(g=Ve(arguments.length<=0?void 0:arguments[0]),O):g},T(O,y),O}function en(u){var c=u.date.getDay();return!(c===0||c===6)}function tn(){var u="BTC-USD",c=null,d=null,p=null,b=function(){var m=[];c!=null&&m.push("start="+c.toISOString()),d!=null&&m.push("end="+d.toISOString()),p!=null&&m.push("granularity="+p);var g="https://api.gdax.com/products/"+u+"/candles?"+m.join("&");return i.json(g).then(function(y){return y.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return b.product=function(w){return arguments.length?(u=w,b):u},b.start=function(w){return arguments.length?(c=w,b):c},b.end=function(w){return arguments.length?(d=w,b):d},b.granularity=function(w){return arguments.length?(p=w,b):p},b}function ar(){var u=10,c=function(p){return u<=1?p.map(function(b){return[b]}):t.range(0,Math.ceil(p.length/u)).map(function(b){return p.slice(b*u,(b+1)*u)})};return c.bucketSize=function(d){return arguments.length?(u=d,c):u},c}function ca(){var u=ar(),c=function(m){return m},d=function(m){return m},p=function(m){if(u.bucketSize()>=m.length)return m;var g=b(m),y=u(g),_=u(m.slice(1,m.length-1)),S=_.map(function(V,N){var O=y[N],B=t.max(O),F=O.indexOf(B);return V[F]});return[].concat([m[0]],S,[m[m.length-1]])};function b(w){var m=w.map(function(y){return[c(y),d(y)]}),g=t.range(1,m.length-1).map(function(y){var _=m[y-1],S=m[y],V=m[y+1];return .5*Math.abs((_[0]-V[0])*(S[1]-_[1])-(_[0]-S[0])*(V[1]-_[1]))});return g}return C(p,u,"bucketSize"),p.x=function(w){return arguments.length?(c=w,p):c},p.y=function(w){return arguments.length?(d=w,p):d},p}function Wn(){var u=function(w){return w},c=function(w){return w},d=ar(),p=function(w){if(d.bucketSize()>=w.length)return w;var m=d(w.slice(1,w.length-1)),g=w[0],y=w[w.length-1],_=[].concat([g],m,[y]),S=u(g),V=c(g),N=m.map(function(O,B){var F=t.mean(_[B+1],u),U=t.mean(_[B+1],c),J=O.map(function(Ee){return[u(Ee),c(Ee)]}),ne=J.map(function(Ee){return .5*Math.abs((S-F)*(Ee[1]-V)-(S-Ee[0])*(U-V))}),re=ne.indexOf(t.max(ne)),fe=J[re];return S=fe[0],V=fe[1],O[re]});return[].concat([w[0]],N,[w[w.length-1]])};return C(p,d,"bucketSize"),p.x=function(b){return arguments.length?(u=b,p):u},p.y=function(b){return arguments.length?(c=b,p):c},p}function Go(){var u=ar(),c=function(b){return b},d=function(b){if(u.bucketSize()>b.length)return b;var w=t.extent(b,c),m=u(b.slice(1,b.length-1)),g=m.map(function(y,_){var S={},V,N,O=!0,B=y.map(c),F=B.filter(function(U){return U===w[0]||U===w[1]}).map(function(U){return B.indexOf(U)})[0];return F!==void 0?y[F]:(B.forEach(function(U,J){S[U]===void 0&&(S[U]=0),S[U]++,S[U]>S[V]||V===void 0?(V=U,N=J,O=!0):S[U]===S[V]&&(O=!1)}),O?y[N]:y[Math.floor(y.length/2)])});return[].concat([b[0]],g,[b[b.length-1]])};return C(d,u,"bucketSize"),d.value=function(p){return arguments.length?(c=p,d):c},d}var ct=function(u){return typeof u=="function"?u:function(){return u}},at=function(){var u=null,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},m="vertical",g=ct(3),y=function(S){var V=u||o.path();return S.forEach(function(N,O){var B=c(N,O),F=d(N,O),U=p(N,O),J=b(N,O),ne=w(N,O),re=g(N,O)/2;m==="vertical"?(V.moveTo(B,J),V.lineTo(B,U),V.moveTo(B,F),V.lineTo(B-re,F),V.moveTo(B,ne),V.lineTo(B+re,ne)):(V.moveTo(J,B),V.lineTo(U,B),V.moveTo(F,B),V.lineTo(F,B+re),V.moveTo(ne,B),V.lineTo(ne,B-re))}),u?null:V.toString()};return y.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),y):c},y.open=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),y):d},y.high=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),y):p},y.low=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),y):b},y.close=function(){return arguments.length?(w=ct(arguments.length<=0?void 0:arguments[0]),y):w},y.width=function(){return arguments.length?(g=ct(arguments.length<=0?void 0:arguments[0]),y):g},y.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],y):m},y},Ft=function(){var u=null,c=function(_){return _.x},d=function(_){return _.y},p="center",b="center",w=function(_){return _.height},m=ct(3),g=function(_,S){var V=u||o.path();return _.forEach(function(N,O){var B=c.call(this,N,S||O),F=d.call(this,N,S||O),U=w.call(this,N,S||O),J=m.call(this,N,S||O),ne;switch(p){case"left":ne=J;break;case"right":ne=0;break;case"center":ne=J/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var re;switch(b){case"bottom":re=-U;break;case"top":re=0;break;case"center":re=U/2;break;default:throw new Error("Invalid vertical alignment "+b)}V.rect(B-ne,F-re,J,U)},this),u?null:V.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),g):c},g.y=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(m=ct(arguments.length<=0?void 0:arguments[0]),g):m},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(w=ct(arguments.length<=0?void 0:arguments[0]),g):w},g.verticalAlign=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g},Yt=function(){var u=null,c=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},b=function(_){return _.low},w=function(_){return _.close},m=ct(3),g=function(_){var S=u||o.path();return _.forEach(function(V,N){var O=c(V,N),B=d(V,N),F=p(V,N),U=b(V,N),J=w(V,N),ne=m(V,N),re=ne/2;S.rect(O-re,B,ne,J-B),S.moveTo(O,Math.min(J,B)),S.lineTo(O,F),S.moveTo(O,Math.max(J,B)),S.lineTo(O,U)}),u?null:S.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),g):c},g.open=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),g):b},g.close=function(){return arguments.length?(w=ct(arguments.length<=0?void 0:arguments[0]),g):w},g.width=function(){return arguments.length?(m=ct(arguments.length<=0?void 0:arguments[0]),g):m},g},nn=function(){var u=null,c=function(N){return N.value},d=function(N){return N.median},p=function(N){return N.upperQuartile},b=function(N){return N.lowerQuartile},w=function(N){return N.high},m=function(N){return N.low},g="vertical",y=ct(5),_=ct(.5),S=function(N){var O=u||o.path();return N.forEach(function(B,F){var U=c(B,F),J=y(B,F),ne=J/2,re=J*_(B,F),fe=re/2,Ee=w(B,F),Ge=p(B,F),je=d(B,F),qe=b(B,F),gt=m(B,F),an=qe-Ge;g==="vertical"?(O.moveTo(U-fe,Ee),O.lineTo(U+fe,Ee),O.moveTo(U,Ee),O.lineTo(U,Ge),O.rect(U-ne,Ge,J,an),O.moveTo(U-ne,je),O.lineTo(U+ne,je),O.moveTo(U,qe),O.lineTo(U,gt),O.moveTo(U-fe,gt),O.lineTo(U+fe,gt)):(O.moveTo(gt,U-fe),O.lineTo(gt,U+fe),O.moveTo(gt,U),O.lineTo(qe,U),O.rect(qe,U-ne,-an,J),O.moveTo(je,U-ne),O.lineTo(je,U+ne),O.moveTo(Ge,U),O.lineTo(Ee,U),O.moveTo(Ee,U-fe),O.lineTo(Ee,U+fe))}),u?null:O.toString()};return S.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.value=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),S):c},S.median=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),S):b},S.high=function(){return arguments.length?(w=ct(arguments.length<=0?void 0:arguments[0]),S):w},S.low=function(){return arguments.length?(m=ct(arguments.length<=0?void 0:arguments[0]),S):m},S.width=function(){return arguments.length?(y=ct(arguments.length<=0?void 0:arguments[0]),S):y},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=ct(arguments.length<=0?void 0:arguments[0]),S):_},S},Tn=function(){var u=null,c=function(y){return y.x},d=function(y){return y.high},p=function(y){return y.low},b="vertical",w=ct(5),m=function(y){var _=u||o.path();return y.forEach(function(S,V){var N=c(S,V),O=w(S,V),B=O/2,F=d(S,V),U=p(S,V);b==="vertical"?(_.moveTo(N-B,F),_.lineTo(N+B,F),_.moveTo(N,F),_.lineTo(N,U),_.moveTo(N-B,U),_.lineTo(N+B,U)):(_.moveTo(U,N-B),_.lineTo(U,N+B),_.moveTo(U,N),_.lineTo(F,N),_.moveTo(F,N-B),_.lineTo(F,N+B))}),u?null:_.toString()};return m.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.value=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),m):c},m.high=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),m):d},m.low=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),m):p},m.width=function(){return arguments.length?(w=ct(arguments.length<=0?void 0:arguments[0]),m):w},m.orient=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m},Wt=function(u){return typeof u=="function"?u:function(){return u}},hn=1e-6,zt=function(c){return c.selection()!==c},ot=function(u,c){u=u||"g";var d=function(m,g){return g},p=null,b=function(m,g){g=g||function(F){return F};var y=m.selection(),_=zt(m)?m:null,S=y.selectChildren(c==null?u:"".concat(u,".").concat(c)),V=S.data(g,d),N=V.enter().append(u).attr("class",c),O=V.exit();V=V.merge(N);var B=_||p;return B&&(V=V.transition(B).style("opacity",1),N.style("opacity",hn),O=O.transition(B).style("opacity",hn)),O.remove(),V.enter=function(){return N},V.exit=function(){return O},V};return b.element=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.className=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b},Wr=function(u){var c=function(){},d=function(){return[0,0]},p=function(V,N){return[V.x,V.y]},b=u||function(S){return S},w=function(){},m=n.scaleIdentity(),g=n.scaleIdentity(),y=ot("g","label"),_=function(V){V.each(function(N,O,B){var F=y(l.select(B[O]),N).call(w),U=F.nodes(),J=U.map(function(re,fe){var Ee=l.select(re).datum(),Ge=p(Ee,fe,U),je=[m(Ge[0]),g(Ge[1])],qe=d(Ee,fe,U);return{hidden:!1,x:je[0],y:je[1],width:qe[0],height:qe[1]}}),ne=b(J);F.attr("style",function(re,fe){return"display:"+(ne[fe].hidden?"none":"inherit")}).attr("transform",function(re,fe){return"translate("+ne[fe].x+", "+ne[fe].y+")"}).attr("layout-width",function(re,fe){return ne[fe].width}).attr("layout-height",function(re,fe){return ne[fe].height}).attr("anchor-x",function(re,fe,Ee){return J[fe].x-ne[fe].x}).attr("anchor-y",function(re,fe,Ee){return J[fe].y-ne[fe].y}),F.call(w),c(F,N,O)})};return T(_,y,H("key")),T(_,b),_.size=function(){return arguments.length?(d=Wt(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Wt(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],_):w},_.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],_):c},_.xScale=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},cf=function(u){var c=2,d=function(y){return y},p=ot("text"),b=ot("rect"),w=ot("circle"),m=function(y){y.each(function(_,S,V){var N=V[S],O=l.select(N),B=Number(N.getAttribute("layout-width")),F=Number(N.getAttribute("layout-height")),U=b(O,[_]);U.attr("width",B).attr("height",F);var J=Number(N.getAttribute("anchor-x")),ne=Number(N.getAttribute("anchor-y")),re=w(O,[_]);re.attr("r",2).attr("cx",J).attr("cy",ne);var fe=p(O,[_]);fe.enter().attr("dy","0.9em").attr("transform","translate(".concat(c,", ").concat(c,")")),fe.text(d)})};return m.padding=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.value=function(){return arguments.length?(d=Wt(arguments.length<=0?void 0:arguments[0]),m):d},m},yr=function(c,d){return!(c.x>=d.x+d.width||c.x+c.width<=d.x||c.y>=d.y+d.height||c.y+c.height<=d.y)},ji=function(u,c){if(yr(u,c)){var d=Math.max(u.x,c.x),p=Math.min(u.x+u.width,c.x+c.width),b=Math.max(u.y,c.y),w=Math.min(u.y+u.height,c.y+c.height);return(p-d)*(w-b)}else return 0},sa=function(c,d){return t.sum(c.map(function(p,b){return d===b?0:ji(c[d],p)}))},br=function(c,d,p,b,w){return{x:c,y:d,width:p,height:b,location:w}},_l=function(u){var c=u.x,d=u.y,p=u.width,b=u.height;return[br(c,d,p,b,"bottom-right"),br(c-p,d,p,b,"bottom-left"),br(c-p,d-b,p,b,"top-left"),br(c,d-b,p,b,"top-right"),br(c,d-b/2,p,b,"middle-right"),br(c-p/2,d,p,b,"bottom-center"),br(c-p,d-b/2,p,b,"middle-left"),br(c-p/2,d-b,p,b,"top-center")]},Sl=function(c,d,p){return[].concat(Ce(c.slice(0,d)),[p],Ce(c.slice(d+1)))},sf=function(c,d){return c<d},Ml=function u(){var c=null,d=sf,p=function(){return 0},b,w=function(y,_){return c-p(b[_],_,b)+p(y,_,Sl(b,_,y))},m=function g(y,_){c||(c=t.sum(b.map(function(V,N){return p(V,N,b)})));var S=w(y,_);return d(S,c)?u().locationScore(p).winningScore(d).score(S).rectangles(Sl(b,_,y)):g};return m.rectangles=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.score=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m},ff=function(){var u,c=function(w){return u?w.width*w.height-ji(w,u):0},d=function(w,m,g){return sa(g,m)+c(w)},p=function(w){var m=Ml().locationScore(d).rectangles(w);return w.forEach(function(g,y){_l(g).forEach(function(_,S){m=m(_,y)})}),m.rectangles()};return p.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},df=function(c){return c[Tl(c)]},Tl=function(c){return Math.floor(Math.random()*c.length)},mf=function(){var u=1e3,c=1,d,p=function(y){switch(y.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return y.width*y.height/8}return y.width*y.height/4},b=function(y){return d?y.width*y.height-ji(y,d):0},w=function(y,_,S){return sa(S,_)+b(y)+p(y)},m=function(y){for(var _=u,S=function(F,U){return Math.exp((U-F)/_)>Math.random()},V=Ml().locationScore(w).winningScore(S).rectangles(y);_>0;){var N=Tl(y),O=df(_l(y[N]));V=V(O,N),_-=c}return V.rectangles()};return m.temperature=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.cooling=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m},hf=function(c,d){return c[t.scan(c,d)]},pf=function(u){u=u||function(d){return d};var c=function(p){p=u(p);for(var b=function(){var g=p.filter(function(S){return!S.hidden}),y=g.map(function(S,V){return[S,sa(g,V)]}),_=hf(y,function(S,V){return V[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var w=b();if(w==="break")break}return p};return T(c,u),c},gf=function(){var u=[0,0],c=function(p){return p.map(function(b,w){var m=b.x,g=b.y;return m+b.width>u[0]&&(m-=b.width),g+b.height>u[1]&&(g-=b.height),{height:b.height,width:b.width,x:m,y:g}})};return c.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Vt=function(u){return typeof u=="function"?u:function(){return u}};function Xa(){var u=arguments;return function(c,d){for(var p=0,b=u.length;p<b;p++)if(u[p](c,d)==null)return!1;return!0}}var ja=function(u,c){switch(u){case"left":return c/2;case"right":return-c/2;default:return 0}},$r=function(u){var c=Object.assign({},u),d=function(){};return Object.keys(c).forEach(function(p){d[p]=function(){return arguments.length?(c[p]=arguments.length<=0?void 0:arguments[0],d):c[p]}}),d},Dn=function(){var u=function(){return 0},c=function(y){return y.x},d=function(y){return y.y},p="center",b=function(){return 5},w="vertical",m=$r({decorate:function(){},defined:function(y,_){return Xa(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.values=function(g,y){var _=b(g,y),S=ja(p,_),V=m.xScale(),N=m.yScale();if(w==="vertical"){var O=N(d(g,y),y),B=N(u(g,y),y),F=V(c(g,y),y)+S;return{d:g,x:F,y:O,y0:B,width:_,height:O-B,origin:[F,O],baseOrigin:[F,B],transposedX:F,transposedY:O}}else{var U=V(d(g,y),y),J=V(u(g,y),y),ne=N(c(g,y),y)+S;return{d:g,x:ne,y:U,y0:J,width:_,height:U-J,origin:[U,ne],baseOrigin:[J,ne],transposedX:U,transposedY:ne}}},m.xValues=function(){return w==="vertical"?[c]:[u,d]},m.yValues=function(){return w!=="vertical"?[c]:[u,d]},m.baseValue=function(){return arguments.length?(u=Vt(arguments.length<=0?void 0:arguments[0]),m):u},m.crossValue=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),m):c},m.mainValue=function(){return arguments.length?(d=Vt(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(b=Vt(arguments.length<=0?void 0:arguments[0]),m):b},m.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m},vf="#c60",yf="#6c0",bf="#000",$e="#ddd",dt="#999",Qe={red:vf,green:yf,black:bf,gray:$e,darkGray:dt},Ie=function(){var u=Dn(),c=s.line().x(function(b,w){return u.values(b,w).transposedX}).y(function(b,w){return u.values(b,w).transposedY}),d=ot("path","line"),p=function(w){zt(w)&&d.transition(w),c.defined(u.defined()),w.each(function(m,g,y){var _=d(l.select(y[g]),[m]);_.enter().attr("fill","none").attr("stroke",Qe.black),_.attr("d",c),u.decorate()(_,m,g)})};return T(p,u,R("baseValue","bandwidth","align")),C(p,d,"key"),C(p,c,"curve"),p},$t=function(){var u=Dn(),c=s.line().x(function(p,b){return u.values(p,b).transposedX}).y(function(p,b){return u.values(p,b).transposedY}),d=function(b){var w=c.context();w.beginPath(),w.strokeStyle=Qe.black,w.fillStyle="transparent",u.decorate()(w,b),c.defined(u.defined())(b),w.fill(),w.stroke(),w.closePath()};return T(d,u,R("baseValue","bandwidth","align")),C(d,c,"curve","context"),d},nt=function(){var u=[0,1],c=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.range=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d},pn=function(){var u={},c={},d=null,p=function(w,m){var g=w.context();Object.keys(u).forEach(function(y){var _=u[y];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(y,", found ").concat(_));var S=g.getAttribLocation(m,y);_.location(S)(w)}),Object.keys(c).forEach(function(y){var _=c[y];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(y,", found ").concat(_));var S=g.getUniformLocation(m,y);_.location(S)(w)}),d!==null&&d(w)};return p.flush=function(){Object.values(u).forEach(function(b){return b.clear()}),Object.values(c).forEach(function(b){return b.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return w.length===1?u[w[0]]:(u[w[0]]=w[1],p)},p.uniform=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return w.length===1?c[w[0]]:(c[w[0]]=w[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},Dt=function(u){var c=-1,d=u,p=!0,b=function(m){if(!!p){var g=m.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(c,d);break;case 2:g.uniform2fv(c,d);break;case 3:g.uniform3fv(c,d);break;case 4:g.uniform4fv(c,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(c,d);p=!1}};return b.clear=function(){p=!0},b.location=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],p=!0),b):c},b.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},b},rn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},$n=function(){var u=null,c=null,d=null,p=null,b=null,w=null,m=rn.TRIANGLES,g=0,y=pn(),_=!1,S=null,V=!0,N=1,O=function J(ne){if(u!=null){var re=d(),fe=p();if(B(c,re,fe)&&(c=F(re,fe),b=re,w=fe,V=!1),u.useProgram(c),y.uniform("uScreen",Dt([u.canvas.width/N,u.canvas.height/N])),y(J,c),g===0)y.elementIndices()==null?u.drawArrays(m,0,ne):u.drawElements(m,ne,u.UNSIGNED_SHORT,0);else if(y.elementIndices()==null)S.drawArraysInstancedANGLE(m,0,g,ne);else{var Ee=y.elementIndices().data().length;if(g!==Ee)throw new Error("Expected elementIndices length ".concat(Ee)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(m,g,u.UNSIGNED_SHORT,0,ne)}}};return O.extInstancedArrays=function(){return S},O.context=function(){for(var J=arguments.length,ne=new Array(J),re=0;re<J;re++)ne[re]=arguments[re];return ne.length?((ne[0]==null||ne[0]!==u)&&(y.flush(),V=!0),ne[0]!=null&&ne[0]!==u&&(S=ne[0].getExtension("ANGLE_instanced_arrays")),u=ne[0],O):u},O.buffers=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],O):p},O.mode=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],O):m},O.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],O):g},O.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},O.pixelRatio=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],O):N},O;function B(J,ne,re){return!J||V?!0:ne!==b||re!==w}function F(J,ne){var re=U(J,u.VERTEX_SHADER),fe=U(ne,u.FRAGMENT_SHADER),Ee=u.createProgram();if(u.attachShader(Ee,re),u.attachShader(Ee,fe),u.linkProgram(Ee),_&&!u.getProgramParameter(Ee,u.LINK_STATUS)){var Ge=u.getProgramInfoLog(Ee);throw u.deleteProgram(Ee),new Error("Failed to link program : ".concat(Ge,`
            Vertex Shader : `).concat(J,`
            Fragment Shader : `).concat(ne))}return Ee}function U(J,ne){var re=u.createShader(ne);if(u.shaderSource(re,J),u.compileShader(re),_&&!u.getShaderParameter(re,u.COMPILE_STATUS)){var fe=u.getShaderInfoLog(re);throw u.deleteShader(re),new Error("Failed to compile shader : ".concat(fe,`
            Shader : `).concat(J))}return re}},Ct=function(u){var c=[],d=[],p=function(){return u(c.join(`
`),d.join(`
`))};function b(g,y){g.push(y)}function w(g,y,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,y)}function m(g,y){var _=g.indexOf(y);_===-1&&g.push(y)}return p.appendHeader=function(g){return b(c,g),p},p.insertHeader=function(g,y){return w(c,g,y),p},p.appendHeaderIfNotExists=function(g){return m(c,g),p},p.appendBody=function(g){return b(d,g),p},p.insertBody=function(g,y){return w(d,g,y),p},p.appendBodyIfNotExists=function(g){return m(d,g),p},p},Nn=function(c,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(c,`
void main() {
    `).concat(d,`
}`)},En=function(c,d){return`
precision mediump float;
`.concat(c,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},Dg={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},Ng={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},Eg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Pg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Lg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Og={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Ig={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},zg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Rg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Fg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Bg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Hg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Yg={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Wg={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},$g={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Ug={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},qg={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Gg={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Xg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},jg={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Qg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Zg={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Kg={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Jg={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},e0={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},t0={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},n0={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},r0={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},a0={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},i0={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},G4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Wg.header).appendBody(Wg.body),c.appendHeader(e0.header).appendBody(e0.body),{vertex:function(){return u},fragment:function(){return c}}},yt={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function xf(u){switch(u){case yt.BYTE:case yt.UNSIGNED_BYTE:return 1;case yt.SHORT:case yt.UNSIGNED_SHORT:return 2;case yt.FLOAT:return 4;default:throw new Error("Unknown type ".concat(u))}}function o0(u){switch(u){case yt.BYTE:return Int8Array;case yt.UNSIGNED_BYTE:return Uint8Array;case yt.SHORT:return Int16Array;case yt.UNSIGNED_SHORT:return Uint16Array;case yt.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(u))}}var Cl=function(){var u=-1,c=null,d=1,p=yt.FLOAT,b=!1,w=0,m=0,g=null,y=function(S){var V=S.context();c==null&&(c=V.createBuffer()),V.bindBuffer(V.ARRAY_BUFFER,c),V.vertexAttribPointer(u,d,p,b,w,m),V.enableVertexAttribArray(u);var N=S.extInstancedArrays();N.vertexAttribDivisorANGLE(u,g??(S.subInstanceCount()>0?1:0))};return y.location=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.buffer=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.normalized=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],y):b},y.stride=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],y):w},y.offset=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],y):m},y.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],y):g},y},X4=function(){var u=yt.FLOAT,c=new Float32Array(0),d=function(b){var w=o0(u);return c.length>b?c=new w(c.buffer,0,b):c.length!==b&&(c=new w(b)),c};return d.type=function(){if(!arguments.length)return u;if(u!==(arguments.length<=0?void 0:arguments[0])){u=arguments.length<=0?void 0:arguments[0];var p=o0(u);c=new p(0)}return d},d},u0=function(){var u=!0,c=1,d=yt.FLOAT,p=X4(),b=function(y,_){return y},w=null,m=function(){var y=w.length,_=p.type(d)(y*c);if(c>1)for(var S=0;S<y;S++){var V=b(w[S],S);if(V.length!==c)throw new Error("Expected components array of size ".concat(c,", recieved array with length ").concat(V.length,"."));for(var N=0;N<c;N++)_[S*c+N]=V[N]}else for(var O=0;O<y;O++){var B=b(w[O],O);if(Array.isArray(B))throw new Error("Expected a single component value, recieved array with length ".concat(B.length,"."));_[O]=B}return u=!1,_};return m.dirty=function(){return u},m.clear=function(){u=!0},m.size=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u=!0,m):c},m.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u=!0,m):d},m.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u=!0,m):p},m.value=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u=!0,m):b},m.data=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],u=!0,m):w},m},ut=function(){var u=Cl(),c=u0(),d=function p(b){if(u.size(p.size()).type(p.type()),u(b),!!c.dirty()){var w=c(),m=b.context();m.bindBuffer(m.ARRAY_BUFFER,u.buffer()),m.bufferData(m.ARRAY_BUFFER,w,m.DYNAMIC_DRAW)}};return d.clear=function(){u.buffer(null),c.clear()},C(d,u,"normalized","location","divisor"),C(d,c,"data","value","size","type"),d},Ke=function(u,c,d,p){for(var b=arguments.length,w=new Array(b>4?b-4:0),m=4;m<b;m++)w[m-4]=arguments[m];u[c]=function(){for(var g=arguments.length,y=new Array(g),_=0;_<g;_++)y[_]=arguments[_];var S=d[p].apply(d,w.concat(y));return S===d?u:S}},l0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=ut().divisor(0).size(3).type(yt.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);u.buffers().attribute("aCorner",b);var w=function(g){var y=G4();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u(g-1)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,u,"context","pixelRatio"),Ke(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(w,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),Ke(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(w,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),Ke(w,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),Ke(w,"baseNextValueAttribute",u.buffers(),"attribute","aBaseNextValue"),Ke(w,"definedAttribute",u.buffers(),"attribute","aDefined"),Ke(w,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),w},c0=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Eg.header).appendBody(Eg.body),c.appendHeader(Ug.header).appendBody(Ug.body),{vertex:function(){return u},fragment:function(){return c}}},s0=function(){var u=$n().mode(rn.POINTS),c=nt(),d=nt(),p=c0(),b=function(){},w=function(g){u.vertexShader(p.vertex()).fragmentShader(p.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u(g)};return w.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,u,"context","pixelRatio"),Ke(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(w,"sizeAttribute",u.buffers(),"attribute","aSize"),Ke(w,"definedAttribute",u.buffers(),"attribute","aDefined"),w},Xo=function(){var u=1,c=function(p){p.buffers().uniform("uStrokeWidth",Dt(u))};return c.lineWidth=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Qa=function(u){var c=null,d=u,p=!0,b=function(m){var g=m.context();c==null&&(c=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return b.clear=function(){c=null,p=!0},b.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],b):d},b},f0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=Xo(),w=ut().divisor(0).size(4).type(yt.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);u.buffers().elementIndices(Qa([0,1,2,2,3,0])).attribute("aCorner",w);var m=function(y){var _=Ct(Nn),S=Ct(En);u.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),c(u,"value",0),c(u,"nextValue",0),d(u,"value",1),d(u,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),b(u),p(u),u(y-1)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},C(m,u,"context","pixelRatio"),C(m,b,"lineWidth"),Ke(m,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(m,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),Ke(m,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(m,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),Ke(m,"definedAttribute",u.buffers(),"attribute","aDefined"),Ke(m,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),m},j4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Bg.header).appendBody(Bg.body),c.appendHeader(Jg.header).appendBody(Jg.body),{vertex:function(){return u},fragment:function(){return c}}},d0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(18),c=nt(),d=nt(),p=Xo(),b=function(){},w=ut().divisor(0).size(3).type(yt.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",w);var m=function(y){var _=j4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},C(m,u,"context","pixelRatio"),C(m,p,"lineWidth"),Ke(m,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(m,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),Ke(m,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(m,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(m,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),Ke(m,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(m,"definedAttribute",u.buffers(),"attribute","aDefined"),m},Q4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Hg.header).appendBody(Hg.body),c.appendHeader(r0.header).appendBody(r0.body),{vertex:function(){return u},fragment:function(){return c}}},m0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=ut().divisor(0).size(2).type(yt.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,1,3])).attribute("aCorner",b);var w=function(g){var y=Q4();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(u),u(g)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,u,"context","pixelRatio"),Ke(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(w,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),Ke(w,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(w,"definedAttribute",u.buffers(),"attribute","aDefined"),w},Z4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Yg.header).appendBody(Yg.body),c.appendHeader(n0.header).appendBody(n0.body),{vertex:function(){return u},fragment:function(){return c}}},h0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(18),c=nt(),d=nt(),p=function(){},b=Xo(),w=ut().divisor(0).size(3).type(yt.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",w);var m=function(y){var _=Z4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(u),u(y)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},C(m,u,"context","pixelRatio"),C(m,b,"lineWidth"),Ke(m,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(m,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(m,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(m,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(m,"definedAttribute",u.buffers(),"attribute","aDefined"),m},K4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Fg.header).appendBody(Fg.body),c.appendHeader(Kg.header).appendBody(Kg.body),{vertex:function(){return u},fragment:function(){return c}}},p0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(12),c=nt(),d=nt(),p=Xo(),b=function(){},w=ut().divisor(0).size(3).type(yt.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",w);var m=function(y){var _=K4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},C(m,u,"context","pixelRatio"),C(m,p,"lineWidth"),Ke(m,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(m,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),Ke(m,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(m,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(m,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),Ke(m,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(m,"definedAttribute",u.buffers(),"attribute","aDefined"),m},J4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader($g.header).appendBody($g.body),c.appendHeader(t0.header).appendBody(t0.body),{vertex:function(){return u},fragment:function(){return c}}},g0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(54),c=nt(),d=nt(),p=function(){},b=Xo(),w=ut().divisor(0).size(4).type(yt.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);u.buffers().elementIndices(Qa([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",w);var m=function(y){var _=J4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(u),u(y)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},C(m,u,"context","pixelRatio"),C(m,b,"lineWidth"),Ke(m,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(m,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(m,"upperQuartileValueAttribute",u.buffers(),"attribute","aUpperQuartileValue"),Ke(m,"medianValueAttribute",u.buffers(),"attribute","aMedianValue"),Ke(m,"lowerQuartileValueAttribute",u.buffers(),"attribute","aLowerQuartileValue"),Ke(m,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(m,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(m,"capAttribute",u.buffers(),"attribute","aCapWidth"),Ke(m,"definedAttribute",u.buffers(),"attribute","aDefined"),m},fa=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(u>0||c<0)throw new Error("Offset values (".concat(u," & ").concat(c,") must straddle 0 "));var d=Cl(),p=u0(),b=function w(m){var g=w.size()*xf(w.type()),y=Math.abs(u)*g;if(d.offset(y).size(w.size()).type(w.type()),d(m),!!p.dirty()){var _=p(),S=c*g,V=y+_.length*xf(w.type())+S,N=m.context();N.bindBuffer(N.ARRAY_BUFFER,d.buffer()),N.bufferData(N.ARRAY_BUFFER,V,N.DYNAMIC_DRAW),N.bufferSubData(N.ARRAY_BUFFER,y,_)}};return b.offset=function(w){if(u>w||w>c)throw new Error("Requested offset ".concat(w," exceeds bounds (").concat(u," & ").concat(c,") "));var m=function(y){d.offset((w-u)*b.size()*xf(b.type())),d(y)};return C(m,b,"clear","location"),m},b.clear=function(){d.buffer(null),p.clear()},C(b,d,"normalized","location","divisor"),C(b,p,"data","value","size","type"),b},Al=function(){var u=nt(),c=function(b){return"linear".concat(b)},d=function(b,w,m){b.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(c(m),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(c(m),"Scale;")).appendBody("".concat(w," = ").concat(w," + ").concat(c(m),"Offset;")).appendBody("".concat(w," = ").concat(w," * ").concat(c(m),"Scale;"));var g=u.domain()[1]-u.domain()[0],y=u.range()[1]-u.range()[0],_=u.range()[0]*(g/y)-u.domain()[0],S=y/g,V=[0,0,0,0],N=[1,1,1,1];V[m]=_,N[m]=S,b.buffers().uniform("".concat(c(m),"Offset"),Dt(V)).uniform("".concat(c(m),"Scale"),Dt(N))};return T(d,u),d},v0=function(){var u=nt(),c=10;function d(w,m){return Math.log10(w)/Math.log10(m)}var p=function(m){return"log".concat(m)},b=function(m,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * clamp(log(").concat(g,") / log(").concat(p(y),"Base), -inf, inf))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Base;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),V=u.range()[1]-u.range()[0],N=V/S,O=u.range()[0]-N*d(u.domain()[0],c),B=[0,0,0,0],F=[0,0,0,0],U=[0,0,0,0];B[y]=O,F[y]=N,U[y]=1,m.buffers().uniform("".concat(p(y),"Offset"),Dt(B)).uniform("".concat(p(y),"Scale"),Dt(F)).uniform("".concat(p(y),"Include"),Dt(U)).uniform("".concat(p(y),"Base"),Dt(c))};return b.base=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},T(b,u),b},y0=function(){var u=nt(),c=1;function d(w,m){return Math.sign(w)*Math.pow(Math.abs(w),m)}var p=function(m){return"pow".concat(m)},b=function(m,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(y),"Exp)))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Exp;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),V=u.range()[1]-u.range()[0],N=V/S,O=u.range()[0]-N*d(u.domain()[0],c),B=[0,0,0,0],F=[0,0,0,0],U=[0,0,0,0];B[y]=O,F[y]=N,U[y]=1,m.buffers().uniform("".concat(p(y),"Offset"),Dt(B)).uniform("".concat(p(y),"Scale"),Dt(F)).uniform("".concat(p(y),"Include"),Dt(U)).uniform("".concat(p(y),"Exp"),Dt(c))};return b.exponent=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},T(b,u),b},e7=n.scaleLinear().copy.toString(),t7=n.scaleLog().copy.toString(),n7=n.scalePow().copy.toString(),r7=n.scaleTime().copy.toString(),wf=n.scaleIdentity(),a7=Date.now(),b0=function(c){return c-a7},da=function(u){switch(u.copy.toString()){case e7:return{scale:wf,webglScale:Al().domain(u.domain())};case r7:return{scale:b0,webglScale:Al().domain(u.domain().map(b0))};case t7:return{scale:wf,webglScale:v0().domain(u.domain()).base(u.base())};case n7:return{scale:wf,webglScale:y0().domain(u.domain()).exponent(u.exponent())};default:return{scale:u.copy(),webglScale:Al().domain(u.range())}}},i7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Og.header).appendBody(Og.body),c.appendHeader(Xg.header).appendBody(Xg.body),{vertex:function(){return u},fragment:function(){return c}}},o7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(zg.header).appendBody(zg.body),c.appendHeader(Qg.header).appendBody(Qg.body),{vertex:function(){return u},fragment:function(){return c}}},u7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Rg.header).appendBody(Rg.body),c.appendHeader(Zg.header).appendBody(Zg.body),{vertex:function(){return u},fragment:function(){return c}}},l7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Ig.header).appendBody(Ig.body),c.appendHeader(jg.header).appendBody(jg.body),{vertex:function(){return u},fragment:function(){return c}}},c7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Pg.header).appendBody(Pg.body),c.appendHeader(qg.header).appendBody(qg.body),{vertex:function(){return u},fragment:function(){return c}}},s7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Lg.header).appendBody(Lg.body),c.appendHeader(Gg.header).appendBody(Gg.body),{vertex:function(){return u},fragment:function(){return c}}},x0=function(u){switch(u){case s.symbolCircle:return c0();case s.symbolSquare:return i7();case s.symbolTriangle:return o7();case s.symbolCross:return u7();case s.symbolDiamond:return l7();case s.symbolStar:return c7();case s.symbolWye:return s7();default:throw new Error("Unrecognised symbol: ".concat(u))}},w0=function(u){var c=Cl().divisor(1),d=u,p=!0,b=function(m){if(c(m),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==c.size())throw new Error("Expected array of length: ".concat(c.size(),", recieved array of length: ").concat(d.length));var g=m.context();g["vertexAttrib".concat(d.length,"fv")](c.location(),d),g.disableVertexAttribArray(c.location()),p=!1}};return b.clear=function(){p=!0},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},C(b,c,"normalized","size","location"),b},f7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=ut().size(4),d=u,p=!0,b=function(m){if(m.vertexShader().appendHeaderIfNotExists(Dg.header).appendBodyIfNotExists(Dg.body),m.fragmentShader().appendHeaderIfNotExists(a0.header).appendBodyIfNotExists(a0.body),Array.isArray(d))m.buffers().attribute("aFillColor",w0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),m.buffers().attribute("aFillColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},C(b,c,"data"),b},d7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=ut().size(4),d=u,p=!0,b=function(m){if(m.vertexShader().appendHeaderIfNotExists(Ng.header).appendBodyIfNotExists(Ng.body),m.fragmentShader().appendHeaderIfNotExists(i0.header).appendBodyIfNotExists(i0.body),Array.isArray(d))m.buffers().attribute("aStrokeColor",w0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),m.buffers().attribute("aStrokeColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},C(b,c,"data"),b},_0=function(){var u=Dn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),w=fa(0,1).type(yt.UNSIGNED_BYTE),m=w.offset(1),g=f0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).definedAttribute(w).definedNextAttribute(m),y=function(F,U){return!1},_=da,S=[],V=null,N=null,O=function(F){var U=_(u.xScale()),J=_(u.yScale()),ne=!y(S,F);ne&&(S=F,w.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ne||U.scale!==V)&&(V=U.scale,u.orient()==="vertical"?c.value(function(re,fe){return U.scale(u.crossValue()(re,fe))}).data(F):c.value(function(re,fe){return U.scale(u.mainValue()(re,fe))}).data(F)),(ne||J.scale!==N)&&(N=J.scale,u.orient()==="vertical"?p.value(function(re,fe){return J.scale(u.mainValue()(re,fe))}).data(F):p.value(function(re,fe){return J.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(U.webglScale).yScale(J.webglScale).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return O.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},T(O,u,R("baseValue","bandwidth","align")),C(O,g,"context","lineWidth","pixelRatio"),O},S0=function(){var u=s.symbol(),c=Dn(),d=ot("g","point"),p=function(m){return"translate("+m[0]+", "+m[1]+")"},b=function(m){zt(m)&&d.transition(m),m.each(function(g,y,_){var S=g.filter(c.defined()),V=d(l.select(_[y]),S);V.enter().attr("transform",function(N,O){return p(c.values(N,O).origin)}).attr("fill",Qe.gray).attr("stroke",Qe.black).append("path"),V.attr("transform",function(N,O){return p(c.values(N,O).origin)}).select("path").attr("d",u),c.decorate()(V,g,y)})};return T(b,c,R("baseValue","bandwidth","align")),C(b,d,"key"),C(b,u,"type","size"),b},M0=function(){var u=s.symbol(),c=Dn(),d=function(b){var w=b.filter(c.defined()),m=u.context();w.forEach(function(g,y){m.save();var _=c.values(g,y);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=Qe.black,m.fillStyle=Qe.gray,c.decorate()(m,g,y),u(g,y),m.fill(),m.stroke(),m.closePath(),m.restore()})};return T(d,c,R("baseValue","bandwidth","align")),C(d,u,"size","type","context"),d},m7=function(){var u=Dn(),c=Vt(64),d=s.symbolCircle,p=ut(),b=ut(),w=ut().type(yt.UNSIGNED_SHORT),m=ut().type(yt.UNSIGNED_BYTE),g=s0().crossValueAttribute(p).mainValueAttribute(b).sizeAttribute(w).definedAttribute(m),y=function(F,U){return!1},_=da,S=[],V=null,N=null,O=function(F){var U=_(u.xScale()),J=_(u.yScale()),ne=!y(S,F);ne&&(S=F,w.value(function(re,fe){return c(re,fe)}).data(F),m.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ne||U.scale!==V)&&(V=U.scale,u.orient()==="vertical"?p.value(function(re,fe){return U.scale(u.crossValue()(re,fe))}).data(F):p.value(function(re,fe){return U.scale(u.mainValue()(re,fe))}).data(F)),(ne||J.scale!==N)&&(N=J.scale,u.orient()==="vertical"?b.value(function(re,fe){return J.scale(u.mainValue()(re,fe))}).data(F):b.value(function(re,fe){return J.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(U.webglScale).yScale(J.webglScale).type(x0(d)).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return O.size=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),O):c},O.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},T(O,u,R("baseValue","bandwidth","align")),C(O,g,"context","pixelRatio"),O},h7=function(){var u=Ft().x(0).y(0),c=Dn(),d=ot("g","bar"),p=function(y){return c.orient()==="vertical"?y.height:y.width},b=function(y){return c.orient()==="vertical"?y.width:y.height},w=function(y){return"translate("+y[0]+", "+y[1]+")"},m=function(y){zt(y)&&d.transition(y),y.each(function(_,S,V){var N=c.orient();if(N!=="vertical"&&N!=="horizontal")throw new Error("The bar series does not support an orientation of "+N);var O=_.filter(c.defined()),B=O.map(c.values);u.width(0).height(0),c.orient()==="vertical"?(u.verticalAlign("top"),u.horizontalAlign("center")):(u.horizontalAlign("right"),u.verticalAlign("center"));var F=d(l.select(V[S]),O);F.enter().attr("transform",function(U,J){return w(B[J].baseOrigin)}).attr("class","bar "+c.orient()).attr("fill",Qe.darkGray).append("path").attr("d",function(U,J){return b(u)(B[J].width),u([U])}),F.attr("transform",function(U,J){return w(B[J].origin)}).select("path").attr("d",function(U,J){return b(u)(B[J].width),p(u)(-B[J].height),u([U])}),c.decorate()(F,O,S)})};return T(m,c),C(m,d,"key"),m},p7=function(){var u=Dn(),c=Ft().x(0).y(0),d=function(m){return u.orient()==="vertical"?m.height:m.width},p=function(m){return u.orient()==="vertical"?m.width:m.height},b=function(m){var g=c.context(),y=m.filter(u.defined()),_=y.map(u.values);u.orient()==="vertical"?(c.verticalAlign("top"),c.horizontalAlign("center")):(c.horizontalAlign("right"),c.verticalAlign("center")),_.forEach(function(S,V){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=Qe.darkGray,g.strokeStyle="transparent",u.decorate()(g,S.d,V),d(c)(-S.height),p(c)(S.width),c([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return T(b,u),C(b,c,"context"),b},g7=function(){var u=Dn(),c=ut(),d=ut(),p=ut(),b=ut().type(yt.UNSIGNED_SHORT),w=ut().type(yt.UNSIGNED_BYTE),m=m0().crossValueAttribute(c).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(B,F){return!1},y=da,_=[],S=null,V=null,N=function(B){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),U=y(u.yScale()),J=!g(_,B);J&&(_=B,b.value(function(ne,re){return u.bandwidth()(ne,re)}).data(B),w.value(function(ne,re){return u.defined()(ne,re)}).data(B)),(J||F.scale!==S)&&(S=F.scale,c.value(function(ne,re){return F.scale(u.crossValue()(ne,re))}).data(B)),(J||U.scale!==V)&&(V=U.scale,p.value(function(ne,re){return U.scale(u.baseValue()(ne,re))}).data(B),d.value(function(ne,re){return U.scale(u.mainValue()(ne,re))}).data(B)),m.xScale(F.webglScale).yScale(U.webglScale).decorate(function(ne){return u.decorate()(ne,B,0)}),m(B.length)};return N.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],N):g},N.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],N):y},T(N,u,R("align")),C(N,m,"context","pixelRatio"),N},_f=function(){var u=function(y){return y.high},c=function(y){return y.low},d=function(y){return y.cross},p="vertical",b="center",w=function(){return 5},m=$r({decorate:function(){},defined:function(y,_){return Xa(c,u,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.values=function(g,y){var _=w(g,y),S=ja(b,_),V=m.xScale(),N=m.yScale();if(p==="vertical"){var O=N(u(g,y));return{origin:[V(d(g,y))+S,O],high:0,low:N(c(g,y))-O,width:_}}else{var B=V(c(g,y));return{origin:[B,N(d(g,y))+S],high:V(u(g,y))-B,low:0,width:_}}},m.xValues=function(){return p==="vertical"?[d]:[u,c]},m.yValues=function(){return p!=="vertical"?[d]:[u,c]},m.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.lowValue=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),m):c},m.highValue=function(){return arguments.length?(u=Vt(arguments.length<=0?void 0:arguments[0]),m):u},m.crossValue=function(){return arguments.length?(d=Vt(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(w=Vt(arguments.length<=0?void 0:arguments[0]),m):w},m.align=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m},v7=function(){var u=_f(),c=ot("g","error-bar"),d=Tn().value(0),p=function(g){return function(y){return zt(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){zt(g)&&c.transition(g);var y=p(g);g.each(function(_,S,V){var N=_.filter(u.defined()),O=N.map(u.values),B=c(l.select(V[S]),N);B.enter().attr("stroke",Qe.black).attr("fill",Qe.gray).attr("transform",function(F,U){return b(u.values(F,U))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),B.each(function(F,U,J){var ne=O[U];d.high(ne.high).low(ne.low).width(ne.width),y(l.select(J[U])).attr("transform",b(ne)+" scale(1)").select("path").attr("d",d([F]))}),u.decorate()(B,_,S)})};return T(w,u),C(w,c,"key"),w},y7=function(){var u=_f(),c=Tn().value(0),d=function(b){var w=b.filter(u.defined()),m=c.context();c.orient(u.orient()),w.forEach(function(g,y){m.save();var _=u.values(g,y);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=Qe.black,m.fillStyle=Qe.gray,u.decorate()(m,g,y),c.high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return T(d,u),C(d,c,"context"),d},b7=function(){var u=_f(),c=ut(),d=ut(),p=ut(),b=ut().type(yt.UNSIGNED_SHORT),w=ut().type(yt.UNSIGNED_BYTE),m=h0().crossValueAttribute(c).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(B,F){return!1},y=da,_=[],S=null,V=null,N=function(B){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),U=y(u.yScale()),J=!g(_,B);J&&(_=B,b.value(function(ne,re){return u.bandwidth()(ne,re)}).data(B),w.value(function(ne,re){return u.defined()(ne,re)}).data(B)),(J||F.scale!==S)&&(S=F.scale,c.value(function(ne,re){return F.scale(u.crossValue()(ne,re))}).data(B)),(J||U.scale!==V)&&(V=U.scale,d.value(function(ne,re){return U.scale(u.highValue()(ne,re))}).data(B),p.value(function(ne,re){return U.scale(u.lowValue()(ne,re))}).data(B)),m.xScale(F.webglScale).yScale(U.webglScale).decorate(function(ne){return u.decorate()(ne,B,0)}),m(B.length)};return N.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],N):g},N.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],N):y},T(N,u,R("align")),C(N,m,"context","lineWidth","pixelRatio"),N},x7=function(){var u=Dn(),c=s.area(),d=ot("path","area"),p=function(w){zt(w)&&d.transition(w),c.defined(u.defined()),w.each(function(m,g,y){var _=m.map(u.values);c.x(function(N,O){return _[O].transposedX}).y(function(N,O){return _[O].transposedY});var S=u.orient()==="vertical"?"y":"x";c[S+"0"](function(N,O){return _[O].y0}),c[S+"1"](function(N,O){return _[O].y});var V=d(l.select(y[g]),[m]);V.enter().attr("fill",Qe.gray),V.attr("d",c),u.decorate()(V,m,g)})};return T(p,u,R("bandwidth","align")),C(p,d,"key"),C(p,c,"curve"),p},w7=function(){var u=Dn(),c=s.area(),d=function(b){var w=c.context();c.defined(u.defined());var m=b.map(u.values);c.x(function(y,_){return m[_].transposedX}).y(function(y,_){return m[_].transposedY});var g=u.orient()==="vertical"?"y":"x";c[g+"0"](function(y,_){return m[_].y0}),c[g+"1"](function(y,_){return m[_].y}),w.beginPath(),w.fillStyle=Qe.gray,w.strokeStyle="transparent",u.decorate()(w,b),c(b),w.fill(),w.stroke(),w.closePath()};return T(d,u,R("bandwidth","align")),C(d,c,"curve","context"),d},_7=function(){var u=Dn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),w=fa(0,1),m=w.offset(1),g=fa(0,1).type(yt.UNSIGNED_BYTE),y=g.offset(1),_=l0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).baseValueAttribute(w).baseNextValueAttribute(m).definedAttribute(g).definedNextAttribute(y),S=function(J,ne){return!1},V=da,N=[],O=null,B=null,F=function(J){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var ne=V(u.xScale()),re=V(u.yScale()),fe=!S(N,J);fe&&(N=J,g.value(function(Ee,Ge){return u.defined()(Ee,Ge)}).data(J)),(fe||ne.scale!==O)&&(O=ne.scale,c.value(function(Ee,Ge){return ne.scale(u.crossValue()(Ee,Ge))}).data(J)),(fe||re.scale!==B)&&(B=re.scale,w.value(function(Ee,Ge){return re.scale(u.baseValue()(Ee,Ge))}).data(J),p.value(function(Ee,Ge){return re.scale(u.mainValue()(Ee,Ge))}).data(J)),_.xScale(ne.webglScale).yScale(re.webglScale).decorate(function(Ee){return u.decorate()(Ee,J,0)}),_(J.length)};return F.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],F):S},F.scaleMapper=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],F):V},T(F,u,R("bandwidth","align")),C(F,_,"context","pixelRatio"),F},Sf=function(){var u,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},m=function(){return 5},g="center",y=function(S,V){return u.xScale()(c(S,V))};return u=$r({decorate:function(){},defined:function(S,V){return Xa(c,d,b,p,w)(S,V)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()}),u.values=function(_,S){var V=w(_,S),N=d(_,S),O=m(_,S),B=ja(g,O),F="";return V>N?F="up":V<N&&(F="down"),{cross:y(_,S)+B,open:u.yScale()(N),high:u.yScale()(p(_,S)),low:u.yScale()(b(_,S)),close:u.yScale()(V),width:O,direction:F}},u.xValues=function(){return[c]},u.yValues=function(){return[d,p,b,w]},u.crossValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u):d},u.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u):p},u.lowValue=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u):b},u.yValue=u.closeValue=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],u):w},u.bandwidth=function(){return arguments.length?(m=Vt(arguments.length<=0?void 0:arguments[0]),u):m},u.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],u):g},u},T0=function(u,c){var d=Sf(),p=ot("g",c),b=function(y){return"translate("+y.cross+", "+y.high+")"},w=function(y){return function(_){return zt(y)?_.transition(y):_}},m=function(y){zt(y)&&p.transition(y);var _=w(y);y.each(function(S,V,N){var O=S.filter(d.defined()),B=p(l.select(N[V]),O);B.enter().attr("transform",function(F,U){return b(d.values(F,U))+" scale(1e-6, 1)"}).append("path"),B.each(function(F,U,J){var ne=d.values(F,U),re=ne.direction==="up"?Qe.green:Qe.red,fe=_(l.select(J[U])).attr("class",c+" "+ne.direction).attr("stroke",re).attr("fill",re).attr("transform",function(){return b(ne)+" scale(1)"});u.x(0).width(ne.width).open(function(){return ne.open-ne.high}).high(0).low(function(){return ne.low-ne.high}).close(function(){return ne.close-ne.high}),fe.select("path").attr("d",u([F]))}),d.decorate()(B,S,V)})};return C(m,p,"key"),T(m,d),m},S7=function(){return T0(Yt(),"candlestick")},C0=function(u){var c=Sf(),d=function(b){var w=b.filter(c.defined()),m=u.context();w.forEach(function(g,y){m.save();var _=c.values(g,y);m.translate(_.cross,_.high),m.beginPath(),u.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?Qe.green:Qe.red;m.strokeStyle=S,m.fillStyle=S,c.decorate()(m,g,y),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,u,"context"),T(d,c),d},M7=function(){return C0(Yt())},A0=function(u){var c=Sf(),d=ut(),p=ut(),b=ut(),w=ut(),m=ut(),g=ut().type(yt.UNSIGNED_SHORT),y=ut().type(yt.UNSIGNED_BYTE);u.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(b).lowValueAttribute(w).closeValueAttribute(m).bandwidthAttribute(g).definedAttribute(y);var _=function(U,J){return!1},S=da,V=[],N=null,O=null,B=function(U){var J=S(c.xScale()),ne=S(c.yScale()),re=!_(V,U);re&&(V=U,g.value(function(fe,Ee){return c.bandwidth()(fe,Ee)}).data(U),y.value(function(fe,Ee){return c.defined()(fe,Ee)}).data(U)),(re||J.scale!==N)&&(N=J.scale,d.value(function(fe,Ee){return J.scale(c.crossValue()(fe,Ee))}).data(U)),(re||ne.scale!==O)&&(O=ne.scale,p.value(function(fe,Ee){return ne.scale(c.openValue()(fe,Ee))}).data(U),b.value(function(fe,Ee){return ne.scale(c.highValue()(fe,Ee))}).data(U),w.value(function(fe,Ee){return ne.scale(c.lowValue()(fe,Ee))}).data(U),m.value(function(fe,Ee){return ne.scale(c.closeValue()(fe,Ee))}).data(U)),u.xScale(J.webglScale).yScale(ne.webglScale).decorate(function(fe){return c.decorate()(fe,U,0)}),u(U.length)};return B.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],B):_},B.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],B):S},T(B,c,R("align")),C(B,u,"context","lineWidth","pixelRatio"),B},T7=function(){return A0(p0())},Mf=function(){var u=function(V){return V.upperQuartile},c=function(V){return V.lowerQuartile},d=function(V){return V.high},p=function(V){return V.low},b=function(V){return V.value},w=function(V){return V.median},m="vertical",g="center",y=function(){return 5},_=$r({decorate:function(){},defined:function(V,N){return Xa(p,d,c,u,b,w)(V,N)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return _.values=function(S,V){var N=y(S,V),O=ja(g,N),B=_.xScale(),F=_.yScale();if(m==="vertical"){var U=F(d(S,V));return{origin:[B(b(S,V))+O,U],high:0,upperQuartile:F(u(S,V))-U,median:F(w(S,V))-U,lowerQuartile:F(c(S,V))-U,low:F(p(S,V))-U,width:N}}else{var J=B(p(S,V));return{origin:[J,F(b(S,V))+O],high:B(d(S,V))-J,upperQuartile:B(u(S,V))-J,median:B(w(S,V))-J,lowerQuartile:B(c(S,V))-J,low:0,width:N}}},_.xValues=function(){return m==="vertical"?[b]:[u,c,d,p,w]},_.yValues=function(){return m!=="vertical"?[b]:[u,c,d,p,w]},_.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.lowerQuartileValue=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),_):c},_.upperQuartileValue=function(){return arguments.length?(u=Vt(arguments.length<=0?void 0:arguments[0]),_):u},_.lowValue=function(){return arguments.length?(p=Vt(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=Vt(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(b=Vt(arguments.length<=0?void 0:arguments[0]),_):b},_.medianValue=function(){return arguments.length?(w=Vt(arguments.length<=0?void 0:arguments[0]),_):w},_.bandwidth=function(){return arguments.length?(y=Vt(arguments.length<=0?void 0:arguments[0]),_):y},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},C7=function(){var u=Mf(),c=ot("g","box-plot"),d=nn().value(0),p=function(g){return function(y){return zt(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){zt(g)&&c.transition(g);var y=p(g);g.each(function(_,S,V){var N=_.filter(u.defined()),O=c(l.select(V[S]),N);O.enter().attr("stroke",Qe.black).attr("fill",Qe.gray).attr("transform",function(B,F){return b(u.values(B,F))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),O.each(function(B,F,U){var J=u.values(B,F);d.median(J.median).upperQuartile(J.upperQuartile).lowerQuartile(J.lowerQuartile).width(J.width).high(J.high).low(J.low),y(l.select(U[F])).attr("transform",b(J)).select("path").attr("d",d([B]))}),u.decorate()(O,_,S)})};return T(w,u),C(w,c,"key"),C(w,d,"cap"),w},A7=function(){var u=Mf(),c=nn().value(0),d=function(b){var w=b.filter(u.defined()),m=c.context();c.orient(u.orient()),w.forEach(function(g,y){m.save();var _=u.values(g,y);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.fillStyle=Qe.gray,m.strokeStyle=Qe.black,u.decorate()(m,g,y),c.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return T(d,u),C(d,c,"cap","context"),d},V7=function(){var u=Mf(),c=ut(),d=ut(),p=ut(),b=ut(),w=ut(),m=ut(),g=ut().type(yt.UNSIGNED_SHORT),y=ut().type(yt.UNSIGNED_SHORT),_=ut().type(yt.UNSIGNED_BYTE),S=g0().crossValueAttribute(c).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(b).lowerQuartileValueAttribute(w).lowValueAttribute(m).bandwidthAttribute(g).capAttribute(y).definedAttribute(_),V=function(re,fe){return!1},N=da,O=[],B=null,F=null,U=Vt(20),J=function(re){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var fe=N(u.xScale()),Ee=N(u.yScale()),Ge=!V(O,re);Ge&&(O=re,g.value(function(je,qe){return u.bandwidth()(je,qe)}).data(re),y.value(function(je,qe){return U(je,qe)}).data(re),_.value(function(je,qe){return u.defined()(je,qe)}).data(re)),(Ge||fe.scale!==B)&&(B=fe.scale,c.value(function(je,qe){return fe.scale(u.crossValue()(je,qe))}).data(re)),(Ge||Ee.scale!==F)&&(F=Ee.scale,d.value(function(je,qe){return Ee.scale(u.highValue()(je,qe))}).data(re),p.value(function(je,qe){return Ee.scale(u.upperQuartileValue()(je,qe))}).data(re),b.value(function(je,qe){return Ee.scale(u.medianValue()(je,qe))}).data(re),w.value(function(je,qe){return Ee.scale(u.lowerQuartileValue()(je,qe))}).data(re),m.value(function(je,qe){return Ee.scale(u.lowValue()(je,qe))}).data(re)),S.xScale(fe.webglScale).yScale(Ee.webglScale).decorate(function(je){return u.decorate()(je,re,0)}),S(re.length)};return J.cap=function(){return arguments.length?(U=Vt(arguments.length<=0?void 0:arguments[0]),J):U},J.equals=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],J):V},J.scaleMapper=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],J):N},T(J,u,R("align")),C(J,S,"context","lineWidth","pixelRatio"),J},k7=function(){return T0(at(),"ohlc")},D7=function(){return C0(at())},N7=function(){return A0(d0())},Tf=function(){var u=[],c=function(w){return w},d=function(w,m){return m},p=$r({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return p.xValues=function(){return u.map(function(b){return b.xValues()}).reduce(function(b,w){return b.concat(w)})},p.yValues=function(){return u.map(function(b){return b.yValues()}).reduce(function(b,w){return b.concat(w)})},p.mapping=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},Cf=function(){var u=Tf(),c=ot("g"),d=ot("g","multi"),p=function(w){zt(w)&&(d.transition(w),c.transition(w));var m=u.mapping(),g=u.series(),y=u.xScale(),_=u.yScale();w.each(function(S,V,N){var O=d(l.select(N[V]),g);O.each(function(B,F,U){B.xScale(y).yScale(_);var J=m(S,F,g),ne=c(l.select(U[F]),[J]);ne.call(B)}),O.selection().order(),u.decorate()(O,S,V)})};return T(p,u),C(p,d,"key"),p},Af=function(){var u=null,c=Tf(),d=function(b){var w=c.mapping(),m=c.series(),g=c.xScale(),y=c.yScale();m.forEach(function(_,S){var V=w(b,S,m);_.context(u).xScale(g).yScale(y);var N;_.decorate?(N=_.decorate(),_.decorate(function(O,B,F){c.decorate()(O,b,S),N(O,B,F)})):c.decorate()(u,b,S),_(V),N&&_.decorate(N)})};return d.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},T(d,c),d},V0=function(){var u=null,c=1,d=Tf(),p=function(w){var m=d.mapping(),g=d.series(),y=d.xScale(),_=d.yScale();g.forEach(function(S,V){var N=m(w,V,g);S.context(u).pixelRatio(c).xScale(y).yScale(_);var O;S.decorate?(O=S.decorate(),S.decorate(function(B,F,U){d.decorate()(B,w,V),O(B,F,U)})):d.decorate()(u,w,V),S(N),O&&S.decorate(O)})};return p.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.pixelRatio=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},T(p,d),p},k0=function(u){var c=function(){return 50},d="center",p=n.scaleBand(),b=$r({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return b.offsetScaleForDatum=function(w,m,g){var y=c(m,g),_=ja(d,y),S=y/2;return p.domain(t.range(0,w.length)).range([-S+_,S+_])},b.bandwidth=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),b):c},b.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},T(b,p,k({paddingInner:"paddingOuter"})),b},E7=function(u){var c=k0(),d=ot("g","grouped"),p=function(w){zt(w)&&d.transition(w),w.each(function(m,g,y){var _=d(l.select(y[g]),m);_.enter().append("g"),_.select("g").each(function(S,V,N){var O=l.select(N[V]),B=u.orient()!=="horizontal",F=function(J,ne){var re=c.offsetScaleForDatum(m,J,ne),fe=B?c.xScale():c.yScale();return fe(J)+re(V)+re.bandwidth()/2};B?(u.xScale(F),u.yScale(c.yScale())):(u.yScale(F),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(U,J){return c.offsetScaleForDatum(m,U,J).bandwidth()}),u.decorate(function(U,J){return c.decorate()(U,J,V)}),O.call(u)})})};return T(p,u,R("decorate","xScale","yScale")),T(p,c,R("offsetScaleForDatum")),p};function P7(u){var c=k0(),d=function(b){b.forEach(function(w,m){var g=u.orient()!=="horizontal",y=function(S,V){var N=c.offsetScaleForDatum(b,S,V),O=g?c.xScale():c.yScale();return O(S)+N(m)+N.bandwidth()/2};g?(u.xScale(y),u.yScale(c.yScale())):(u.yScale(y),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(_,S){return c.offsetScaleForDatum(b,_,S).bandwidth()}),u.decorate(function(_,S){return c.decorate()(_,S,m)}),u(w)})};return T(d,u,R("decorate","xScale","yScale")),T(d,c,R("offsetScaleForDatum")),d}var L7=function(){var u="vertical",c=Ie(),d=Cf(),p=function(w){return w.each(function(m,g,y){u==="vertical"?d.series(m[0].map(function(_){return c})).mapping(function(_,S){return _.map(function(V){return V[S]})}):d.series(m.map(function(_){return c})).mapping(function(_,S){return _[S]}),l.select(y[g]).call(d)})};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},T(p,d,R("series","mapping")),p},O7=function(){var u="vertical",c=$t(),d=Af(),p=function(w){u==="vertical"?d.series(w[0].map(function(m){return c})).mapping(function(m,g){return m.map(function(y){return y[g]})}):d.series(w.map(function(m){return c})).mapping(function(m,g){return m[g]}),d(w)};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},T(p,d,R("series","mapping")),p},I7=function(){var u="vertical",c=function(){return _0()},d=V0(),p=[],b=function(m){if(u==="vertical"){var g=p;p=m[0].map(function(_,S){return S<g.length?g[S]:c()}),d.series(p).mapping(function(_,S){return _.map(function(V){return V[S]})})}else{var y=p;p=m.map(function(_,S){return S<y.length?y[S]:c()}),d.series(p).mapping(function(_,S){return _[S]})}d(m)};return b.series=function(){for(var w=arguments.length,m=new Array(w),g=0;g<w;g++)m[g]=arguments[g];return m.length?(typeof m[0].xScale=="function"&&typeof m[0].yScale=="function"?c=function(){return m[0]}:c=m[0],p=[],b):c},b.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p=[],b):u},T(b,d,R("series","mapping")),b},z7=function(c){return c.sort(t.ascending).filter(function(d,p,b){return b.indexOf(d,p+1)===-1})},R7=function(u){var c=.75,d=function(m){if(m.length<=1)return 10;m=z7(m);var g=t.pairs(m).map(function(_){return Math.abs(_[0]-_[1])}),y=t.min(g);return c*y},p=function(m,g,y){if(m.bandwidth)return m.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,Ce(g)):g,V=S.filter(u.defined()).map(y()).map(m),N=d(V);return N},b=function(m){var g=function(_){if(u.xBandwidth&&u.yBandwidth)u.xBandwidth(p(u.xScale(),_,u.xValue)),u.yBandwidth(p(u.yScale(),_,u.yValue));else{var S=u.orient&&u.orient()==="horizontal"?u.yScale():u.xScale();u.bandwidth(p(S,_,u.crossValue))}};m instanceof l.selection?m.each(function(y,_,S){g(y),u(l.select(S[_]))}):(g(m),u(m))};return T(b,u),b.widthFraction=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b},D0=function(){var u=function(y){return y.x},c=function(y){return y.y},d=function(y){return y.color},p=function(){return 5},b=function(){return 5},w=f.interpolateViridis,m=$r({decorate:function(){},defined:function(y,_){return Xa(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.pathGenerator=Ft().x(0).y(0),m.colorScale=function(g){var y=g.map(d);return n.scaleLinear().domain([t.min(y),t.max(y)])},m.values=function(g,y){return{x:m.xScale()(u(g,y)),y:m.yScale()(c(g,y)),colorValue:d(g,y),width:b(g,y),height:p(g,y)}},m.xValues=function(){return[u]},m.yValues=function(){return[c]},m.xValue=function(){return arguments.length?(u=Vt(arguments.length<=0?void 0:arguments[0]),m):u},m.yValue=function(){return arguments.length?(c=Vt(arguments.length<=0?void 0:arguments[0]),m):c},m.colorValue=function(){return arguments.length?(d=Vt(arguments.length<=0?void 0:arguments[0]),m):d},m.colorInterpolate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m.xBandwidth=function(){return arguments.length?(b=Vt(arguments.length<=0?void 0:arguments[0]),m):b},m.yBandwidth=function(){return arguments.length?(p=Vt(arguments.length<=0?void 0:arguments[0]),m):p},T(m,m.pathGenerator,k({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),m},F7=function(){var u=D0(),c=ot("g","box"),d=function(w){return"translate("+w.x+", "+w.y+")"},p=function(w){w.each(function(m,g,y){var _=m.filter(u.defined()),S=u.colorValue(),V=u.colorInterpolate(),N=u.colorScale(_),O=c(l.select(y[g]),_);O.enter().append("path").attr("stroke","transparent"),O.attr("transform",function(B,F){return d(u.values(B,F))}).select("path").attr("d",function(B,F){return u.pathGenerator.width(u.values(B,F).width).height(u.values(B,F).height)([B])}).attr("fill",function(B,F){return V(N(S(B,F)))}),u.decorate()(O,m,g)})};return T(p,u),p},B7=function(){var u=D0(),c=function(p){var b=p.filter(u.defined()),w=u.colorInterpolate(),m=u.colorScale(b),g=u.pathGenerator.context();b.forEach(function(y,_){g.save(),g.beginPath();var S=u.values(y,_);g.translate(S.x,S.y),g.fillStyle=w(m(S.colorValue)),g.strokeStyle="transparent",u.decorate()(g,y,_),u.pathGenerator.height(S.height).width(S.width)([y]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return C(c,u.pathGenerator,"context"),T(c,u),c},ma=function(u){return typeof u=="function"?u:function(){return u}},H7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(S){return S.from},b=function(S){return S.to},w=function(){},m=ot("g","annotation-band"),g=Ft().horizontalAlign("center").verticalAlign("center").x(0).y(0),y=function(S){if(zt(S)&&m.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var V=d==="horizontal",N=V?function(fe,Ee){return"translate(".concat(fe,", ").concat(Ee,")")}:function(fe,Ee){return"translate(".concat(Ee,", ").concat(fe,")")},O=V?u:c,B=V?c:u,F=O.range(),U=F[1]-F[0],J=V?"height":"width",ne=V?"width":"height",re=function(){return N((F[1]+F[0])/2,(B(b.apply(void 0,arguments))+B(p.apply(void 0,arguments)))/2)};g[ne](U),g[J](function(){return B(b.apply(void 0,arguments))-B(p.apply(void 0,arguments))}),S.each(function(fe,Ee,Ge){var je=m(l.select(Ge[Ee]),fe);je.enter().attr("transform",re).append("path").classed("band",!0),je.attr("class","annotation-band ".concat(d)).attr("transform",re).select("path").attr("d",function(qe,gt){return g([qe],gt)}),w(je,fe,Ee)})};return y.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],y):w},y.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),y):p},y.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),y):b},y},Y7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(_){return _.from},b=function(_){return _.to},w=function(){},m=Ft().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=m.context(),V=d==="horizontal",N=V?u:c,O=V?c:u,B=N.range(),F=B[1]-B[0],U=V?"x":"y",J=V?"y":"x",ne=V?"height":"width",re=V?"width":"height";_.forEach(function(fe,Ee){S.save(),S.beginPath(),S.strokeStyle="transparent",m[J](O(p(fe))),m[U](B[0]),m[re](F),m[ne](O(b(fe))-O(p(fe))),w(S,fe,Ee),m.context(S)([fe],Ee),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),g):b},C(g,m,"context"),g},Vf=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",m=ot("g","annotation-line"),g=function(_){if(zt(_)&&m.transition(_),w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",V=S?function(qe,gt){return"translate(".concat(qe,", ").concat(gt,")")}:function(qe,gt){return"translate(".concat(gt,", ").concat(qe,")")},N=S?"x2":"y2",O=S?u:c,B=S?c:u,F=S?"left-handle":"bottom-handle",U=S?"right-handle":"top-handle",J=S?"9":"0",ne=S?"0":"9",re=S?"0.32em":"0.71em",fe=S?"start":"middle",Ee=O.range(),Ge=function(){return V(Ee[0],B(d.apply(void 0,arguments)))},je=Ee[1]-Ee[0];_.each(function(qe,gt,an){var Bn=m(l.select(an[gt]),qe),xr=Bn.enter().attr("transform",Ge).style("stroke","#bbb");xr.append("line").attr(N,je),xr.append("g").classed(F,!0).style("stroke","none"),xr.append("g").classed(U,!0).style("stroke","none").attr("transform",V(je,0)).append("text").attr("text-anchor",fe).attr("x",J).attr("y",ne).attr("dy",re),Bn.attr("class","annotation-line ".concat(w)),Bn.attr("transform",Ge),Bn.select("line").attr(N,je),Bn.select("g."+U).attr("transform",V(je,0)),Bn.select("text").text(p),b(Bn,qe,gt)})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g};function W7(){var u=function(F){return F.x},c=function(F){return F.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=function(){},w=ot("g","annotation-crosshair"),m=S0(),g=Vf(),y=Vf().orient("vertical"),_=n.scaleIdentity(),S=n.scaleIdentity(),V=Cf().series([g,y,m]).xScale(_).yScale(S).mapping(function(B){return[B]}),N=function(F){zt(F)&&w.transition(F),F.each(function(U,J,ne){var re=w(l.select(ne[J]),U);re.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),m.crossValue(u).mainValue(c),g.value(c),y.value(u),re.call(V),b(re,U,J)})};N.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],N):u},N.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],N):c},N.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],N):d},N.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],N):p},N.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],N):b};var O=H("label");return T(N,g,O,I("y")),T(N,y,O,I("x")),N}var kf=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",m=s.line(),g=function(_){if(w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",V=m.context(),N=S?u:c,O=S?c:u,B=N.domain(),F=S?9:0,U=S?0:9,J=S?"left":"center",ne=S?"middle":"hanging";_.forEach(function(re,fe){V.save(),V.beginPath(),V.strokeStyle="#bbb",V.fillStyle="#000",V.textAlign=J,V.textBaseline=ne,b(V,re,fe),m.context(V)(B.map(function(je){var qe=[N(je),O(d(re))];return S?qe:qe.reverse()}));var Ee=S?N(B[1]):O(d(re)),Ge=S?O(d(re)):N(B[1]);V.fillText(p(re),Ee+F,Ge+U),V.fill(),V.stroke(),V.closePath(),V.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},C(g,m,"context"),g},$7=function(){var u=function(O){return O.x},c=function(O){return O.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=M0(),w=kf(),m=kf().orient("vertical"),g=n.scaleIdentity(),y=n.scaleIdentity(),_=Af().series([w,m,b]).xScale(g).yScale(y).mapping(function(N){return[N]}),S=function(O){O.forEach(function(B){g.range(d.range()),y.range(p.range()),b.crossValue(u).mainValue(c),w.value(c),m.value(u),_(B)})};S.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],S):c},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var V=H("label","decorate");return T(S,w,V,I("y")),T(S,m,V,I("x")),C(S,b,"decorate"),C(S,_,"context"),S},Vl=function(){var u=n.scaleIdentity(),c=[10],d=null,p=function(){var w;return d??(u.ticks?(w=u).ticks.apply(w,Ce(c)):u.domain())};return p.scale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.ticks=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return c=w,p},p.tickArguments=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},N0=function(c){return c},U7=function(){var u=function(){},c=function(){},d=Vl(),p=Vl(),b=ot("line","gridline-y").key(N0),w=ot("line","gridline-x").key(N0),m=function(y){zt(y)&&(b.transition(y),w.transition(y)),y.each(function(_,S,V){var N=V[S],O=l.select(V[S]),B=d.scale(),F=p.scale(),U=N.__x_scale__||B;N.__x_scale__=B.copy();var J=d(),ne=b(O,J);ne.enter().attr("x1",U).attr("x2",U).attr("y1",F.range()[0]).attr("y2",F.range()[1]).attr("stroke","#bbb"),ne.attr("x1",B).attr("x2",B).attr("y1",F.range()[0]).attr("y2",F.range()[1]),ne.exit().attr("x1",B).attr("x2",B),u(ne,J,S);var re=N.__y_scale__||F;N.__y_scale__=F.copy();var fe=p(),Ee=w(O,fe);Ee.enter().attr("y1",re).attr("y2",re).attr("x1",B.range()[0]).attr("x2",B.range()[1]).attr("stroke","#bbb"),Ee.attr("y1",F).attr("y2",F).attr("x1",B.range()[0]).attr("x2",B.range()[1]),Ee.exit().attr("y1",F).attr("y2",F),c(Ee,fe,S)})};return m.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},T(m,b,k({key:"xKey"})),T(m,w,k({key:"yKey"})),T(m,d,I("x")),T(m,p,I("y")),m},q7=function(){var u=function(){},c=function(){},d=Vl(),p=Vl(),b=s.line(),w=function(){var g=b.context(),y=d.scale(),_=p.scale();d().forEach(function(S,V){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",u(g,S,V),b.context(g)(_.domain().map(function(N){return[y(S),_(N)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,V){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",c(g,S,V),b.context(g)(y.domain().map(function(N){return[y(N),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return w.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},T(w,d,I("x")),T(w,p,I("y")),C(w,b,"context"),w},G7=function(c){return c},E0=function(c,d,p,b){return c[d]?c[d].apply(c,p):b},P0=function(c){var d;return(d=c.tickValues())!==null&&d!==void 0?d:E0(c.scale(),"ticks",c.tickArguments(),c.scale().domain())},L0=function(c){var d;return(d=c.tickFormat())!==null&&d!==void 0?d:E0(c.scale(),"tickFormat",c.tickArguments(),G7)},X7=function(c){return c},O0=function(c,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=[10],w=null,m=function(){},g=null,y=6,_=6,S=3,V=s.line(),N=ot("g","tick").key(X7),O=ot("path","domain"),B=function(){return{offset:[0,_+S]}},F=function(){return{path:[[0,0],[0,_]]}},U=p.labelOffset||B,J=p.tickPath||F,ne=function(qe,gt){var an=0;return qe.bandwidth&&(an=qe.bandwidth()/2,qe.round()&&(an=Math.round(an))),function(Bn){return gt(qe(Bn)+an,0)}},re=function(qe,gt){return Ee()?"translate(".concat(gt,", ").concat(qe,")"):"translate(".concat(qe,", ").concat(gt,")")},fe=function(qe){return Ee()?qe.map(function(gt){return[gt[1],gt[0]]}):qe},Ee=function(){return c==="left"||c==="right"},Ge=function je(qe){zt(qe)&&(N.transition(qe),O.transition(qe)),qe.each(function(gt,an,Bn){var xr=Bn[an],Ko=l.select(xr);xr.__scale__||Ko.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c==="right"?"start":c==="left"?"end":"middle");var zf=xr.__scale__||d;xr.__scale__=d.copy();var Za=P0(je),vt=L0(je),Qi=c==="bottom"||c==="right"?1:-1,gn=function(wt){var Lt=Q(wt,2),un=Lt[0],Un=Lt[1];return[un,Qi*Un]},wr=d.range(),ha=fe([[wr[0],Qi*y],[wr[0],0],[wr[1],0],[wr[1],Qi*y]]),Ut=O(Ko,[gt]);Ut.enter().attr("stroke","#000"),Ut.attr("d",V(ha));var _r=N(Ko,Za),Jo=Za.map(function(it,wt){return U(it,wt,Za)}),on=Za.map(function(it,wt){return J(it,wt,Za)});_r.enter().attr("transform",ne(zf,re)).append("path").attr("stroke","#000"),_r.enter().append("text").attr("transform",function(it,wt){return re.apply(void 0,Ce(gn(Jo[wt].offset)))}).attr("fill","#000"),_r.exit().attr("transform",ne(d,re)),_r.select("path").attr("visibility",function(it,wt){return on[wt].hidden&&"hidden"}).attr("d",function(it,wt){return V(fe(on[wt].path.map(gn)))}),_r.select("text").attr("visibility",function(it,wt){return Jo[wt].hidden&&"hidden"}).attr("transform",function(it,wt){return re.apply(void 0,Ce(gn(Jo[wt].offset)))}).attr("dy",function(){var it="0em";return Ee()?it="0.32em":c==="bottom"&&(it="0.71em"),it}).text(vt),_r.attr("transform",ne(d,re)),m(_r,gt,an)})};return Ge.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],Ge):g},Ge.tickSize=function(){return arguments.length?(_=y=Number(arguments.length<=0?void 0:arguments[0]),Ge):_},Ge.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),Ge):_},Ge.tickSizeOuter=function(){return arguments.length?(y=Number(arguments.length<=0?void 0:arguments[0]),Ge):y},Ge.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],Ge):S},Ge.decorate=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],Ge):m},Ge.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],Ge):d},Ge.ticks=function(){for(var je=arguments.length,qe=new Array(je),gt=0;gt<je;gt++)qe[gt]=arguments[gt];return b=[].concat(qe),Ge},Ge.tickArguments=function(){return arguments.length?(b=(arguments.length<=0?void 0:arguments[0])==null?[]:Ce(arguments.length<=0?void 0:arguments[0]),Ge):b!==null?b.slice():null},Ge.tickValues=function(){return arguments.length?(w=(arguments.length<=0?void 0:arguments[0])==null?[]:Ce(arguments.length<=0?void 0:arguments[0]),Ge):w!==null?w.slice():null},Ge.orient=function(){return c},Ge},kl=function(c,d){var p=!1,b=function(y,_,S){var V=0,N=w.tickSizeInner()+w.tickPadding(),O=!1;if(p){var B=d(y),F=_<S.length-1?d(S[_+1]):d.range()[1];V=(F-B)/2,N=w.tickPadding(),O=_===S.length-1&&B===F}return{offset:[V,N],hidden:O}},w=O0(c,d,{labelOffset:b}),m=function(y){return w(y)};return m.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},T(m,w),m},I0=function(c){return kl("top",c)},z0=function(c){return kl("bottom",c)},R0=function(c){return kl("left",c)},F0=function(c){return kl("right",c)},Dl=function(c,d){var p=null,b=function(S,V,N){if(d.step)return d.step();var O=d(S);return V<N.length-1?d(N[V+1])/O:(d.range()[1]-O)*2},w=function(S,V,N){var O=0;return p?O=p(S,V):O=b(S,V,N)/2,{path:[[O,0],[O,g.tickSizeInner()]],hidden:V===N.length-1}},m=function(){return{offset:[0,g.tickPadding()]}},g=O0(c,d,{labelOffset:m,tickPath:w}),y=function(S){g(S)};return y.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},T(y,g),y},j7=function(c){return Dl("top",c)},Q7=function(c){return Dl("bottom",c)},Z7=function(c){return Dl("left",c)},K7=function(c){return Dl("right",c)},B0=function(u){var c=function(p){var b=P0(u),w=L0(u),m=b.map(w),g=p.append("text"),y=m.map(function(V){return g.text(V).node().getBBox()}),_=Math.max.apply(Math,Ce(y.map(function(V){return V.height}))),S=Math.max.apply(Math,Ce(y.map(function(V){return V.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:m.length}};return c},J7=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},w=function(){switch(u.orient()){case"top":case"right":return"start";default:return"end"}},m=function(S){var V=B0(u)(S),N=V.maxHeight,O=V.maxWidth,B=V.labelCount,F=B*O,U;if(c==="auto"){var J=u.scale().range()[1];U=J<F?90*Math.min(1,(F/J-.8)/2):0}else U=c;return{rotate:p()?Math.floor(b()*(90-U)):Math.floor(-U),maxHeight:N,maxWidth:O,anchor:U?w():"middle"}},g=function(S){var V=m(S),N=V.rotate,O=V.maxHeight,B=V.anchor,F=S.select("text"),U=F.attr("transform"),J=b()*Math.floor(O/2),ne=p()?"translate(".concat(J,", 0)"):"translate(0, ".concat(J,")");F.style("text-anchor",B).attr("transform","".concat(U," ").concat(ne," rotate(").concat(N," 0 0)"))},y=function(S){u(S)};return u.decorate(function(_){g(_),d(_)}),y.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.labelRotate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},T(y,u,R("decorate")),y},e9=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},w=function(y){var _=B0(u)(y),S=_.maxHeight,V=_.maxWidth,N=_.labelCount,O=u.scale().range()[1],B=c==="auto"?Math.floor((p()?S:V)*N/O)+1:c,F=y.select("text"),U=F.attr("transform"),J=function(re){return p()?"translate(".concat(re%B*V*b(),", 0)"):"translate(0, ".concat(re%B*S*b(),")")};F.attr("transform",function(ne,re){return"".concat(U," ").concat(J(re))})},m=function(y){return u(y)};return u.decorate(function(g){w(g),d(g)}),m.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.labelOffsetDepth=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},T(m,u,R("decorate")),m},Df="__d3fc-elements__",jo=function(c){return c[Df]||{}},H0=function(c,d){return void(c[Df]=d)},t9=function(c){return delete c[Df]},n9=function(c){return c.tagName==="D3FC-GROUP"?[c].concat(Ce(c.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[c]},r9=function(c){var d=jo(c),p=d.width,b=d.height,w=c.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,m=c.clientWidth*w,g=c.clientHeight*w,y=m!==p||g!==b,_=c.children[0];H0(c,{pixelRatio:w,width:m,height:g,resized:y,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var a9=function(c){var d=jo(c),p=new CustomEvent("measure",{detail:d});c.dispatchEvent(p)},i9=function(c){var d=jo(c),p=new CustomEvent("draw",{detail:d});c.dispatchEvent(p)},o9=function(u){var c=u.map(n9).reduce(function(d,p){return d.concat(p)});c.forEach(r9),c.forEach(a9),c.forEach(i9)},Y0=function(c){return jo(c.ownerDocument).queue||[]},u9=function(c,d){var p=jo(c.ownerDocument),b=p.requestId;b==null&&(b=requestAnimationFrame(function(){var w=Y0(c);o9(w),l9(c)})),H0(c.ownerDocument,{queue:d,requestId:b})},l9=function(c){return t9(c.ownerDocument)},W0=function(c,d){var p=c;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},Nf=function(u){var c=Y0(u),d=c.indexOf(u)>-1;if(!d){var p=c.some(function(w){return W0(u,w)});if(!p){var b=c.filter(function(w){return!W0(w,u)});b.push(u),u9(u,b)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var c9=function(c){c.__measureListener__==null&&(c.__measureListener__=function(d){return c.setMeasurements(d.detail)},c.addEventListener("measure",c.__measureListener__))},s9=function(c){c.__measureListener__!=null&&(c.removeEventListener("measure",c.__measureListener__),c.__measureListener__=null)},$0=function(u,c){return function(d){ye(b,d);var p=me(b);function b(){return te(this,b),p.apply(this,arguments)}return ge(b,[{key:"attributeChangedCallback",value:function(m){switch(m){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(u()),c9(this)}},{key:"disconnectedCallback",value:function(){s9(this)}},{key:"setMeasurements",value:function(m){var g=m.width,y=m.height,_=K(this.childNodes),S=_[0],V=_.slice(1);if(V.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");c(this,S,{width:g,height:y})}},{key:"requestRedraw",value:function(){Nf(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(m){m&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!m&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),b}(X(HTMLElement))},f9=function(u){ye(d,u);var c=me(d);function d(){return te(this,d),c.apply(this,arguments)}return ge(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(b){b&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!b&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}($0(function(){return document.createElement("canvas")},function(u,c,d){var p=d.width,b=d.height;if(c.setAttribute("width",p),c.setAttribute("height",b),u.setWebglViewport){var w=c.getContext("webgl");w.viewport(0,0,p,b)}})),Ef=function(c){c.autoResize?d9(c):U0(c)},d9=function(c){c.__autoResizeListener__==null&&(c.__autoResizeListener__=function(){return Nf(c)},addEventListener("resize",c.__autoResizeListener__))},U0=function(c){c.__autoResizeListener__!=null&&(removeEventListener("resize",c.__autoResizeListener__),c.__autoResizeListener__=null)},m9=function(u){ye(d,u);var c=me(d);function d(){return te(this,d),c.apply(this,arguments)}return ge(d,[{key:"connectedCallback",value:function(){Ef(this)}},{key:"disconnectedCallback",value:function(){U0(this)}},{key:"requestRedraw",value:function(){Nf(this)}},{key:"attributeChangedCallback",value:function(b){switch(b){case"auto-resize":Ef(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(b){b&&!this.autoResize?this.setAttribute("auto-resize",""):!b&&this.autoResize&&this.removeAttribute("auto-resize"),Ef(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(X(HTMLElement)),h9=$0(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(u,c,d){var p=d.width,b=d.height;c.setAttribute("viewBox","0 0 ".concat(p," ").concat(b))}),q0="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Qo=document.createElement("style");if(Qo.setAttribute("type","text/css"),document.querySelector("head").appendChild(Qo),Qo.styleSheet?Qo.styleSheet.cssText+=q0:Qo.textContent+=q0,(typeof customElements>"u"?"undefined":we(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Pf=[],Lf=function(c,d){customElements.get(c)?Pf.push(c):customElements.define(c,d)};Lf("d3fc-canvas",f9),Lf("d3fc-group",m9),Lf("d3fc-svg",h9),Pf.length>0&&console.warn('The d3fc components "'.concat(Pf.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var p9=function(){var u=h.dispatch("point");function c(b){var w=l.pointer(b);u.call("point",this,[{x:w[0],y:w[1]}])}function d(){u.call("point",this,[])}var p=function(w){w.on("mouseenter.pointer",c).on("mousemove.pointer",c).on("mouseleave.pointer",d)};return C(p,u,"on"),p},g9=function(){var u="",c="vertical",d=function(g,y){return Number(g[y])},p=function(g){return Object.keys(g[0]).filter(function(y){return y!==u}).map(function(y){var _=g.filter(function(S){return S[y]}).map(function(S){var V=[S[u],d(S,y)];return V.data=S,V});return _.key=y,_})},b=function(g){return g.map(function(y){var _=Object.keys(y).filter(function(S){return S!==u}).map(function(S){var V=[S,d(y,S)];return V.data=y,V});return _.key=y[u],_})},w=function(g){return c==="vertical"?p(g):b(g)};return w.key=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w},G0=function(){for(var u={},c=function(_){for(var S=0,V=Object.keys(u);S<V.length;S++){var N=V[S];_[N].apply(null,u[N])}return _},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];for(var w=function(){var _=g[m];c[_]=function(){for(var S=arguments.length,V=new Array(S),N=0;N<S;N++)V[N]=arguments[N];return V.length?(u[_]=V,c):u[_]}},m=0,g=p;m<g.length;m++)w();return c},X0=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Zo=document.createElement("style");Zo.setAttribute("type","text/css"),document.querySelector("head").appendChild(Zo),Zo.styleSheet?Zo.styleSheet.cssText+=X0:Zo.textContent+=X0;var Pn=function(c){return typeof c=="function"?c:function(){return c}},j0=function(){var u=v9.apply(void 0,arguments),c=u.xScale,d=u.yScale,p=u.xAxis,b=u.yAxis,w=Pn(""),m=Pn(""),g=Pn(""),y=Pn(null),_=Pn(null),S=Pn("right"),V=Pn("bottom"),N=null,O=null,B=null,F=!1,U=!0,J=G0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),ne=function(){},re=G0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),fe=function(){},Ee=function(){},Ge=ot("d3fc-group","cartesian-chart"),je=ot("d3fc-canvas","webgl-plot-area"),qe=ot("d3fc-canvas","canvas-plot-area"),gt=ot("d3fc-svg","svg-plot-area"),an=ot("d3fc-svg","x-axis").key(function(gn){return gn}),Bn=ot("d3fc-svg","y-axis").key(function(gn){return gn}),xr=ot("div","chart-label"),Ko=ot("div","x-label").key(function(gn){return gn}),zf=ot("div","y-label").key(function(gn){return gn}),Za=function(wr){return function(ha){return zt(wr)?ha.transition(wr):ha}},vt=function(wr){var ha=Za(wr);wr.each(function(Ut,_r,Jo){var on=Ge(l.select(Jo[_r]),[Ut]);on.enter().attr("auto-resize",""),xr(on,[V(Ut)]).attr("class",function(it){return it==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(it){return it==="top"?0:"1em"}).style("margin-top",function(it){return it==="top"?"1em":0}).text(w(Ut)),Ko(on,[V(Ut)]).attr("class",function(it){return"x-label ".concat(it,"-label")}).text(m(Ut)),zf(on,[S(Ut)]).attr("class",function(it){return"y-label ".concat(it,"-label")}).text(g(Ut)),je(on,N?[Ut]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",U).on("draw",function(it,wt){var Lt=it.detail,un=Lt.child,Un=Lt.pixelRatio;N.context(F?null:un.getContext("webgl")).pixelRatio(Un).xScale(c).yScale(d),N(wt)}),on.select(".webgl-plot-area>canvas").on("webglcontextlost",function(it){console.warn("WebGLRenderingContext lost"),it.preventDefault(),F=!0,on.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),F=!1,on.node().requestRedraw()}),qe(on,O?[Ut]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",U).on("draw",function(it,wt){var Lt=it.detail,un=Lt.child,Un=Lt.pixelRatio,pa=un.getContext("2d");pa.save(),U&&pa.scale(Un,Un),O.context(pa).xScale(c).yScale(d),O(wt),pa.restore()}),gt(on,B?[Ut]:[]).classed("plot-area",!0).on("draw",function(it,wt){var Lt=it.detail.child;B.xScale(c).yScale(d),ha(l.select(Lt).datum(wt)).call(B)}),an(on,[V(Ut)]).attr("class",function(it){return"x-axis ".concat(it,"-axis")}).style("height",y(Ut)).on("measure",function(it,wt){var Lt=it.detail,un=Lt.width,Un=Lt.height,pa=Lt.child;wt==="top"&&l.select(pa).attr("viewBox","0 ".concat(-Un," ").concat(un," ").concat(Un)),c.range([0,un])}).on("draw",function(it,wt){var Lt=it.detail.child,un=wt==="top"?p.top(c):p.bottom(c);un.decorate(ne),ha(l.select(Lt).datum(wt)).call(J(un))}),Bn(on,[S(Ut)]).attr("class",function(it){return"y-axis ".concat(it,"-axis")}).style("width",_(Ut)).on("measure",function(it,wt){var Lt=it.detail,un=Lt.width,Un=Lt.height,pa=Lt.child;wt==="left"&&l.select(pa).attr("viewBox","".concat(-un," 0 ").concat(un," ").concat(Un)),d.range([Un,0])}).on("draw",function(it,wt){var Lt=it.detail.child,un=wt==="left"?b.left(d):b.right(d);un.decorate(fe),ha(l.select(Lt).datum(wt)).call(re(un))}),on.each(function(it,wt,Lt){return Lt[wt].requestRedraw()}),Ee(on,Ut,_r)})},Qi=R(/range\w*/,/tickFormat/);return T(vt,c,Qi,I("x")),T(vt,d,Qi,I("y")),T(vt,J,I("x")),T(vt,re,I("y")),vt.xOrient=function(){return arguments.length?(V=Pn(arguments.length<=0?void 0:arguments[0]),vt):V},vt.yOrient=function(){return arguments.length?(S=Pn(arguments.length<=0?void 0:arguments[0]),vt):S},vt.xDecorate=function(){return arguments.length?(ne=arguments.length<=0?void 0:arguments[0],vt):ne},vt.yDecorate=function(){return arguments.length?(fe=arguments.length<=0?void 0:arguments[0],vt):fe},vt.chartLabel=function(){return arguments.length?(w=Pn(arguments.length<=0?void 0:arguments[0]),vt):w},vt.xLabel=function(){return arguments.length?(m=Pn(arguments.length<=0?void 0:arguments[0]),vt):m},vt.yLabel=function(){return arguments.length?(g=Pn(arguments.length<=0?void 0:arguments[0]),vt):g},vt.xAxisHeight=function(){return arguments.length?(y=Pn(arguments.length<=0?void 0:arguments[0]),vt):y},vt.yAxisWidth=function(){return arguments.length?(_=Pn(arguments.length<=0?void 0:arguments[0]),vt):_},vt.webglPlotArea=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],vt):N},vt.canvasPlotArea=function(){return arguments.length?(O=arguments.length<=0?void 0:arguments[0],vt):O},vt.svgPlotArea=function(){return arguments.length?(B=arguments.length<=0?void 0:arguments[0],vt):B},vt.decorate=function(){return arguments.length?(Ee=arguments.length<=0?void 0:arguments[0],vt):Ee},vt.useDevicePixelRatio=function(){return arguments.length?(U=arguments.length<=0?void 0:arguments[0],vt):U},vt},v9=function(){for(var c={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:z0,top:I0},yAxis:{right:F0,left:R0}},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(c,p[0]):Object.assign(c,{xScale:p[0]||c.xScale,yScale:p[1]||c.yScale})},Q0=function(c){return typeof c=="function"?c:function(){return c}},Z0=function(u,c){return function(){var d=Q0(""),p=c,b=function(){},w=j0.apply(void 0,arguments),m=function(y){u(w,p),w.decorate(function(_,S,V){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var N=w.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",N==="left"?1:5).style("-ms-grid-column",N==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),b(_,S,V)}),y.call(w)};return T(m,w,H(/^x/,/^y/,"chartLabel")),m.yLabel=function(){return arguments.length?(d=Q0(arguments.length<=0?void 0:arguments[0]),m):d},m.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m}},y9=Z0(function(u,c){return u.svgPlotArea(c)},Ie),b9=Z0(function(u,c){return u.canvasPlotArea(c)},$t),x9=function(c){switch(c){case"x":return x.brushX();case"y":return x.brushY();case"xy":return x.brush()}},Of=function(c){return[c[1],c[0]]},If=function(c){var d=x9(c),p=h.dispatch("brush","start","end"),b=n.scaleIdentity(),w=n.scaleIdentity(),m=ot("g","brush"),g=function(F,U,J){switch(c){case"x":return F.map(U);case"y":return F.map(J);case"xy":return[[U(F[0][0]),J(F[0][1])],[U(F[1][0]),J(F[1][1])]]}},y=function(F){return g(F,n.scaleLinear().domain(b.range()).invert,n.scaleLinear().domain(Of(w.range())).invert)},_=function(F){return g(F,n.scaleLinear().domain(b.range()),n.scaleLinear().domain(Of(w.range())))},S=function(F){var U=n.scaleLinear().domain(b.domain());if(c==="x")return F.map(U.invert);if(c==="xy")return[U.invert(F[0][0]),U.invert(F[1][0])]},V=function(F){var U=n.scaleLinear().domain(Of(w.domain()));if(c==="y")return[F[1],F[0]].map(U.invert);if(c==="xy")return[U.invert(F[1][1]),U.invert(F[0][1])]},N=function(F){if(!(F.sourceEvent&&F.sourceEvent.type==="draw"))if(F.selection){var U=_(F.selection);p.call(F.type,{},{selection:U,xDomain:S(U),yDomain:V(U)})}else p.call(F.type,{},{})},O=function(F){F.each(function(U,J,ne){d.extent([[b.range()[0],w.range()[1]],[b.range()[1],w.range()[0]]]),d.on("end",function(fe){return N(fe)}).on("brush",function(fe){return N(fe)}).on("start",function(fe){return N(fe)});var re=m(l.select(ne[J]),[U]);re.call(d).call(d.move,U?y(U):null)})};return O.xScale=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],O):b},O.yScale=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],O):w},C(O,p,"on"),C(O,d,"filter","handleSize"),O},w9=function(){return If("x")},_9=function(){return If("y")},S9=function(){return If("xy")},K0=function(c,d){if(c==null&&d==null)return!0;var p=c.domain(),b=d.domain();return p.length===b.length&&p.every(function(w,m){var g;return w?.valueOf()===((g=b[m])===null||g===void 0?void 0:g.valueOf())})},M9=function(c,d){return v.zoomIdentity.scale(c.k/d.k).translate(c.x-d.x,c.y-d.y)},Nl=Symbol("d3fc-domain-zoom"),T9=function(){var u=h.dispatch("zoom"),c=v.zoom().on("zoom",function(p){var b=p.transform,w=this,m=b,g=w[Nl],y=g.originalXScale,_=g.previousXScale,S=g.xScale,V=g.originalYScale,N=g.previousYScale,O=g.yScale,B=g.previousTransform;(!K0(_,S)||!K0(N,O))&&(y=S?.copy(),V=O?.copy(),m=M9(b,B)),S!=null&&(_=m.rescaleX(y.range(S.range())),S.domain(_.domain())),O!=null&&(N=m.rescaleY(V.range(O.range())),O.domain(N.domain())),B=m,w[Nl]={originalXScale:y,previousXScale:_,xScale:S,originalYScale:V,previousYScale:N,yScale:O,previousTransform:B},m!==b&&c.transform(l.select(w),m),u.call("zoom")}),d=function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;w==null&&m==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),b.each(function(g,y,_){var S=_[y][Nl];S!=null&&S.xScale===w&&S.yScale===m&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var V=w?.copy(),N=m?.copy();_[y][Nl]={originalXScale:V,previousXScale:V,xScale:w,originalYScale:N,previousYScale:N,yScale:m,previousTransform:v.zoomIdentity}}).call(c)};return C(d,u,"on"),C(d,c,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),d};e.annotationCanvasBand=Y7,e.annotationCanvasCrosshair=$7,e.annotationCanvasGridline=q7,e.annotationCanvasLine=kf,e.annotationSvgBand=H7,e.annotationSvgCrosshair=W7,e.annotationSvgGridline=U7,e.annotationSvgLine=Vf,e.autoBandwidth=R7,e.axisBottom=z0,e.axisLabelOffset=e9,e.axisLabelRotate=J7,e.axisLeft=R0,e.axisOrdinalBottom=Q7,e.axisOrdinalLeft=Z7,e.axisOrdinalRight=K7,e.axisOrdinalTop=j7,e.axisRight=F0,e.axisTop=I0,e.brush=S9,e.brushX=w9,e.brushY=_9,e.bucket=ar,e.chartCanvasCartesian=b9,e.chartCartesian=j0,e.chartSvgCartesian=y9,e.dataJoin=ot,e.discontinuityIdentity=L,e.discontinuityRange=q,e.discontinuitySkipUtcWeekends=E,e.discontinuitySkipUtcWeeklyPattern=xt,e.discontinuitySkipWeekends=Te,e.discontinuitySkipWeeklyPattern=We,e.effectivelyZero=hn,e.exclude=R,e.extentDate=G,e.extentLinear=Ue,e.extentTime=G,e.feedGdax=tn,e.group=g9,e.include=H,e.includeMap=k,e.indicatorBollingerBands=ze,e.indicatorElderRay=Yn,e.indicatorEnvelope=Jt,e.indicatorExponentialMovingAverage=de,e.indicatorForceIndex=kn,e.indicatorMacd=$,e.indicatorMovingAverage=mn,e.indicatorRelativeStrengthIndex=Hn,e.indicatorStochasticOscillator=Vn,e.isTransition=zt,e.largestTriangleOneBucket=ca,e.largestTriangleThreeBucket=Wn,e.layoutAnnealing=mf,e.layoutBoundingBox=gf,e.layoutGreedy=ff,e.layoutLabel=Wr,e.layoutRemoveOverlaps=pf,e.layoutTextLabel=cf,e.modeMedian=Go,e.pointer=p9,e.prefix=I,e.randomFinancial=Pe,e.randomGeometricBrownianMotion=se,e.randomSkipWeekends=en,e.rebind=C,e.rebindAll=T,e.scaleDiscontinuous=ve,e.seriesCanvasArea=w7,e.seriesCanvasBar=p7,e.seriesCanvasBoxPlot=A7,e.seriesCanvasCandlestick=M7,e.seriesCanvasErrorBar=y7,e.seriesCanvasGrouped=P7,e.seriesCanvasHeatmap=B7,e.seriesCanvasLine=$t,e.seriesCanvasMulti=Af,e.seriesCanvasOhlc=D7,e.seriesCanvasPoint=M0,e.seriesCanvasRepeat=O7,e.seriesSvgArea=x7,e.seriesSvgBar=h7,e.seriesSvgBoxPlot=C7,e.seriesSvgCandlestick=S7,e.seriesSvgErrorBar=v7,e.seriesSvgGrouped=E7,e.seriesSvgHeatmap=F7,e.seriesSvgLine=Ie,e.seriesSvgMulti=Cf,e.seriesSvgOhlc=k7,e.seriesSvgPoint=S0,e.seriesSvgRepeat=L7,e.seriesWebglArea=_7,e.seriesWebglBar=g7,e.seriesWebglBoxPlot=V7,e.seriesWebglCandlestick=T7,e.seriesWebglErrorBar=b7,e.seriesWebglLine=_0,e.seriesWebglMulti=V0,e.seriesWebglOhlc=N7,e.seriesWebglPoint=m7,e.seriesWebglRepeat=I7,e.shapeBar=Ft,e.shapeBoxPlot=nn,e.shapeCandlestick=Yt,e.shapeErrorBar=Tn,e.shapeOhlc=at,e.webglAdjacentAttribute=fa,e.webglAttribute=ut,e.webglBaseAttribute=Cl,e.webglBufferBuilder=pn,e.webglElementIndices=Qa,e.webglFillColor=f7,e.webglProgramBuilder=$n,e.webglScaleLinear=Al,e.webglScaleLog=v0,e.webglScaleMapper=da,e.webglScalePow=y0,e.webglSeriesArea=l0,e.webglSeriesBar=m0,e.webglSeriesBoxPlot=g0,e.webglSeriesCandlestick=p0,e.webglSeriesErrorBar=h0,e.webglSeriesLine=f0,e.webglSeriesOhlc=d0,e.webglSeriesPoint=s0,e.webglShaderBuilder=Ct,e.webglStrokeColor=d7,e.webglSymbolMapper=x0,e.webglTypes=yt,e.webglUniform=Dt,e.zoom=T9,Object.defineProperty(e,"__esModule",{value:!0})})});var Y4=ir(Ag=>{var Xi=Xi||{};Xi.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(a,i){n+=e.visit(a),i<r-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var r=e["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var Xi=Xi||{};Xi.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(ae){var ge=new Error(t+": "+ae);throw ge.source=t,ge}function r(){var ae=a();return t.length>0&&n("Invalid input not EOF"),ae}function a(){return H(i)}function i(){return o("linear-gradient",e.linearGradient,s)||o("repeating-linear-gradient",e.repeatingLinearGradient,s)||o("radial-gradient",e.radialGradient,x)||o("repeating-radial-gradient",e.repeatingRadialGradient,x)}function o(ae,ge,ye){return l(ge,function(ce){var ke=ye();return ke&&(we(e.comma)||n("Missing comma before color stops")),{type:ae,orientation:ke,colorStops:H(k)}})}function l(ae,ge){var ye=we(ae);if(ye){we(e.startCall)||n("Missing (");var ce=ge(ye);return we(e.endCall)||n("Missing )"),ce}}function s(){return f()||h()}function f(){return $("directional",e.sideOrCorner,1)}function h(){return $("angular",e.angleValue,1)}function x(){var ae,ge=v(),ye;return ge&&(ae=[],ae.push(ge),ye=t,we(e.comma)&&(ge=v(),ge?ae.push(ge):t=ye)),ae}function v(){var ae=M()||C();if(ae)ae.at=T();else{var ge=A();if(ge){ae=ge;var ye=T();ye&&(ae.at=ye)}else{var ce=D();ce&&(ae={type:"default-radial",at:ce})}}return ae}function M(){var ae=$("shape",/^(circle)/i,0);return ae&&(ae.style=de()||A()),ae}function C(){var ae=$("shape",/^(ellipse)/i,0);return ae&&(ae.style=oe()||A()),ae}function A(){return $("extent-keyword",e.extentKeywords,1)}function T(){if($("position",/^at/,0)){var ae=D();return ae||n("Missing positioning value"),ae}}function D(){var ae=R();if(ae.x||ae.y)return{type:"position",value:ae}}function R(){return{x:oe(),y:oe()}}function H(ae){var ge=ae(),ye=[];if(ge)for(ye.push(ge);we(e.comma);)ge=ae(),ge?ye.push(ge):n("One extra comma");return ye}function k(){var ae=z();return ae||n("Expected color definition"),ae.length=oe(),ae}function z(){return j()||be()||Z()||I()}function I(){return $("literal",e.literalColor,0)}function j(){return $("hex",e.hexColor,1)}function Z(){return l(e.rgbColor,function(){return{type:"rgb",value:H(pe)}})}function be(){return l(e.rgbaColor,function(){return{type:"rgba",value:H(pe)}})}function pe(){return we(e.number)[1]}function oe(){return $("%",e.percentageValue,1)||ze()||de()}function ze(){return $("position-keyword",e.positionKeywords,1)}function de(){return $("px",e.pixelValue,1)||$("em",e.emValue,1)}function $(ae,ge,ye){var ce=we(ge);if(ce)return{type:ae,value:ce[ye]}}function we(ae){var ge,ye;return ye=/^[\n\r\t\s]+/.exec(t),ye&&te(ye[0].length),ge=ae.exec(t),ge&&te(ge[0].length),ge}function te(ae){t=t.substr(ae)}return function(ae){return t=ae.toString(),r()}}();Ag.parse=Xi.parse;Ag.stringify=Xi.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var b5=pt(_t());var Ra=pt(_t());var Nt={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},Eo=e=>{let t="crossValues",n=null,r=null,a=()=>{let i=o=>{let l=n?e[t].filter(s=>n==s.name):e[t];return t=="crossValues"&&l.length>1?!1:l.some(s=>o.includes(s.type))};return e[t].length===0?Nt.none:r!=Nt.time&&i(["datetime","date"])?Nt.time:r!=Nt.linear&&i(["integer","float"])||r==Nt.ordinal?Nt.linear:Nt.ordinal};return a.settingName=(...i)=>i.length?(t=i[0],a):t,a.settingValue=(...i)=>i.length?(n=i[0],a):n,a.excludeType=(...i)=>i.length?(r=i[0],a):r,a};var Xp={};Ln(Xp,{domain:()=>xV,labelFunction:()=>Gp,scale:()=>bV});Tr();wp();Kr();To();Jc();xm();pp();Sm();function Q3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ri(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zr(e){return e=Ri(Math.abs(e)),e?e[1]:NaN}function Z3(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(n.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function K3(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var tA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(e){if(!(t=tA.exec(e)))throw new Error("invalid format: "+e);var t;return new _s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Na.prototype=_s.prototype;function _s(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J3(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Tp;function e8(e,t){var n=Ri(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Tp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ri(e,Math.max(0,t+i-1))[0]}function Cp(e,t){var n=Ri(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Ap={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q3,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cp(e*100,t),r:Cp,s:e8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Vp(e){return e}var t8=Array.prototype.map,n8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function r8(e){var t=e.grouping===void 0||e.thousands===void 0?Vp:Z3(t8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Vp:K3(t8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(x){x=Na(x);var v=x.fill,M=x.align,C=x.sign,A=x.symbol,T=x.zero,D=x.width,R=x.comma,H=x.precision,k=x.trim,z=x.type;z==="n"?(R=!0,z="g"):Ap[z]||(H===void 0&&(H=12),k=!0,z="g"),(T||v==="0"&&M==="=")&&(T=!0,v="0",M="=");var I=A==="$"?n:A==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",j=A==="$"?r:/[%p]/.test(z)?o:"",Z=Ap[z],be=/[defgprs%]/.test(z);H=H===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function pe(oe){var ze=I,de=j,$,we,te;if(z==="c")de=Z(oe)+de,oe="";else{oe=+oe;var ae=oe<0||1/oe<0;if(oe=isNaN(oe)?s:Z(Math.abs(oe),H),k&&(oe=J3(oe)),ae&&+oe==0&&C!=="+"&&(ae=!1),ze=(ae?C==="("?C:l:C==="-"||C==="("?"":C)+ze,de=(z==="s"?n8[8+Tp/3]:"")+de+(ae&&C==="("?")":""),be){for($=-1,we=oe.length;++$<we;)if(te=oe.charCodeAt($),48>te||te>57){de=(te===46?a+oe.slice($+1):oe.slice($))+de,oe=oe.slice(0,$);break}}}R&&!T&&(oe=t(oe,1/0));var ge=ze.length+oe.length+de.length,ye=ge<D?new Array(D-ge+1).join(v):"";switch(R&&T&&(oe=t(ye+oe,ye.length?D-de.length:1/0),ye=""),M){case"<":oe=ze+oe+de+ye;break;case"=":oe=ze+ye+oe+de;break;case"^":oe=ye.slice(0,ge=ye.length>>1)+ze+oe+de+ye.slice(ge);break;default:oe=ye+ze+oe+de;break}return i(oe)}return pe.toString=function(){return x+""},pe}function h(x,v){var M=f((x=Na(x),x.type="f",x)),C=Math.max(-8,Math.min(8,Math.floor(zr(v)/3)))*3,A=Math.pow(10,-C),T=n8[8+C/3];return function(D){return M(A*D)+T}}return{format:f,formatPrefix:h}}var Ss,Ea,Ms;kp({thousands:",",grouping:[3],currency:["$",""]});function kp(e){return Ss=r8(e),Ea=Ss.format,Ms=Ss.formatPrefix,Ss}function Dp(e){return Math.max(0,-zr(Math.abs(e)))}function Np(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zr(t)/3)))*3-zr(Math.abs(e)))}function Ep(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zr(t)-zr(e))+1}function nA(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function a8(){return this.eachAfter(nA)}function i8(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function o8(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function u8(e,t){for(var n=this,r=[n],a=[],i,o,l,s=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,l=i.length;o<l;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++s,this);return this}function l8(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function c8(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function s8(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function f8(e){for(var t=this,n=rA(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function rA(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function d8(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function m8(){return Array.from(this)}function h8(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function p8(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*g8(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function Pa(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=oA)):t===void 0&&(t=iA);for(var n=new rl(e),r,a=[n],i,o,l,s;r=a.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)a.push(i=o[l]=new rl(o[l])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(lA)}function aA(){return Pa(this).eachBefore(uA)}function iA(e){return e.children}function oA(e){return Array.isArray(e)?e[1]:null}function uA(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function lA(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function rl(e){this.data=e,this.depth=this.height=0,this.parent=null}rl.prototype=Pa.prototype={constructor:rl,count:a8,each:i8,eachAfter:u8,eachBefore:o8,find:l8,sum:c8,sort:s8,path:f8,ancestors:d8,descendants:m8,leaves:h8,links:p8,copy:aA,[Symbol.iterator]:g8};function v8(e){if(typeof e!="function")throw new Error;return e}function Po(){return 0}function Lo(e){return function(){return e}}function Ts(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cs(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(r-t)/e.value;++l<s;)o=i[l],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*f}function Pp(){var e=1,t=1,n=0,r=!1;function a(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(i(t,l)),r&&o.eachBefore(Ts),o}function i(o,l){return function(s){s.children&&Cs(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var f=s.x0,h=s.y0,x=s.x1-n,v=s.y1-n;x<f&&(f=x=(f+x)/2),v<h&&(h=v=(h+v)/2),s.x0=f,s.y0=h,s.x1=x,s.y1=v}}return a.round=function(o){return arguments.length?(r=!!o,a):r},a.size=function(o){return arguments.length?(e=+o[0],t=+o[1],a):[e,t]},a.padding=function(o){return arguments.length?(n=+o,a):n},a}function y8(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(a-n)/e.value;++l<s;)o=i[l],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*f}var cA=(1+Math.sqrt(5))/2;function sA(e,t,n,r,a,i){for(var o=[],l=t.children,s,f,h=0,x=0,v=l.length,M,C,A=t.value,T,D,R,H,k,z,I;h<v;){M=a-n,C=i-r;do T=l[x++].value;while(!T&&x<v);for(D=R=T,z=Math.max(C/M,M/C)/(A*e),I=T*T*z,k=Math.max(R/I,I/D);x<v;++x){if(T+=f=l[x].value,f<D&&(D=f),f>R&&(R=f),I=T*T*z,H=Math.max(R/I,I/D),H>k){T-=f;break}k=H}o.push(s={value:T,dice:M<C,children:l.slice(h,x)}),s.dice?Cs(s,n,r,a,A?r+=C*T/A:i):y8(s,n,r,A?n+=M*T/A:a,i),A-=T,h=x}return o}var b8=function e(t){function n(r,a,i,o,l){sA(t,r,a,i,o,l)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(cA);function Lp(){var e=b8,t=!1,n=1,r=1,a=[0],i=Po,o=Po,l=Po,s=Po,f=Po;function h(v){return v.x0=v.y0=0,v.x1=n,v.y1=r,v.eachBefore(x),a=[0],t&&v.eachBefore(Ts),v}function x(v){var M=a[v.depth],C=v.x0+M,A=v.y0+M,T=v.x1-M,D=v.y1-M;T<C&&(C=T=(C+T)/2),D<A&&(A=D=(A+D)/2),v.x0=C,v.y0=A,v.x1=T,v.y1=D,v.children&&(M=a[v.depth+1]=i(v)/2,C+=f(v)-M,A+=o(v)-M,T-=l(v)-M,D-=s(v)-M,T<C&&(C=T=(C+T)/2),D<A&&(A=D=(A+D)/2),e(v,C,A,T,D))}return h.round=function(v){return arguments.length?(t=!!v,h):t},h.size=function(v){return arguments.length?(n=+v[0],r=+v[1],h):[n,r]},h.tile=function(v){return arguments.length?(e=v8(v),h):e},h.padding=function(v){return arguments.length?h.paddingInner(v).paddingOuter(v):h.paddingInner()},h.paddingInner=function(v){return arguments.length?(i=typeof v=="function"?v:Lo(+v),h):i},h.paddingOuter=function(v){return arguments.length?h.paddingTop(v).paddingRight(v).paddingBottom(v).paddingLeft(v):h.paddingTop()},h.paddingTop=function(v){return arguments.length?(o=typeof v=="function"?v:Lo(+v),h):o},h.paddingRight=function(v){return arguments.length?(l=typeof v=="function"?v:Lo(+v),h):l},h.paddingBottom=function(v){return arguments.length?(s=typeof v=="function"?v:Lo(+v),h):s},h.paddingLeft=function(v){return arguments.length?(f=typeof v=="function"?v:Lo(+v),h):f},h}function Op(e,t,n,r,a){var i=e.children,o,l=i.length,s,f=new Array(l+1);for(f[0]=s=o=0;o<l;++o)f[o+1]=s+=i[o].value;h(0,l,e.value,t,n,r,a);function h(x,v,M,C,A,T,D){if(x>=v-1){var R=i[x];R.x0=C,R.y0=A,R.x1=T,R.y1=D;return}for(var H=f[x],k=M/2+H,z=x+1,I=v-1;z<I;){var j=z+I>>>1;f[j]<k?z=j+1:I=j}k-f[z-1]<f[z]-k&&x+1<z&&--z;var Z=f[z]-H,be=M-Z;if(T-C>D-A){var pe=M?(C*be+T*Z)/M:T;h(x,z,Z,C,A,pe,D),h(z,v,be,pe,A,T,D)}else{var oe=M?(A*be+D*Z)/M:D;h(x,z,Z,C,A,T,oe),h(z,v,be,C,oe,T,D)}}}Jn();oc();hm();Tr();function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function x8(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}Tr();var Ip=Symbol("implicit");function gr(){var e=new ur,t=[],n=[],r=Ip;function a(i){let o=e.get(i);if(o===void 0){if(r!==Ip)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ur;for(let o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return gr(t,n).unknown(r)},La.apply(a,arguments),a}function ra(){var e=gr().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,s=0,f=0,h=.5;delete e.unknown;function x(){var v=t().length,M=a<r,C=M?a:r,A=M?r:a;i=(A-C)/Math.max(1,v-s+f*2),l&&(i=Math.floor(i)),C+=(A-C-i*(v-s))*h,o=i*(1-s),l&&(C=Math.round(C),o=Math.round(o));var T=ii(v).map(function(D){return C+i*D});return n(M?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,x()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,x()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,x()):l},e.padding=function(v){return arguments.length?(s=Math.min(1,f=+v),x()):s},e.paddingInner=function(v){return arguments.length?(s=Math.min(1,v),x()):s},e.paddingOuter=function(v){return arguments.length?(f=+v,x()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return ra(t(),[r,a]).round(l).paddingInner(s).paddingOuter(f).align(h)},La.apply(x(),arguments)}Tr();Tr();Jn();function zp(e){return function(){return e}}function Rp(e){return+e}var w8=[0,1];function aa(e){return e}function Fp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zp(isNaN(t)?NaN:.5)}function fA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dA(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Fp(a,r),i=n(o,i)):(r=Fp(r,a),i=n(i,o)),function(l){return i(r(l))}}function mA(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Fp(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var s=Zi(e,l,1,r)-1;return i[s](a[s](l))}}function As(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hA(){var e=w8,t=w8,n=jt,r,a,i,o=aa,l,s,f;function h(){var v=Math.min(e.length,t.length);return o!==aa&&(o=fA(e[0],e[v-1])),l=v>2?mA:dA,s=f=null,x}function x(v){return v==null||isNaN(v=+v)?i:(s||(s=l(e.map(r),t,n)))(r(o(v)))}return x.invert=function(v){return o(a((f||(f=l(t,e.map(r),fn)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,Rp),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),n=Wu,h()},x.clamp=function(v){return arguments.length?(o=v?!0:aa,h()):o!==aa},x.interpolate=function(v){return arguments.length?(n=v,h()):n},x.unknown=function(v){return arguments.length?(i=v,x):i},function(v,M){return r=v,a=M,h()}}function al(){return hA()(aa,aa)}Tr();function Bp(e,t,n,r){var a=ti(e,t,n),i;switch(r=Na(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Np(a,o))&&(r.precision=i),Ms(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Ep(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Dp(a))&&(r.precision=i-(r.type==="%")*2);break}}return Ea(r)}function Hp(e){var t=e.domain;return e.ticks=function(n){var r=t();return ei(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Bp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],s,f,h=10;for(l<o&&(f=o,o=l,l=f,f=a,a=i,i=f);h-- >0;){if(f=lr(o,l,n),f===s)return r[a]=o,r[i]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;s=f}return e},e}function ia(){var e=al();return e.copy=function(){return As(e,ia())},La.apply(e,arguments),Hp(e)}function Yp(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}xu();xu();function Wp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $p(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Up(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,f=ol(a),h=ul(a),x=ol(i),v=ul(i),M=ol(o),C=ul(o),A=ol(l),T=ul(l),D=ol(s),R=ul(s),H={a:ae,A:ge,b:ye,B:ce,c:null,d:A8,e:A8,f:zA,g:GA,G:jA,H:LA,I:OA,j:IA,L:E8,m:RA,M:FA,p:ke,q:Le,Q:D8,s:N8,S:BA,u:HA,U:YA,V:WA,w:$A,W:UA,x:null,X:null,y:qA,Y:XA,Z:QA,"%":k8},k={a:Se,A:He,b:X,B:he,c:null,d:V8,e:V8,f:eV,g:sV,G:dV,H:ZA,I:KA,j:JA,L:L8,m:tV,M:nV,p:ue,q:me,Q:D8,s:N8,S:rV,u:aV,U:iV,V:oV,w:uV,W:lV,x:null,X:null,y:cV,Y:fV,Z:mV,"%":k8},z={a:pe,A:oe,b:ze,B:de,c:$,d:T8,e:T8,f:DA,g:M8,G:S8,H:C8,I:C8,j:CA,L:kA,m:TA,M:AA,p:be,q:MA,Q:EA,s:PA,S:VA,u:bA,U:xA,V:wA,w:yA,W:_A,x:we,X:te,y:M8,Y:S8,Z:SA,"%":NA};H.x=I(n,H),H.X=I(r,H),H.c=I(t,H),k.x=I(n,k),k.X=I(r,k),k.c=I(t,k);function I(Q,K){return function(Ce){var Me=[],Xe=-1,Je=0,mt=Q.length,ft,Ye,rt;for(Ce instanceof Date||(Ce=new Date(+Ce));++Xe<mt;)Q.charCodeAt(Xe)===37&&(Me.push(Q.slice(Je,Xe)),(Ye=_8[ft=Q.charAt(++Xe)])!=null?ft=Q.charAt(++Xe):Ye=ft==="e"?" ":"0",(rt=K[ft])&&(ft=rt(Ce,Ye)),Me.push(ft),Je=Xe+1);return Me.push(Q.slice(Je,Xe)),Me.join("")}}function j(Q,K){return function(Ce){var Me=il(1900,void 0,1),Xe=Z(Me,Q,Ce+="",0),Je,mt;if(Xe!=Ce.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(K&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(Je=$p(il(Me.y,0,1)),mt=Je.getUTCDay(),Je=mt>4||mt===0?mi.ceil(Je):mi(Je),Je=ao.offset(Je,(Me.V-1)*7),Me.y=Je.getUTCFullYear(),Me.m=Je.getUTCMonth(),Me.d=Je.getUTCDate()+(Me.w+6)%7):(Je=Wp(il(Me.y,0,1)),mt=Je.getDay(),Je=mt>4||mt===0?fi.ceil(Je):fi(Je),Je=Vr.offset(Je,(Me.V-1)*7),Me.y=Je.getFullYear(),Me.m=Je.getMonth(),Me.d=Je.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),mt="Z"in Me?$p(il(Me.y,0,1)).getUTCDay():Wp(il(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(mt+5)%7:Me.w+Me.U*7-(mt+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,$p(Me)):Wp(Me)}}function Z(Q,K,Ce,Me){for(var Xe=0,Je=K.length,mt=Ce.length,ft,Ye;Xe<Je;){if(Me>=mt)return-1;if(ft=K.charCodeAt(Xe++),ft===37){if(ft=K.charAt(Xe++),Ye=z[ft in _8?K.charAt(Xe++):ft],!Ye||(Me=Ye(Q,Ce,Me))<0)return-1}else if(ft!=Ce.charCodeAt(Me++))return-1}return Me}function be(Q,K,Ce){var Me=f.exec(K.slice(Ce));return Me?(Q.p=h.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function pe(Q,K,Ce){var Me=M.exec(K.slice(Ce));return Me?(Q.w=C.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function oe(Q,K,Ce){var Me=x.exec(K.slice(Ce));return Me?(Q.w=v.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function ze(Q,K,Ce){var Me=D.exec(K.slice(Ce));return Me?(Q.m=R.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function de(Q,K,Ce){var Me=A.exec(K.slice(Ce));return Me?(Q.m=T.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function $(Q,K,Ce){return Z(Q,t,K,Ce)}function we(Q,K,Ce){return Z(Q,n,K,Ce)}function te(Q,K,Ce){return Z(Q,r,K,Ce)}function ae(Q){return o[Q.getDay()]}function ge(Q){return i[Q.getDay()]}function ye(Q){return s[Q.getMonth()]}function ce(Q){return l[Q.getMonth()]}function ke(Q){return a[+(Q.getHours()>=12)]}function Le(Q){return 1+~~(Q.getMonth()/3)}function Se(Q){return o[Q.getUTCDay()]}function He(Q){return i[Q.getUTCDay()]}function X(Q){return s[Q.getUTCMonth()]}function he(Q){return l[Q.getUTCMonth()]}function ue(Q){return a[+(Q.getUTCHours()>=12)]}function me(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var K=I(Q+="",H);return K.toString=function(){return Q},K},parse:function(Q){var K=j(Q+="",!1);return K.toString=function(){return Q},K},utcFormat:function(Q){var K=I(Q+="",k);return K.toString=function(){return Q},K},utcParse:function(Q){var K=j(Q+="",!0);return K.toString=function(){return Q},K}}}var _8={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,pA=/^%/,gA=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function vA(e){return e.replace(gA,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(vA).join("|")+")","i")}function ul(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _A(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function S8(e,t,n){var r=Qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function M8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function MA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function TA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function C8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function AA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function VA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kA(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function DA(e,t,n){var r=Qt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NA(e,t,n){var r=pA.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EA(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function PA(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function A8(e,t){return Tt(e.getDate(),t,2)}function LA(e,t){return Tt(e.getHours(),t,2)}function OA(e,t){return Tt(e.getHours()%12||12,t,2)}function IA(e,t){return Tt(1+Vr.count(In(e),e),t,3)}function E8(e,t){return Tt(e.getMilliseconds(),t,3)}function zA(e,t){return E8(e,t)+"000"}function RA(e,t){return Tt(e.getMonth()+1,t,2)}function FA(e,t){return Tt(e.getMinutes(),t,2)}function BA(e,t){return Tt(e.getSeconds(),t,2)}function HA(e){var t=e.getDay();return t===0?7:t}function YA(e,t){return Tt(kr.count(In(e)-1,e),t,2)}function P8(e){var t=e.getDay();return t>=4||t===0?Xr(e):Xr.ceil(e)}function WA(e,t){return e=P8(e),Tt(Xr.count(In(e),e)+(In(e).getDay()===4),t,2)}function $A(e){return e.getDay()}function UA(e,t){return Tt(fi.count(In(e)-1,e),t,2)}function qA(e,t){return Tt(e.getFullYear()%100,t,2)}function GA(e,t){return e=P8(e),Tt(e.getFullYear()%100,t,2)}function XA(e,t){return Tt(e.getFullYear()%1e4,t,4)}function jA(e,t){var n=e.getDay();return e=n>=4||n===0?Xr(e):Xr.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function QA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function V8(e,t){return Tt(e.getUTCDate(),t,2)}function ZA(e,t){return Tt(e.getUTCHours(),t,2)}function KA(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function JA(e,t){return Tt(1+ao.count(Gn(e),e),t,3)}function L8(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function eV(e,t){return L8(e,t)+"000"}function tV(e,t){return Tt(e.getUTCMonth()+1,t,2)}function nV(e,t){return Tt(e.getUTCMinutes(),t,2)}function rV(e,t){return Tt(e.getUTCSeconds(),t,2)}function aV(e){var t=e.getUTCDay();return t===0?7:t}function iV(e,t){return Tt(xa.count(Gn(e)-1,e),t,2)}function O8(e){var t=e.getUTCDay();return t>=4||t===0?jr(e):jr.ceil(e)}function oV(e,t){return e=O8(e),Tt(jr.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function uV(e){return e.getUTCDay()}function lV(e,t){return Tt(mi.count(Gn(e)-1,e),t,2)}function cV(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function sV(e,t){return e=O8(e),Tt(e.getUTCFullYear()%100,t,2)}function fV(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function dV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jr(e):jr.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function mV(){return"+0000"}function k8(){return"%"}function D8(e){return+e}function N8(e){return Math.floor(+e/1e3)}var Oo,Vs,I8,z8,R8;qp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qp(e){return Oo=Up(e),Vs=Oo.format,I8=Oo.parse,z8=Oo.utcFormat,R8=Oo.utcParse,Oo}function hV(e){return new Date(e)}function pV(e){return e instanceof Date?+e:+new Date(+e)}function F8(e,t,n,r,a,i,o,l,s,f){var h=al(),x=h.invert,v=h.domain,M=f(".%L"),C=f(":%S"),A=f("%I:%M"),T=f("%I %p"),D=f("%a %d"),R=f("%b %d"),H=f("%B"),k=f("%Y");function z(I){return(s(I)<I?M:l(I)<I?C:o(I)<I?A:i(I)<I?T:r(I)<I?a(I)<I?D:R:n(I)<I?H:k)(I)}return h.invert=function(I){return new Date(x(I))},h.domain=function(I){return arguments.length?v(Array.from(I,pV)):v().map(hV)},h.ticks=function(I){var j=v();return e(j[0],j[j.length-1],I??10)},h.tickFormat=function(I,j){return j==null?z:f(j)},h.nice=function(I){var j=v();return(!I||typeof I.range!="function")&&(I=t(j[0],j[j.length-1],I??10)),I?v(Yp(j,I)):h},h.copy=function(){return As(h,F8(e,t,n,r,a,i,o,l,s,f))},h}function ks(){return La.apply(F8(Ql,Zl,In,hi,kr,Vr,ci,ui,cr,Vs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Jn();function gV(){var e=0,t=1,n,r,a,i,o=aa,l=!1,s;function f(x){return x==null||isNaN(x=+x)?s:o(a===0?.5:(x=(i(x)-n)*a,l?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(x){return arguments.length?(l=!!x,f):l},f.interpolator=function(x){return arguments.length?(o=x,f):o};function h(x){return function(v){var M,C;return arguments.length?([M,C]=v,o=x(M,C),f):[o(0),o(1)]}}return f.range=h(jt),f.rangeRound=h(Wu),f.unknown=function(x){return arguments.length?(s=x,f):s},function(x){return i=x,n=x(e),r=x(t),a=n===r?0:1/(r-n),f}}function vV(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ll(){var e=Hp(gV()(aa));return e.copy=function(){return vV(e,ll())},x8.apply(e,arguments)}up();vn();hh();xu();is();ms();Mp();var B8=e=>{let t=n=>(r,a)=>r===void 0?a:a===void 0?r:n(r,a);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Oa=e=>Array.isArray(e)?e.flat(1/0):[e];var H8=pt(_t()),yV=1,Ds=e=>{let t=n=>e(n);return(0,H8.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),yV),t};var Y8=pt(_t()),W8=e=>{let t=n=>e(n);return(0,Y8.rebindAll)(t,e),t.ticks=function(){return[]},t};var bV=()=>W8(Ds(ra())),xV=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...new Set(i.map(o=>o[e[0]]))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},Gp=e=>t=>t[e].join("|");var Ps={};Ln(Ps,{component:()=>SV,domain:()=>Qp,labelFunction:()=>Zp,scale:()=>_V,tickFormatFunction:()=>Kp});var Rr=pt(_t());Tr();var Ns=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let a=r[1]-r[0];r[0]-=e[0]*a,r[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n};var $8=function(){let e=[function(i){return i}],t=null,n=[],r=Ns(),a=function(o){let l=new Array(o.length),s=!0,f=!1,h,x=e[Symbol.iterator]();try{for(let M;!(s=(M=x.next()).done);s=!0){let C=M.value;for(let A=0;A<o.length;A++){let T=C(o[A],A);Array.isArray(T)?l.push.apply(l,jp(T)):l.push(T)}}}catch(M){f=!0,h=M}finally{try{!s&&x.return&&x.return()}finally{if(f)throw h}}let v=[qn(l),Mr(l)];if(v[0]=v[0]==null?qn(n):qn([v[0]].concat(jp(n))),v[1]=v[1]==null?Mr(n):Mr([v[1]].concat(jp(n))),t!=null){let M=Math.max(Math.abs(v[1]-t),Math.abs(v[0]-t));v[0]=t-M,v[1]=t+M}return r(v)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(...i){return i.length?(r.pad(i[0]),a):r.pad},a.padUnit=function(...i){return i.length?(r.padUnit(i[0]),a):r.padUnit},a.include=function(...i){return i.length?(n=i[0],a):n},a.symmetricalAbout=function(...i){return i.length?(t=i[0],a):t},a.paddingStrategy=function(...i){return i.length?(r=i[0],a):r},a},jp=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)};var wV=1e7,Es=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=wV?Ea(".3s")(r):Number.isInteger(r)?Ea(",.0f")(r):Ea(`,.${n}f`)(r)};function Io(e){return e.getRootNode().host}function Ia(e){return e.closest("#container.chart")}var _V=()=>ia(),Qp=()=>{let e=$8().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>parseFloat(l[o]))),a(Oa(i)));Rr.rebindAll(n,e);let r=i=>{let o=t.map(l=>i.map(s=>s[l]).sort((s,f)=>s-f).filter((s,f,h)=>f===0||s!==h[f-1]).reduce((s,f,h,x)=>h===0||s<=f-x[h-1]?s:Math.abs(f-x[h-1])));return Math.min(...o)},a=i=>{if(e.padUnit()=="domain"){let o=r(i);return e.pad([o/2,o/2])(i)}else return e(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},Zp=e=>t=>t[e][0],Kp=Es,SV=e=>{let t=null,n="horizontal",r=null,a=(f,h)=>{try{return Ia(f.node()).querySelector(".cartesian-chart").querySelector(`.${h}-axis`)}catch{return null}},i=f=>{let h=Re(f).select("text").node();h.style.fontSize="80%"},o=(f,h)=>{let x=f.getBoundingClientRect();h.each((v,M,C)=>{let A=Re(C[M]).node().getBoundingClientRect();(n=="vertical"&&x.width<A.width||n=="horizontal"&&x.height<A.height)&&i(C[M])})},l=(f,h,x)=>{let v=a(f,h);v&&o(v,f)},s=()=>({bottom:Rr.axisBottom,left:Rr.axisLeft,top:Rr.axisTop,right:Rr.axisRight,decorate:l});return s.domain=(...f)=>f.length?(t=f[0],s):t,s.orient=(...f)=>f.length?(n=f[0],s):n,s.settingName=(...f)=>f.length?(r=f[0],s):r,s};var eg={};Ln(eg,{domain:()=>TV,labelFunction:()=>Jp,scale:()=>MV});var zo=pt(_t());var MV=()=>ks(),TV=()=>{let e=zo.extentTime(),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>new Date(l[o]))),a(Oa(i)));zo.rebindAll(n,e,zo.exclude("include","paddingStrategy"));let r=i=>{let o=t.map(l=>i.map(s=>new Date(s[l]).getTime()).sort((s,f)=>s-f).filter((s,f,h)=>f===0||s!==h[f-1]).reduce((s,f,h,x)=>h===0||Math.abs(s)<=Math.abs(f-x[h-1])?Math.abs(s):Math.abs(f-x[h-1])));return Math.min(...o)},a=i=>{let o=Math.abs(r(i));return e.padUnit("domain").pad([o/2,o/2])(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},Jp=e=>t=>new Date(t[e][0]);var ng={};Ln(ng,{component:()=>VV,domain:()=>AV,labelFunction:()=>tg,scale:()=>CV});var za=pt(_t());var _n=pt(_t());var U8=(...e)=>{let t={},n=r=>{for(let a of Object.keys(t))r[a](t[a]);return r};for(let r of e)n[r]=(...a)=>a.length?(t[r]=a[0],n):t[r];return n};var Ls=(e,t,n)=>{let r=6,a=6,i=U8("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=(...A)=>{},l=null,s=(0,_n.dataJoin)("g","group"),f=(0,_n.dataJoin)("path","domain"),h=(A,T)=>v()?`translate(${T}, ${A})`:`translate(${A}, ${T})`,x=A=>v()?A.map(T=>[T[1],T[0]]):A,v=()=>e==="left"||e==="right",M=A=>{if(!l){i(t(n).decorate(o))(A);return}A.each((T,D,R)=>{let H=R[D],k=Re(H),z=e==="bottom"||e==="right"?1:-1,I=n.range(),j=x([[I[0],z*r],[I[0],0],[I[1],0],[I[1],z*r]]);f(k,[T]).attr("d",Ca()(j)).attr("stroke","#000").attr("fill","none");let be=s(k,l),pe=ze=>Array.isArray(a)?a[ze]:a,oe=ze=>{let de=0;for(let $=0;$<ze;$++)de+=pe($);return de};be.attr("transform",(ze,de)=>h(0,z*oe(de))).each((ze,de,$)=>{let we=Re($[de]),te=C(n,ze);i(t(te)).decorate((ge,ye)=>o(ge,ye,de)).tickSizeInner(pe(de)).tickOffset(ge=>te.step(ge)/2)(we),we.select("path.domain").attr("visibility","hidden")}),be.exit().attr("transform",(ze,de)=>h(0,z*oe(de)))})},C=(A,T)=>{function D(R){let H=R.domain;return H.reduce((k,z)=>k+A(z),0)/H.length}return D.ticks=()=>T,D.tickFormat=()=>R=>R.text,D.copy=()=>C(A,T),D.step=R=>R.domain.length*A.step(),(0,_n.rebindAll)(D,A,(0,_n.exclude)("ticks","step","copy")),D};return M.tickSize=(...A)=>A.length?(a=r=Number(A[0]),M):a,M.tickSizeInner=(...A)=>A.length?(a=Array.isArray(A[0])?A[0]:Number(A[0]),M):a,M.tickSizeOuter=(...A)=>A.length?(r=Number(A[0]),M):r,M.decorate=(...A)=>A.length?(o=A[0],M):o,M.groups=(...A)=>A.length?(l=A[0],M):l,(0,_n.rebindAll)(M,i),M},q8=e=>Ls("top",_n.axisOrdinalTop,e),G8=e=>Ls("bottom",_n.axisOrdinalBottom,e),X8=e=>Ls("left",_n.axisOrdinalLeft,e),j8=e=>Ls("right",_n.axisOrdinalRight,e);var CV=()=>Ds(ra()).padding(.5),AV=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...Array.from(new Set(i.map(o=>o[e[0]])))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},tg=e=>t=>t[e].join("|"),VV=e=>{let t="horizontal",n="crossValues",r=null,a=()=>{let v=e[n].length>1,M=o(r),C=M.map(l),A=v?C.map(k=>k.size):C[0].size,T=C.reduce((k,z)=>k+z.size,0),D=k=>z=>{let I=k(z);return v&&I.groups(M).tickSizeInner(A).tickSizeOuter(T),t!=="horizontal"&&I.tickPadding(10),I},R=(k,z,I)=>{let j=C[I].rotation;t==="horizontal"&&x(k,j),s(k,j)},H=i(v);return{bottom:D(H.bottom),left:D(H.left),right:D(H.right),top:D(H.top),size:`${T+10}px`,decorate:R}},i=v=>v?{bottom:G8,left:X8,top:q8,right:j8}:{bottom:za.axisOrdinalBottom,left:za.axisOrdinalLeft,top:za.axisOrdinalTop,right:za.axisOrdinalRight},o=v=>{let M=[];return v.forEach(C=>{(C&&C.split?C.split("|"):[C]).forEach((T,D)=>{for(;M.length<=D;)M.push([]);let R=M[D];R.length>0&&R[R.length-1].text===T?R[R.length-1].domain.push(C):R.push({text:T,domain:[C]})})}),M.reverse()},l=v=>{let M=e.size.width,C=Math.max(...v.map(A=>A.text?A.text.length:0));return t==="horizontal"?v&&v.length*16>M-100?{size:C*5+10,rotation:90}:v&&v.length*(C*6+10)>M-100?{size:C*3+20,rotation:45}:{size:25,rotation:0}:{size:C*5+10,rotation:0}},s=(v,M)=>{let C=z=>{let I=z.indexOf(",")!==-1?",":" ",j=z.substring(z.indexOf("(")+1,z.indexOf(")")).split(I).map(Z=>parseInt(Z));for(;j.length<2;)j.push(0);return j},D=M?(z,I)=>z.x+z.width+14>I.x+I.width:(z,I)=>z.x<=I.x+I.width&&I.x<=z.x+z.width&&z.y<=I.y+I.height&&I.y<=z.y+z.height,R=(z,I)=>z.x>=I.x&&z.x+z.width<=I.x+I.width&&z.y>=I.y&&z.y+z.height<=I.y+I.height,H=t=="horizontal"?f(v):null,k=[];v.each((z,I,j)=>{let Z=Re(j[I]),be=C(Z.attr("transform")),pe=Z.node().getBBox(),oe={x:pe.x+be[0],y:pe.y+be[1],width:pe.width,height:pe.height},de=k.some($=>D($,oe))||H&&!R(oe,H);Z.attr("visibility",de?"hidden":""),de||k.push(oe)})},f=v=>{let M=Ia(v.node());if(M===null)return;let C=M.querySelector(".cartesian-chart"),A=C.querySelector(".x-axis"),T=C.getBoundingClientRect(),D=A.getBoundingClientRect();return{x:T.left-D.left,width:T.width,y:T.top-D.top,height:T.height}},h=v=>v?v<60?`rotate(-${v} 5 5)`:`rotate(-${v} 3 7)`:"translate(0, 8)",x=(v,M)=>{let C=h(M),A=M?"end":"";v.each((T,D,R)=>{Re(R[D]).select("text").attr("transform",C).style("text-anchor",A)})};return a.orient=(...v)=>v.length?(t=v[0],a):t,a.settingName=(...v)=>v.length?(n=v[0],a):n,a.domain=(...v)=>v.length?(r=v[0],a):r,a};var kV={none:Xp,ordinal:ng,time:eg,linear:Ps},Et=e=>{let t=null,n="horizontal",r="crossValues",a,i=["crossValue"],o=null,l=null,s=["include","paddingStrategy","pad"],f={},h=M=>{let C=Eo(e).excludeType(t).settingName(r).settingValue(a)(),A=kV[C],T=A.domain().valueNames(i);s.forEach(k=>{f[k]&&T[k]&&T[k](f[k])}),T.orient&&T.orient(n);let D=T(M);o!==null&&(D=o(D)),l&&typeof D[0]=="number"&&(l[0]=D[0]=Math.min(D[0],l[0]),l[1]=D[1]=Math.max(D[1],l[1]));let R=A.hasOwnProperty("component")?x(A,D,M):v(),H=A==Ps?Kp(D[0],D[1]):void 0;return{scale:A.scale(),domain:D,domainFunction:T,labelFunction:A.labelFunction,component:{bottom:R.bottom,left:R.left,top:R.top,right:R.right},size:R.size,decorate:R.decorate,label:e[r].map(k=>k.name).join(", "),tickFormatFunction:H}},x=(M,C,A)=>M.component(e).orient(n).settingName(r).domain(C)(A),v=()=>({bottom:Ra.axisBottom,left:Ra.axisLeft,top:Ra.axisTop,right:Ra.axisRight,decorate:()=>{}});return h.memoValue=(...M)=>M.length?(l=M[0],h):l,h.excludeType=(...M)=>M.length?(t=M[0],h):t,h.orient=(...M)=>M.length?(n=M[0],h):n,h.settingName=(...M)=>M.length?(r=M[0],h):r,h.settingValue=(...M)=>M.length?(a=M[0],h):a,h.valueName=(...M)=>M.length?(i=[M[0]],h):i[0],h.valueNames=(...M)=>M.length?(i=M[0],h):i,h.modifyDomain=M=>M?(o=M,h):o,s.forEach(M=>{h[M]=(...C)=>C.length?(f[M]=C[0],h):f[M]}),h};var Fi=pt(_t()),tr=(e,t)=>Q8(e,t,(n,r)=>n.svgPlotArea(r),!1),Ro=(e,t)=>Q8(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(Fi.seriesSvgPoint()),!0),Q8=(e,t,n,r)=>{let a=null,i=null,o=Fi.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&o.xDecorate(e.decorate),t.decorate&&o.yDecorate(t.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...s)=>s.length?(a=s[0],o):a,o.altAxis=(...s)=>s.length?(i=s[0],o):i,o.plotArea=function(...s){return s.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...s)};let l=o.decorate();return o.decorate((s,f)=>{let h=s.select("d3fc-svg.plot-area"),x=h.select("svg").node();x.setAttribute("viewBox",`0 0 ${h.node().clientWidth} ${h.node().clientHeight}`),x.setAttribute("preserveAspectRatio","none");for(let v of["x-axis","y-axis"])s.select(`d3fc-svg.${v} svg`).node().setAttribute("preserveAspectRatio","none");if(l(s,f),r){let v=s.select(".svg-plot-area").node(),M=s.select(".canvas-plot-area").node();gc([v,M]).order()}if(!!a){if(a.haveSplit()){let v=a.altData(),M=Fi.dataJoin("d3fc-svg","y2-axis").key(D=>D),C=Fi.dataJoin("g","y-series").key(D=>D);s.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",i.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let A=i.scale.domain(i.domain),T=i.component.right(A);if(T.tickFormat(i.tickFormatFunction),i.decorate&&T.decorate(i.decorate),M(s,["right"]).attr("class",D=>`y-axis ${D}-axis`).on("measure",function(D,R){let{width:H,height:k}=D.detail;R==="left"&&Re(D.currentTarget).select("svg").attr("viewBox",`${-H} 0 ${H} ${k}`).attr("preserveAspectRatio","none"),A.range([k,0])}).on("draw",function(D,R){Re(D.currentTarget).select("svg").call(T)}),r){let D=R=>{let H=o.plotArea();H.context(R.node().getContext("2d")).xScale(e.scale);let k=[t.scale,A];[f,v].forEach((z,I)=>{H.yScale(k[I]),H(z)})};s.select("d3fc-canvas.plot-area").on("draw",function(R,H){D(Re(R.currentTarget).select("canvas"))})}else{let D=function(R){let H=o.plotArea();H.xScale(e.scale);let k=[t.scale,A];C(R,[f,v]).each((z,I,j)=>{H.yScale(k[I]),Re(j[I]).datum(z).call(H)})};s.select("d3fc-svg.plot-area").on("draw",function(R,H){D(Re(R.currentTarget).select("svg"))})}}a(s)}}),o};var ua=pt(_t());function Ht(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Fr(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function rg(e,t,n,r=0){let a=e==="x"?"width":"height",i=t[e],o=t[e]+t[a],l=n[e],s=n[e]+n[a],f=l+r>i&&l-r<o,h=s+r>i&&s-r<o,x=l+r<i&&s-r>o;return f||h||x}var Z8=`<ul id="tooltip-values"></ul>
`;var K8={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function Fo(e){let t={};if(J8().types[e]&&Object.assign(t,J8().types[e]),t.type){let n=Fo(t.type);return Object.assign(n,t),n}else return t}function ag(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ig(e,...t){if(!t.length)return e;let n=t.shift();if(ag(e)&&ag(n))for(let r in n)ag(n[r])?(e[r]||Object.assign(e,{[r]:{}}),ig(e[r],n[r])):Object.assign(e,{[r]:n[r]});return ig(e,...t)}function J8(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=ig(K8,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function oa(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],Fo(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Os(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((r,a)=>({name:t.crossValues[a].name,value:oa(t.crossValues[a].type,r)}))}function Is(e,t){if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):e.mainValue?.split&&(n=e.mainValue.split("|")),t.splitValues.map((r,a)=>({name:r.name,value:oa(r.type,n[a])}))}function zs(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:oa(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:oa(n.type,e.row[n.name])})):[{name:t.mainValues[0].name,value:oa(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function e6(e,t,n){let r=Os(t,n).concat(Is(t,n)).concat(zs(t,n));NV(e,r)}function NV(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){Re(this).text(`${n.name}: `).append("b").text(EV(n.value))})}var EV=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:Fo("float").precision,maximumFractionDigits:Fo("float").precision});var t6=e=>[e.name,"==",e.value],cl=(e,t,n)=>{let r=zs(t,n).map(l=>l.name),a=Os(t,n).map(t6),i=Is(t,n).map(t6),o=n.filter.concat(a).concat(i);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},n6=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(a,i)=>cl(r,i,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t};var Fa=()=>{let e=!1,t=null,n=null,r=!1,a=i=>{let o=i.node();if(!o||!o.isConnected){r6(t);return}let l=Re(Ia(o));t=PV(l);let s=function(h,x){e6(t,x,n);let v=i.nodes(),M=v.indexOf(this);LV(l.node(),v[M],t,r),Re(v[M]).style("opacity","0.7")},f=function(h,x){r6(t);let v=i.nodes(),M=v.indexOf(this);v&&Re(v[M]).style("opacity","1")};e?i.each(function(h){return s.call(this,void 0,h)}):(i.on("mouseover",s).on("mouseout",f),n6().settings(n)(i))};return a.alwaysShow=(...i)=>i.length?(e=i[0],a):e,a.centered=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a};function PV(e){return Ht(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(Z8))}function LV(e,t,n,r){let a=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.left+i.width/2-a.left,l=i.top-a.top+e.scrollTop;r&&(l=i.top+i.height/2-a.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=OV(n,a)),IV(n,a,o,l,r)}function OV(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",`${a}px`);let i=n.height/2,o=n.top-i-t.top;return e.style("top",`${o}px`),[a,o]}function IV(e,t,n,r,a=!1){let i=e.node().getBoundingClientRect();if(Fr(t,i)){let o=i.right-t.right;e.style("left",`${n-o}px`)}if(Fr(t,i,"bottom")){let o=i.bottom-t.bottom;e.style("top",`${r-o}px`)}if(!!a){if(Fr(t,i,"left")){let o=i.left-t.left;e.style("left",`${n-o}px`)}if(Fr(t,i,"top")){let o=i.top-t.top;e.style("top",`${r-o}px`)}}}function r6(e){e&&e.style("opacity",0)}function Rs(e,t){let n=e.mainValues.length>1?ua.seriesSvgGrouped(ua.seriesSvgBar()):ua.seriesSvgBar();return n=n.decorate(r=>{Fa().settings(e)(r),r.style("fill",a=>t(a.key))}),ua.autoBandwidth(zV(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var zV=e=>{let t=n=>e(n);return ua.rebindAll(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Ba(e){return e.split("|").slice(0,-1).join("|")}function Fs(e,t){return e.data.map(n=>Object.entries(n).filter(([r,a])=>r.split("|").at(-1)===t&&!!a).map(([r,a])=>a)).flat()}function Br(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return vr().settings(e).domain(n)()}function a6(e,t){let n=Fs(e,t),r=[...new Set(n)].sort();return vr().settings(e).domain(r)()}function Bi(e,t){let n=[...new Set(t)];return vr().settings(e).domain(n)()}function i6(e){let t=e.data[0]??{},n=Object.keys(t).filter(a=>a!=="__ROW_PATH__").map(a=>Ba(a)),r=[...new Set(n)];return vr().settings(e).domain(r)()}function vr(){let e=null,t=null,n={},r=i=>Hi(i,n.colorStyles&&n.colorStyles.opacity),a=()=>{let i=n.colorStyles,o=t||[i.series];if(o||e.length>1){let l=e.length>1?i.scheme:o;return gr(l.map(r)).domain(e)}return null};return a.domain=(...i)=>i.length===0?e:(e=i[0],a),a.defaultColors=(...i)=>i.length?(t=i[0],a):t,a.mapFunction=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a}function Hr(e){return Yi(1)(e)}function Hi(e,t=.5){return Yi(t)(e)}function Yi(e){return t=>{let n=bn(t);return n!=null&&(n.opacity=e),n+""}}var o6=pt(_t());var RV={none:Gp,ordinal:tg,time:Jp,linear:Zp},nr=e=>{let t=Eo(e),n="__ROW_PATH__",r=(a,i)=>RV[t()](n)(a);return(0,o6.rebindAll)(r,t),r.valueName=(...a)=>a.length?(n=a[0],r):n,r};function Wi(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let a=t||e.data;return e.splitValues.length>0?FV(e,a,{stack:n,excludeEmpty:r}):[a]}function FV(e,t,{stack:n=!1,excludeEmpty:r=!1}){let a={};return t.forEach(i=>{let o={},l={};Object.keys(i).filter(s=>s!=="__ROW_PATH__").filter(s=>!r||i[s]!=null&&i[s]!=null).forEach(s=>{let f=s.split("|"),h=f[f.length-1],x=i[s]||0,v=`${h}${x>=0?"+ve":"-ve"}`,M=f.slice(0,f.length-1).join("|"),C=l[M]=l[M]||{__ROW_PATH__:i.__ROW_PATH__},A=o[v]||0;C.__KEY__=M,n?(C[h]=A+x,C[`__BASE_VALUE__${h}`]=A,o[v]=C[h]):C[h]=x,C.row=i}),Object.keys(l).forEach(s=>{(a[s]=a[s]||[]).push(l[s])})}),Object.keys(a).map(i=>{let o=a[i];return o.key=i,o})}function u6(e,t){let n={stack:!1},r=Wi(e,t,n).map(a=>l6(e,a,n));return e.mainValues.length>1?r.reduce((i,o)=>i.concat(o)):r}function Bs(e,t){let n={stack:!0};return Wi(e,t,n).map(r=>l6(e,r,n))}function BV(e,t,{stack:n=!1}){let r=nr(e);return a=>{let i=l=>n&&l[`__BASE_VALUE__${a.name}`]||0,o=t.map((l,s)=>({crossValue:r(l,s),mainValue:l[a.name]?l[a.name]:null,baseValue:i(l),key:l.__KEY__?`${l.__KEY__}|${a.name}`:a.name,row:l.row||l}));return o.key=o[0].key,o}}function l6(e,t,{stack:n=!1}){let r=BV(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var Hs="http://www.w3.org/1999/xhtml",Ys={svg:"http://www.w3.org/2000/svg",xhtml:Hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ys.hasOwnProperty(t)?{space:Ys[t],local:e}:e}function HV(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hs&&t.documentElement.namespaceURI===Hs?t.createElement(e):t.createElementNS(n,e)}}function YV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fl(e){var t=sl(e);return(t.local?YV:HV)(t)}var WV=0;function ug(){return new og}function og(){this._="@"+(++WV).toString(36)}og.prototype=ug.prototype={constructor:og,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var s6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(Bo=document.documentElement,Bo.matches||(c6=Bo.webkitMatchesSelector||Bo.msMatchesSelector||Bo.mozMatchesSelector||Bo.oMatchesSelector,s6=function(e){return function(){return c6.call(this,e)}}));var Bo,c6,lg=s6;var d6={},dl=null;typeof document<"u"&&(f6=document.documentElement,"onmouseenter"in f6||(d6={mouseenter:"mouseover",mouseleave:"mouseout"}));var f6;function $V(e,t,n){return e=m6(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function m6(e,t,n){return function(r){var a=dl;dl=r;try{e.call(this,this.__data__,t,n)}finally{dl=a}}}function UV(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function qV(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.capture):t[++r]=i;++r?t.length=r:delete this.__on}}}function GV(e,t,n){var r=d6.hasOwnProperty(e.type)?$V:m6;return function(a,i,o){var l=this.__on,s,f=r(t,i,o);if(l){for(var h=0,x=l.length;h<x;++h)if((s=l[h]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=f,s.capture=n),s.value=t;return}}this.addEventListener(e.type,f,n),s={type:e.type,name:e.name,value:t,listener:f,capture:n},l?l.push(s):this.__on=[s]}}function h6(e,t,n){var r=UV(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,h;s<f;++s)for(a=0,h=l[s];a<i;++a)if((o=r[a]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?GV:qV,n==null&&(n=!1),a=0;a<i;++a)this.each(l(r[a],t,n));return this}function XV(){}function ml(e){return e==null?XV:function(){return this.querySelector(e)}}function v6(e){typeof e!="function"&&(e=ml(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,h=0;h<o;++h)(s=i[h])&&(f=e.call(s,s.__data__,h,i))&&("__data__"in s&&(f.__data__=s.__data__),l[h]=f);return new It(r,this._parents)}function jV(){return[]}function cg(e){return e==null?jV:function(){return this.querySelectorAll(e)}}function y6(e){typeof e!="function"&&(e=cg(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new It(r,a)}function b6(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new It(r,this._parents)}function Ws(e){return new Array(e.length)}function x6(){return new It(this._enter||this._groups.map(Ws),this._parents)}function hl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hl.prototype={constructor:hl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function w6(e){return function(){return e}}var _6="$";function QV(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new hl(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function ZV(e,t,n,r,a,i,o){var l,s,f={},h=t.length,x=i.length,v=new Array(h),M;for(l=0;l<h;++l)(s=t[l])&&(v[l]=M=_6+o.call(s,s.__data__,l,t),M in f?a[l]=s:f[M]=s);for(l=0;l<x;++l)M=_6+o.call(e,i[l],l,i),(s=f[M])?(r[l]=s,s.__data__=i[l],f[M]=null):n[l]=new hl(e,i[l]);for(l=0;l<h;++l)(s=t[l])&&f[v[l]]===s&&(a[l]=s)}function S6(e,t){if(!e)return M=new Array(this.size()),f=-1,this.each(function(I){M[++f]=I}),M;var n=t?ZV:QV,r=this._parents,a=this._groups;typeof e!="function"&&(e=w6(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var h=r[f],x=a[f],v=x.length,M=e.call(h,h&&h.__data__,f,r),C=M.length,A=l[f]=new Array(C),T=o[f]=new Array(C),D=s[f]=new Array(v);n(h,x,A,T,D,M,t);for(var R=0,H=0,k,z;R<C;++R)if(k=A[R]){for(R>=H&&(H=R+1);!(z=T[H])&&++H<C;);k._next=z||null}}return o=new It(o,r),o._enter=l,o._exit=s,o}function M6(){return new It(this._exit||this._groups.map(Ws),this._parents)}function T6(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],h=s.length,x=o[l]=new Array(h),v,M=0;M<h;++M)(v=s[M]||f[M])&&(x[M]=v);for(;l<r;++l)o[l]=t[l];return new It(o,this._parents)}function C6(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this}function A6(e){e||(e=KV);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(s[h]=f);s.sort(t)}return new It(a,this._parents).order()}function KV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function V6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function D6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function N6(){var e=0;return this.each(function(){++e}),e}function E6(){return!this.node()}function P6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function JV(e){return function(){this.removeAttribute(e)}}function ek(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tk(e,t){return function(){this.setAttribute(e,t)}}function nk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function rk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ak(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function L6(e,t){var n=sl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ek:JV:typeof t=="function"?n.local?ak:rk:n.local?nk:tk)(n,t))}function pl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ik(e){return function(){this.style.removeProperty(e)}}function ok(e,t,n){return function(){this.style.setProperty(e,t,n)}}function uk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function O6(e,t,n){var r;return arguments.length>1?this.each((t==null?ik:typeof t=="function"?uk:ok)(e,t,n??"")):pl(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function lk(e){return function(){delete this[e]}}function ck(e,t){return function(){this[e]=t}}function sk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function I6(e,t){return arguments.length>1?this.each((t==null?lk:typeof t=="function"?sk:ck)(e,t)):this.node()[e]}function z6(e){return e.trim().split(/^|\s+/)}function sg(e){return e.classList||new R6(e)}function R6(e){this._node=e,this._names=z6(e.getAttribute("class")||"")}R6.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function F6(e,t){for(var n=sg(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function B6(e,t){for(var n=sg(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function fk(e){return function(){F6(this,e)}}function dk(e){return function(){B6(this,e)}}function mk(e,t){return function(){(t.apply(this,arguments)?F6:B6)(this,e)}}function H6(e,t){var n=z6(e+"");if(arguments.length<2){for(var r=sg(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?mk:t?fk:dk)(n,t))}function hk(){this.textContent=""}function pk(e){return function(){this.textContent=e}}function gk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Y6(e){return arguments.length?this.each(e==null?hk:(typeof e=="function"?gk:pk)(e)):this.node().textContent}function vk(){this.innerHTML=""}function yk(e){return function(){this.innerHTML=e}}function bk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function W6(e){return arguments.length?this.each(e==null?vk:(typeof e=="function"?bk:yk)(e)):this.node().innerHTML}function xk(){this.nextSibling&&this.parentNode.appendChild(this)}function $6(){return this.each(xk)}function wk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U6(){return this.each(wk)}function q6(e){var t=typeof e=="function"?e:fl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _k(){return null}function G6(e,t){var n=typeof e=="function"?e:fl(e),r=t==null?_k:typeof t=="function"?t:ml(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sk(){var e=this.parentNode;e&&e.removeChild(this)}function X6(){return this.each(Sk)}function j6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Q6(e,t,n){var r=pl(e),a=r.CustomEvent;a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Mk(e,t){return function(){return Q6(this,e,t)}}function Tk(e,t){return function(){return Q6(this,e,t.apply(this,arguments))}}function Z6(e,t){return this.each((typeof t=="function"?Tk:Mk)(e,t))}var $s=[null];function It(e,t){this._groups=e,this._parents=t}function Ck(){return new It([[document.documentElement]],$s)}It.prototype=Ck.prototype={constructor:It,select:v6,selectAll:y6,filter:b6,data:S6,enter:x6,exit:M6,merge:T6,order:C6,sort:A6,call:V6,nodes:k6,node:D6,size:N6,empty:E6,each:P6,attr:L6,style:O6,property:I6,classed:H6,text:Y6,html:W6,raise:$6,lower:U6,append:q6,insert:G6,remove:X6,datum:j6,on:h6,dispatch:Z6};function fg(e){return typeof e=="string"?new It([[document.querySelector(e)]],[document.documentElement]):new It([[e]],$s)}var Yr=pt(Rd()),dg=pt(lp()),mg=pt(Bd()),Ho=pt(Id()),Ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e5=function(t){return t},K6=function(t){for(var n=[],r=0,a=t.length;r<a;r++)n[r]=t[a-r-1];return n},J6=function(t,n){t.each(function(){for(var r=fg(this),a=r.text().split(/\s+/).reverse(),i,o=[],l=0,s=1.2,f=r.attr("y"),h=parseFloat(r.attr("dy"))||0,x=r.text(null).append("tspan").attr("x",0).attr("dy",h+"em");i=a.pop();)o.push(i),x.text(o.join(" ")),x.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),x.text(o.join(" ")),o=[i],x=r.append("tspan").attr("x",0).attr("dy",s+h+"em").text(i))})},Vk=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4];if((typeof n>"u"?"undefined":Ak(n))==="object"){if(n.length===0)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}else if(typeof n=="function"){for(var l=[],s=t.length,f=0;f<s;f++)l.push(n({i:f,genLength:s,generatedLabels:t,domain:r,range:a,labelDelimiter:i}));return l}return t},kk=function(t,n,r){var a=[];if(n.length>1)a=n;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(n-1),l=0;l<n;l++)a.push(i[0]+l*o);var s=a.map(r);return{data:a,labels:s,feature:function(h){return t(h)}}},Dk=function(t,n,r){var a=t.range().map(function(i){var o=t.invertExtent(i);return n(o[0])+" "+r+" "+n(o[1])});return{data:t.range(),labels:a,feature:e5}},Nk=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},Ek=function(t,n,r){t.call("cellover",r,n)},Pk=function(t,n,r){t.call("cellout",r,n)},Lk=function(t,n,r){t.call("cellclick",r,n)},Rt={d3_drawShapes:function(t,n,r,a,i,o){t==="rect"?n.attr("height",r).attr("width",a):t==="circle"?n.attr("r",i):t==="line"?n.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",o)},d3_addText:function(t,n,r,a,i){n.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(r).text(e5);return i&&t.selectAll("g."+a+"cell text."+a+"label").call(J6,i),o},d3_calcType:function(t,n,r,a,i,o){var l=t.invertExtent?Dk(t,i,o):t.ticks?kk(t,r,i):Nk(t),s=t.range&&t.range()||t.domain();return l.labels=Vk(l.labels,a,t.domain(),s,o),n&&(l.labels=K6(l.labels),l.data=K6(l.data)),l},d3_filterCells:function(t,n){var r=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(n),a=r.map(function(o){return o.data}),i=r.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return i.indexOf(o)!==-1}),t},d3_placement:function(t,n,r,a,i,o){n.attr("transform",r),a.attr("transform",i),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){Ek(n,r,this)}).on("mouseout.legend",function(r){Pk(n,r,this)}).on("click.legend",function(r){Lk(n,r,this)})},d3_title:function(t,n,r,a){if(n!==""){var i=t.selectAll("text."+r+"legendTitle");i.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),a&&t.selectAll("text."+r+"legendTitle").call(J6,a);var o=t.select("."+r+"legendCells"),l=t.select("."+r+"legendTitle").nodes().map(function(f){return f.getBBox().height})[0],s=-o.nodes().map(function(f){return f.getBBox().x})[0];o.attr("transform","translate("+s+","+l+")")}},d3_defaultLocale:{format:Yr.format,formatPrefix:Yr.formatPrefix},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Us(){var e=(0,mg.scaleLinear)(),t="rect",n=15,r=15,a=10,i=2,o=[5],l=void 0,s=[],f="",h=!1,x="",v=Rt.d3_defaultLocale,M=Rt.d3_defaultFormatSpecifier,C=10,A="middle",T=Rt.d3_defaultDelimiter,D=void 0,R="vertical",H=!1,k=void 0,z=void 0,I=(0,dg.dispatch)("cellover","cellout","cellclick");function j(Z){var be=Rt.d3_calcType(e,H,o,s,v.format(M),T),pe=Z.selectAll("g").data([e]);pe.enter().append("g").attr("class",f+"legendCells"),l&&Rt.d3_filterCells(be,l);var oe=Z.select("."+f+"legendCells").selectAll("."+f+"cell").data(be.data),ze=oe.enter().append("g").attr("class",f+"cell");ze.append(t).attr("class",f+"swatch");var de=Z.selectAll("g."+f+"cell "+t+"."+f+"swatch").data(be.data);Rt.d3_addEvents(ze,I),oe.exit().transition().style("opacity",0).remove(),de.exit().transition().style("opacity",0).remove(),de=de.merge(de),Rt.d3_drawShapes(t,de,r,n,a,k);var $=Rt.d3_addText(Z,ze,be.labels,f,D);oe=ze.merge(oe);var we=$.nodes().map(function(ce){return ce.getBBox()}),te=de.nodes().map(function(ce){return ce.getBBox()});h?de.attr("class",function(ce){return f+"swatch "+be.feature(ce)}):t=="line"?de.style("stroke",be.feature):de.style("fill",be.feature);var ae=void 0,ge=void 0,ye=A=="start"?0:A=="middle"?.5:1;R==="vertical"?function(){var ce=we.map(function(ke,Le){return Math.max(ke.height,te[Le].height)});ae=function(Le,Se){var He=(0,Ho.sum)(ce.slice(0,Se));return"translate(0, "+(He+Se*i)+")"},ge=function(Le,Se){return"translate( "+(te[Se].width+te[Se].x+C)+", "+(te[Se].y+te[Se].height/2+5)+")"}}():R==="horizontal"&&(ae=function(ke,Le){return"translate("+Le*(te[Le].width+i)+",0)"},ge=function(ke,Le){return"translate("+(te[Le].width*ye+te[Le].x)+`,
          `+(te[Le].height+te[Le].y+C+8)+")"}),Rt.d3_placement(R,oe,ae,$,ge,A),Rt.d3_title(Z,x,f,z),oe.transition().style("opacity",1)}return j.scale=function(Z){return arguments.length?(e=Z,j):e},j.cells=function(Z){return arguments.length?((Z.length>1||Z>=2)&&(o=Z),j):o},j.cellFilter=function(Z){return arguments.length?(l=Z,j):l},j.shape=function(Z,be){return arguments.length?((Z=="rect"||Z=="circle"||Z=="line"||Z=="path"&&typeof be=="string")&&(t=Z,k=be),j):t},j.shapeWidth=function(Z){return arguments.length?(n=+Z,j):n},j.shapeHeight=function(Z){return arguments.length?(r=+Z,j):r},j.shapeRadius=function(Z){return arguments.length?(a=+Z,j):a},j.shapePadding=function(Z){return arguments.length?(i=+Z,j):i},j.labels=function(Z){return arguments.length?(s=Z,j):s},j.labelAlign=function(Z){return arguments.length?((Z=="start"||Z=="end"||Z=="middle")&&(A=Z),j):A},j.locale=function(Z){return arguments.length?(v=(0,Yr.formatLocale)(Z),j):v},j.labelFormat=function(Z){return arguments.length?(M=(0,Yr.formatSpecifier)(Z),j):j.locale().format(M)},j.labelOffset=function(Z){return arguments.length?(C=+Z,j):C},j.labelDelimiter=function(Z){return arguments.length?(T=Z,j):T},j.labelWrap=function(Z){return arguments.length?(D=Z,j):D},j.useClass=function(Z){return arguments.length?((Z===!0||Z===!1)&&(h=Z),j):h},j.orient=function(Z){return arguments.length?(Z=Z.toLowerCase(),(Z=="horizontal"||Z=="vertical")&&(R=Z),j):R},j.ascending=function(Z){return arguments.length?(H=!!Z,j):H},j.classPrefix=function(Z){return arguments.length?(f=Z,j):f},j.title=function(Z){return arguments.length?(x=Z,j):x},j.titleWidth=function(Z){return arguments.length?(z=Z,j):z},j.textWrap=function(Z){return arguments.length?(textWrap=Z,j):textWrap},j.on=function(){var Z=I.on.apply(I,arguments);return Z===I?j:Z},j}function t5(){var e=(0,mg.scaleLinear)(),t="path",n=15,r=15,a=10,i=5,o=[5],l=void 0,s=[],f="",h="",x=Rt.d3_defaultLocale,v=Rt.d3_defaultFormatSpecifier,M="middle",C=10,A=Rt.d3_defaultDelimiter,T=void 0,D="vertical",R=!1,H=void 0,k=(0,dg.dispatch)("cellover","cellout","cellclick");function z(I){var j=Rt.d3_calcType(e,R,o,s,x.format(v),A),Z=I.selectAll("g").data([e]);l&&Rt.d3_filterCells(j,l),Z.enter().append("g").attr("class",f+"legendCells");var be=I.select("."+f+"legendCells").selectAll("."+f+"cell").data(j.data),pe=be.enter().append("g").attr("class",f+"cell");pe.append(t).attr("class",f+"swatch");var oe=I.selectAll("g."+f+"cell "+t+"."+f+"swatch");Rt.d3_addEvents(pe,k),be.exit().transition().style("opacity",0).remove(),oe.exit().transition().style("opacity",0).remove(),oe=oe.merge(oe),Rt.d3_drawShapes(t,oe,r,n,a,j.feature);var ze=Rt.d3_addText(I,pe,j.labels,f,T);be=pe.merge(be);var de=ze.nodes().map(function(ce){return ce.getBBox()}),$=oe.nodes().map(function(ce){return ce.getBBox()}),we=(0,Ho.max)($,function(ce){return ce.height}),te=(0,Ho.max)($,function(ce){return ce.width}),ae=void 0,ge=void 0,ye=M=="start"?0:M=="middle"?.5:1;D==="vertical"?function(){var ce=de.map(function(ke,Le){return Math.max(we,ke.height)});ae=function(Le,Se){var He=(0,Ho.sum)(ce.slice(0,Se));return"translate(0, "+(He+Se*i)+" )"},ge=function(Le,Se){return"translate( "+(te+C)+`,
              `+($[Se].y+$[Se].height/2+5)+")"}}():D==="horizontal"&&(ae=function(ke,Le){return"translate( "+Le*(te+i)+",0)"},ge=function(ke,Le){return"translate( "+($[Le].width*ye+$[Le].x)+`,
              `+(we+C)+")"}),Rt.d3_placement(D,be,ae,ze,ge,M),Rt.d3_title(I,h,f,H),be.transition().style("opacity",1)}return z.scale=function(I){return arguments.length?(e=I,z):e},z.cells=function(I){return arguments.length?((I.length>1||I>=2)&&(o=I),z):o},z.cellFilter=function(I){return arguments.length?(l=I,z):l},z.shapePadding=function(I){return arguments.length?(i=+I,z):i},z.labels=function(I){return arguments.length?(s=I,z):s},z.labelAlign=function(I){return arguments.length?((I=="start"||I=="end"||I=="middle")&&(M=I),z):M},z.locale=function(I){return arguments.length?(x=(0,Yr.formatLocale)(I),z):x},z.labelFormat=function(I){return arguments.length?(v=(0,Yr.formatSpecifier)(I),z):z.locale().format(v)},z.labelOffset=function(I){return arguments.length?(C=+I,z):C},z.labelDelimiter=function(I){return arguments.length?(A=I,z):A},z.labelWrap=function(I){return arguments.length?(T=I,z):T},z.orient=function(I){return arguments.length?(I=I.toLowerCase(),(I=="horizontal"||I=="vertical")&&(D=I),z):D},z.ascending=function(I){return arguments.length?(R=!!I,z):R},z.classPrefix=function(I){return arguments.length?(f=I,z):f},z.title=function(I){return arguments.length?(h=I,z):h},z.titleWidth=function(I){return arguments.length?(H=I,z):H},z.on=function(){var I=k.on.apply(k,arguments);return I===k?z:I},z}var m5=pt(_t());var r5=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function a5(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Fr(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((a,i,o)=>{let l=o[i];if(Fr(n,l.getBoundingClientRect())){let s=Ik(l,r,n);return`${a.substring(0,s-3)}...`}else return a})}function Ik(e,t,n){let r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,e.getCharNumAtPosition(a)}var $i=10;function Ha(e,t,n){let r=Re(Io(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),i={top:a.top+n-$i,right:a.right+t+$i,bottom:a.bottom+n+$i,left:a.left+t-$i},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(s=>{if(Fr(r,i,s.edge)){let f=i[s.edge]-r[s.edge];o[s.dimension]=o[s.dimension]-f}}),o}var hg="resize.for-dragging";function i5(){let e=!0,t=null,n=r=>{let a=r.node(),i=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let o=Co().on("drag",function(l){let s=Ha(this,l.dx,l.dy);this.style.left=`${this.offsetLeft+s.x}px`,this.style.top=`${this.offsetTop+s.y}px`;let f={left:this.style.left,top:this.style.top};t.legend={...t.legend,...f},e=Fk(a)?Rk(a):zk(a,e)});o.on("end",function(l){Re(window).on(hg,null),i?.dispatchEvent(new Event("perspective-config-update"))}),r.call(o)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function zk(e,t){return t!==!1&&Re(window).on(hg,function(){let n=Ha(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function Rk(e){return Re(window).on(hg,null),e.style.left="auto",!0}function Fk(e){let t=e.getBoundingClientRect(),n=Re(Ia(e)).node().getBoundingClientRect(),r=5;return t.right+$i+r>=n.right&&t.top-$i-r<=n.top}var o5="horizontal-drag-handle",u5="vertical-drag-handle",Bk="corner-drag-handle",c5="dragHandles",l5=0,Ya="resize";function s5(){let e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(h,x)=>i.filter(v=>v.event===h).forEach(v=>v.execute(x)),l=h=>{if(Yk(h))return;let x={left:Se=>o(Ya,{horizontal:we(Se),vertical:!1}),top:Se=>o(Ya,{horizontal:!1,vertical:ae(Se)}),right:Se=>o(Ya,{horizontal:te(Se),vertical:!1}),bottom:Se=>o(Ya,{horizontal:!1,vertical:ge(Se)}),topleft:Se=>o(Ya,{horizontal:we(Se),vertical:ae(Se)}),topright:Se=>o(Ya,{horizontal:te(Se),vertical:ae(Se)}),bottomright:Se=>o(Ya,{horizontal:te(Se),vertical:ge(Se)}),bottomleft:Se=>o(Ya,{horizontal:we(Se),vertical:ge(Se)})},v=h.node();n.legend&&(v.style.height=n.legend.height,v.style.width=n.legend.width);let M=v.getBoundingClientRect(),C=h.append("svg").attr("id",c5).attr("width",M.width).attr("height",M.height),A=C.append("g"),T=Se=>Se==="left"||Se==="right",D={left:0,top:e,right:M.width-e,bottom:e},R={left:e,top:0,right:e,bottom:M.height-e},H=["left","top","right","bottom"],[k,z,I,j]=H.map(Se=>A.append("rect").attr("id",`drag${Se}`).attr("class",T(Se)?u5:o5).attr("y",R[Se]).attr("x",D[Se]).attr("height",T(Se)?M.height-e*2:e).attr("width",T(Se)?e:M.width-e*2).attr("fill",T(Se)?"lightgreen":"lightblue").attr("fill-opacity",l5).style("z-index",t).attr("cursor",T(Se)?"ew-resize":"ns-resize").call(Co().on("drag",x[Se]))),Z=Se=>`${Se[0]}${Se[1]}`,be={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},pe=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[oe,ze,de,$]=pe.map(Se=>A.append("rect").attr("id",`drag${Z(Se)}`).attr("class",`${Bk} ${Se[0]} ${Se[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",l5).style("z-index",t).attr("cursor",`${be[Z(Se)]}-resize`).call(Co().on("drag",x[Z(Se)])));Le("height","y",j),Le("width","x",I),ke(C);function we(Se){let He=f(Ha(k.node(),Se.x,0).x,C,"width",(X,he)=>X-he);return v.style.left=`${v.offsetLeft+He}px`,v.style.width=`${v.offsetWidth-He}px`,ye(),ce(I,He,"width","x")}function te(Se){let He=-f(Ha(I.node(),Se.dx,0).x,C,"width",(X,he)=>X+he);return s(He,"x",I,Se)?!1:(v.style.width=`${v.offsetWidth-He}px`,ye(),ce(I,He,"width","x"))}function ae(Se){let He=f(Ha(z.node(),0,Se.y).y,C,"height",(X,he)=>X-he);return v.style.top=`${v.offsetTop+He}px`,v.style.height=`${v.offsetHeight-He}px`,ye(),ce(j,He,"height","y")}function ge(Se){let He=-f(Ha(j.node(),0,Se.dy).y,C,"height",(X,he)=>X+he);return s(He,"y",j,Se)?!1:(v.style.height=`${v.offsetHeight-He}px`,ye(),ce(j,He,"height","y"))}function ye(){let Se={top:v.style.top,left:v.style.left,height:v.style.height,width:v.style.width};n.legend={...n.legend,...Se}}function ce(Se,He,X,he){return $k(C,X,He),Wk(Se,he,He),Hk(C,He,X,X==="height"?u5:o5),ke(C),He!=0}function ke(Se){oe.attr("y",0),ze.attr("y",0).attr("x",Se.attr("width")-e),de.attr("y",Se.attr("height")-e).attr("x",Se.attr("width")-e),$.attr("y",Se.attr("height")-e).attr("x",0)}function Le(Se,He,X){!!a[Se]&&a[Se]<M[Se]&&(v.style[Se]=`${a[Se]}px`,ce(X,M[Se]-a[Se],Se,He))}};l.on=(h,x)=>(i.push({event:h,execute:x}),l),l.zIndex=h=>(t=h,l),l.settings=(...h)=>h.length?(n=h[0],l):n,l.minWidth=h=>(r.width=h,a.width&&(a.width=Math.max(r.width,a.width)),l),l.minHeight=h=>(r.height=h,a.height&&(a.height=Math.max(r.height,a.height)),l),l.handleWidth=h=>(e=h,l),l.maxWidth=h=>(a.width=h,r.width=Math.min(r.width,a.width),l),l.maxHeight=h=>(a.height=h,r.height=Math.min(r.height,a.height),l);function s(h,x,v,M){let C=(T,D,R,H)=>T<0&&H[D]<Number(R.attr(D)),A=(T,D,R,H)=>T>0&&H[D]>Number(R.attr(D));return C(h,x,v,M)||A(h,x,v,M)}function f(h,x,v,M){let C=M(Number(x.attr(v)),h);if(C<r[v]){let A=r[v]-C;return M(h,A)}if(!!a[v]&&C>a[v]){let A=a[v]-C;return M(h,A)}return h}return l}var Hk=(e,t,n,r)=>{e.selectAll(`.${r}`).each((i,o,l)=>{let s=l[o];Re(s).attr(n,s.getBoundingClientRect()[n]-t)})},Yk=e=>e.select(`#${c5}`).size()>0,Wk=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),$k=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n);var f5=16,d5=20,pg=(e,t)=>{let n=e||Us(),r=[],a=1,i,o=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=()=>{},s=i5().settings(t),f,h=k=>{r=n.scale().domain(),f=s5().settings(t).maxHeight(r.length*f5+d5).on("resize",()=>x(k)),f(k),s(k),x(k)},x=k=>{T(k),v(k),M(k),a5(k)},v=k=>{let z=R(k);z.style("display",a<=1?"none":"block"),z.select("#page-text").text(`${o+1}/${a}`),z.select("#up-arrow").attr("class",o===0?"disabled":"").on("click",()=>{o>0&&(C(o-1),x(k))}),z.select("#down-arrow").attr("class",o>=a-1?"disabled":"").on("click",()=>{o<a-1&&(C(o+1),x(k))})},M=k=>{a>1&&n.cellFilter(A()),k.select("g.legendCells").remove();let z=H(k);z.call(n);let I=k.select("g.legendCells").node().getBBox();z.attr("height",I.height+d5),l(k)},C=k=>{o=k,t.legend={...t.legend,pageIndex:o}},A=()=>(k,z)=>z>=i*o&&z<i*o+i,T=k=>{let z=k.node().getBoundingClientRect(),I=Math.floor(z.height/f5)-1;i=I<r.length?I-1:I,a=D(I),o=Math.min(o,a-1)},D=k=>Math.ceil(r.length/k),R=k=>Ht(k,".legend-controls",()=>k.append("g").attr("class","legend-controls").html(r5)),H=k=>Ht(k,".legend",()=>k.append("svg").attr("class","legend"));return h.decorate=(...k)=>k.length?(l=k[0],h):l,(0,m5.rebindAll)(h,n),h};var h5=e=>pg(Us().shape("circle").shapeRadius(6),e),Uk=e=>pg(t5().shapePadding(1).labelOffset(3),e),Sn=()=>gg(h5),gl=()=>gg(Uk,g5),p5=()=>gg(h5,g5);function g5(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>Eu().type(r)());return gr().domain(t).range(n)}function gg(e,t=void 0){let n={},r=null,a=null,i=o=>{if(r&&r.range().length>1){let l=e(n);l.scale(r).orient("vertical").on("cellclick",function(f){let h=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(h)?n.hideKeys=n.hideKeys.filter(x=>x!==h):n.hideKeys.push(h),Io(this)._draw()}),l.labels(f=>{let h=String(f.domain[f.i]).split("|");return n.mainValues.length<=1&&h.length>1?h.slice(0,h.length-1).join("|"):f.domain[f.i]});let s=Ht(o,"div.legend-container",()=>o.append("div"));l.decorate(f=>{let h=v=>n.hideKeys&&n.hideKeys.includes(v),x=f.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");x.classed("hidden",h),x.append("title").html(v=>v),a&&x.select("circle, path").style("fill",v=>h(v)?null:a(v)).style("stroke",v=>h(v)?null:Hr(a(v)))}),s.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(l)}};return i.settings=(...o)=>o.length===0?n:(n=o[0],i),i.scale=(...o)=>o.length?(r=t?t(o[0]):o[0],i):r,i.color=(...o)=>o.length?(a=o[0],i):a,i}function rr(e,t=void 0){let n=t||e.data;return(e.hideKeys?.length??0)>0?n.map(a=>{let i={...a};return e.hideKeys.forEach(o=>{delete i[o]}),i}):n}function Yo(e){let t=e.data,n=e.hideKeys?.length??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((i,o)=>i&&!e.hideKeys.includes(o),!0)):t.map(a=>{let i=Object.entries(a).filter(([o,l])=>!e.hideKeys.includes(Ba(o)));return Object.fromEntries(i)}):t}var Wa=pt(_t()),qk=e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"),Gk=e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1},Xk=e=>e.style("display","none"),jk=e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"},Zt=(e,t)=>{let n="both",r=!1,a=null,i=null,o=null,l=Wa.seriesSvgMulti(),s=Wa.annotationSvgGridline(),f=qk(t),h=Xk,x=function(...v){r&&(l=Wa.seriesCanvasMulti().context(o),s=Wa.annotationCanvasGridline(),f=Gk(t),h=jk(t));let M=l.xScale(a).yScale(i),C=n==="vertical"?h:f,A=n==="horizontal"?h:f,T=s.xDecorate(C).yDecorate(A);return M.series([T,e])(...v)};return x.orient=(...v)=>v.length?(n=v[0],x):n,x.canvas=(...v)=>v.length?(r=v[0],x):r,x.xScale=(...v)=>v.length?(a=v[0],x):a,x.yScale=(...v)=>v.length?(i=v[0],x):i,x.context=(...v)=>v.length?(o=v[0],x):o,x};var v5=pt(_t()),Mn=()=>{let e=Ns(),t=n=>{let r=e.pad(),a=e.padUnit(),i=1;switch(a){case"domain":break;case"percent":{i=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+a)}let o=n[0]-r[0]*i,l=n[1]+r[1]*i;return n[0]=n[0]>=0&&o<0?0:o,n[1]=n[1]<=0&&l>0?0:l,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},v5.rebindAll(t,e),t};var y5=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var Kt=()=>{let e=null,t=null,n=null,r=null,a=null,i=null,o=!1,l=!1,s=()=>{};function f(M){let C=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||a){let A=r&&r.domain()[0]instanceof Date,T=xs().on("zoom",R=>{let{transform:H}=R;t.zoom={k:H.k,x:H.x,y:H.y},h(H),M.call(e);let k=H.k===1&&H.x===0&&H.y===0,z=x(M).style("display",k?"none":"");z.select("#zoom-reset").on("click",()=>M.select(C).call(T.transform,Ir));let I=z.select("#one-year").style("display",A?"":"none"),j=z.select("#six-months").style("display",A?"":"none"),Z=z.select("#one-month").style("display",A?"":"none");if(A){let be=pe=>()=>{let oe=new Date(n.domain()[0]),ze=new Date(oe);pe(oe,ze);let de=r.range(),$=(de[1]-de[0])/(r(ze)-r(oe)),we=-r(oe)*$,te=0;if(a){let ae=a.domain().reduce((ge,ye)=>ge+ye)/2;te=-i(ae)*$+a(ae)}M.select(C).call(T.transform,Ir.translate(we,te).scale($))};I.on("click",be((pe,oe)=>oe.setYear(pe.getFullYear()+1))),j.on("click",be((pe,oe)=>oe.setMonth(pe.getMonth()+6))),Z.on("click",be((pe,oe)=>oe.setMonth(pe.getMonth()+1)))}}),D=e.decorate();e.decorate((R,H)=>{if(D(R,H),!o){o=!0;let k=R.select(C),z=l?window.devicePixelRatio:1;k.on("measure.zoom-range",I=>{if(r&&r.range([0,I.detail.width/z]),i&&i.range([0,I.detail.height/z]),t.zoom){let j=Ir.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);k.call(T.transform,j)}}).call(T)}})}M.call(e)}f.chart=(...M)=>M.length?(e=M[0],f):e,f.settings=(...M)=>M.length?(t=M[0],f):t,f.xScale=(...M)=>M.length?(n=v(M[0]),r=n?n.copy():null,f):n,f.yScale=(...M)=>{if(!M.length)return a;if(a=v(M[0]),i=a?a.copy():null,i){let C=i.domain();i.domain([C[1],C[0]])}return f},f.canvas=(...M)=>M.length?(l=M[0],f):l,f.onChange=(...M)=>M.length?(s=M[0],f):s;let h=M=>{let C={...M};if(n&&(n.domain(M.rescaleX(r).domain()),C.xDomain=n.domain()),a){let A=M.rescaleY(i).domain();a.domain([A[1],A[0]]),C.yDomain=a.domain()}s(C)},x=M=>Ht(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html(y5)),v=M=>M&&M.nice?M:null;return f};function x5(e,t){let n=Bs(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=Rs(t,r).orient("horizontal"),o=b5.seriesSvgMulti().mapping((x,v)=>x[v]).series(n.map(()=>i)),l=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(Nt.ordinal).include([0]).paddingStrategy(Mn())(n),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),f=tr(l,s).plotArea(Zt(o,t).orient("horizontal"));f.yPaddingInner&&(f.yPaddingInner(.5),f.yPaddingOuter(.25),i.align("left")),f.xNice&&f.xNice();let h=Kt().chart(f).settings(t).yScale(s.scale);e.datum(n).call(h),e.call(a)}x5.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var w5=x5;var k5=pt(_t());var T5=(e,t)=>{if(!_5(e)||!_5(t))return;let n=S5(e),r=S5(t);n>r?t[0]=M5(t,n):e[0]=M5(e,r)},_5=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],S5=e=>(0-e[0])/(e[1]-e[0]),M5=(e,t)=>t*e[1]/(t-1);var C5=pt(_t());var A5=e=>{let t=[],n=!1,r,a=o=>{o.text("");let l=C5.dataJoin("span","splitter-label").key(h=>h),s=!n&&t.length===1,f=r&&e.splitValues.length===0;l(o,t).classed("disabled",s).text(h=>h.name).style("color",h=>f?Hr(r(h.name)):void 0).on("click",(h,x)=>{s||(n?e.splitMainValues=e.splitMainValues.filter(v=>v!=x.name):e.splitMainValues=[x.name].concat(e.splitMainValues||[]),h.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),i(o))})},i=o=>{let l=Io(o.node());l._container.innerHTML="",l._draw()};return a.labels=(...o)=>o.length?(t=o[0],a):t,a.alt=(...o)=>o.length?(n=o[0],a):n,a.color=(...o)=>o.length?(r=o[0],a):r,a};var $a=(e,t,n=Zk)=>{let r,a,i,o=e.splitMainValues||[],l=h=>{let x=h.split("|");return o.includes(x[x.length-1])},s=e.mainValues.some(h=>l(h.name));a=s?n(t,h=>!l(h)):t,i=s?n(t,l):null;let f=h=>{if(e.mainValues.length===1)return;let x=e.mainValues.map((A,T)=>({index:T,name:A.name})),v=x.filter(A=>!l(A.name)),M=x.filter(A=>l(A.name)),C=()=>A5(e).color(r);h.select(".y-label.left-label").call(C().labels(v)),h.select(".y-label.right-label").call(C().labels(M).alt(!0))};return f.color=(...h)=>h.length?(r=h[0],f):r,f.haveSplit=()=>s,f.data=(...h)=>h.length?(a=h[0],f):a,f.altData=(...h)=>h.length?(i=h[0],f):i,f},Zk=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),vg=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),V5=(e,t)=>e.map(n=>vg(n,t));function D5(e,t){let n=Bs(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=Rs(t,r).orient("vertical"),o=k5.seriesSvgMulti().mapping((A,T)=>A[T]).series(n.map(()=>i)),l=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),s=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Nt.ordinal).orient("vertical").include([0]).paddingStrategy(Mn()),f=t.mainValues.length>1?V5:vg,h=$a(t,n,f).color(r),x=s(h.data()),v=h.haveSplit()?o:Zt(o,t).orient("vertical"),M=tr(l,x).axisSplitter(h).plotArea(v);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),i.align("left")),M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(l.scale);if(h.haveSplit()){let A=s(h.altData());T5(x.domain,A.domain),M.yDomain(x.domain).altAxis(A)}e.datum(h.data()).call(C),e.call(a)}D5.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var N5=D5;var L5=pt(_t());var E5=pt(_t());function Wo(e,t){let n=E5.seriesSvgLine(),r=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(i=>{i.style("stroke",o=>Hr(t(o[0]&&o[0].key))).style("stroke-width",a)}),n.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function P5(e,t){let n=nr(e);return t.map((r,a)=>Object.keys(r).filter(i=>i!=="__ROW_PATH__").map(i=>({key:i,crossValue:n(r,a),mainValue:r[i],row:r})))}var qs=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t};var Gs=pt(_t());var yg=(e,t,n=Math.min)=>{let r=o=>o.reduce((l,s)=>{let f=a(s);return f&&(!l||n(l.value,f.value)===f.value)?f:l},null),a=o=>{if(Array.isArray(o))return r(o);let l=t(o);return l!==null?{item:o,value:l}:null},i=r(e);return i?i.item:null};var Fn=()=>{let e=Fa().alwaysShow(!0),t=null,n=null,r=null,a=null,i=!1,o=null,l="crossValue",s="mainValue",f=null,h=1,x=C=>{let A=`d3fc-${i?"canvas":"svg"}.plot-area`;if(t||n){let T=null,D=Gs.pointer().on("point",R=>{let H=R.length?M(R[0]):null;T=H?[H.data]:[];let k=H?H.scale:n;v(C,T,k)});C.select(A).on("measure.nearbyTip",()=>v(C,[])).on("click",()=>{T.length&&cl(C.node(),T[0],e.settings())}).call(D)}},v=(C,A,T=n)=>{let D=C.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(A);D.exit().remove(),D.enter().append("circle").attr("class","nearbyTip").merge(D).attr("r",R=>a?h*Math.sqrt(a(R.size)):10).attr("transform",R=>`translate(${t(R[l])},${T(R[s])})`).style("stroke","none").style("fill",R=>r&&R.key&&Hi(r(R.key))),e(D)},M=C=>{let A=R=>H=>H[s]===void 0||H[s]===null||H[l]===void 0||H[l]===null?null:Math.sqrt(Math.pow(t(H[l])-C.x,2)+Math.pow(R(H[s])-C.y,2)),T=A(n),D=yg(o,T,Math.min);if(f){let R=A(f.yScale),H=yg(f.data,R,Math.min);return T(D)<=R(H)?{data:D,scale:n}:{data:H,scale:f.yScale}}return{data:D,scale:n}};return x.scaleFactor=(...C)=>C.length?(h=C[0],x):h,x.xScale=(...C)=>C.length?(t=C[0],x):t,x.yScale=(...C)=>C.length?(n=C[0],x):n,x.color=(...C)=>C.length?(r=C[0],x):r,x.size=(...C)=>C.length?(a=C[0]?C[0].copy().range([40,4e3]):null,x):a,x.canvas=(...C)=>C.length?(i=C[0],x):i,x.data=(...C)=>C.length?(o=C[0],x):o,x.xValueName=(...C)=>C.length?(l=C[0],x):l,x.yValueName=(...C)=>C.length?(s=C[0],x):s,x.altDataWithScale=(...C)=>C.length?(f=C[0],x):f,x.settings=(...C)=>C.length?(e.settings(C[0]),x):e.settings(),Gs.rebindAll(x,e),x};function O5(e,t){let n=P5(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=L5.seriesSvgRepeat().series(Wo(t,r)).orient("horizontal"),o=Mn().pad([.1,.1]).padUnit("percent"),l=$a(t,qs(n)).color(r),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(l.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(o),h=f(l.data()),x=l.haveSplit()?i:Zt(i,t).orient("vertical"),v=tr(s,h).axisSplitter(l).plotArea(x);v.yNice&&v.yNice();let M=Kt().chart(v).settings(t).xScale(s.scale),C=Fn().settings(t).xScale(s.scale).yScale(h.scale).color(r).data(n);if(l.haveSplit()){let T=f(l.altData());v.altAxis(T),C.data(l.data()).altDataWithScale({yScale:T.scale,data:l.altData()})}let A=l.data();e.datum(A).call(M),e.call(C),e.call(a)}O5.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var I5=O5;var Y5=pt(_t());var z5=pt(_t());var bg=Math.sqrt(3),Kk={draw:function(e,t){let n=Math.sqrt(t/(bg*3));e.moveTo(0,n*2),e.lineTo(-bg*n,-n),e.lineTo(bg*n,-n),e.closePath()}},Jk=[dr,wi,_i,Si,Mi,Ti,Ci],xg={circle:dr,square:Si,cross:wi,diamond:_i,star:Mi,triangle:Ti,wye:Ci,nabla:Kk};function vl(e){return e.length>1?gr().domain(e).range(Jk):null}var eD=8,tD=1;function R5(e,t,n,r,a,i,o=1){let l=(0,z5.seriesCanvasPoint)().crossValue(s=>s.x).mainValue(s=>s.y);return i&&l.type(s=>i(s.row[t])),n&&l.size(s=>Math.round(o*n(s.size))),l.decorate((s,f)=>{let h=r(f.colorValue),x=e.colorStyles?.opacity;if(a){let{type:v}=e.mainValues.find(C=>C.name===a),M=oa(v,f.row[a]);if(M!==null){s.fillStyle=e.textStyles.color,s.font=e.textStyles.font;let C=0;n&&(C=Math.sqrt(o*n(f.size)/Math.PI)*tD);let A=C+eD;s.fillText(M,A,4)}}s.strokeStyle=Hr(h),s.fillStyle=Hi(h,x)}),l}function F5(e,t){let n=[...new Set(Fs(e,t))];return vl(n)}function B5(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let a=Ba(r);n.includes(a)||n.push(a)}}),vl(n)}function H5(e,t){let n=e.mainValues.length;return t.map(r=>{let a=Object.keys(r).filter(o=>o!=="__ROW_PATH__"),i=new Array(a.length/n);for(let o=0;o<a.length/n;o++)i[o]={key:Ba(a[o*n]),crossValue:r[a[o*n]],mainValue:r[a[o*n+1]],row:r};return i})}function W5(e,t){let n=qs(H5(t,Yo(t))),r=i6(t),a=B5(t),i=null;r.domain().length>=2&&(i=p5().settings(t).scale(a).color(r));let o=Y5.seriesSvgRepeat().series(Wo(t,r)).orient("horizontal"),l=Mn().pad([.1,.1]).padUnit("percent"),s=Et(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(l),h=Et(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l)(n),x=s(n),v=Zt(o,t).orient("vertical"),M=tr(x,h).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(v);M.xNice&&M.xNice(),M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(x.scale).yScale(h.scale),A=Fn().settings(t).xScale(x.scale).yScale(h.scale).color(r).data(n);e.datum(n).call(C),e.call(A),i&&e.call(i)}W5.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var $5=W5;var yl=pt(_t());var U5=pt(_t());function q5(e,t){let n=U5.seriesSvgArea();return n=n.decorate(r=>{r.style("fill",a=>t(a[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function G5(e,t){let n=nr(e);return t.map((r,a)=>{let i={};return Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>{let l=o.split("|"),s=l[l.length-1],f=i[s]||0,h=f+r[o];return i[s]=h,{key:o,crossValue:n(r,a),mainValue:h,baseValue:f,row:r}})})}function X5(e,t){let n=G5(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=yl.seriesSvgRepeat().series(q5(t,r).orient("vertical")),o=yl.seriesSvgRepeat().series(Wo(t,r)).orient("vertical"),l=yl.seriesSvgMulti().series([i,o]),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Nt.ordinal).orient("vertical").include([0]).paddingStrategy(Mn()),h=$a(t,n).color(r),x=f(h.data()),v=h.haveSplit()?l:Zt(l,t).orient("vertical"),M=tr(s,x).axisSplitter(h).plotArea(v);M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(s.scale),A=Fn().settings(t).xScale(s.scale).yScale(x.scale).color(r).data(n);if(h.haveSplit()){let T=f(h.altData());M.altAxis(T),A.data(h.data()).altDataWithScale({yScale:T.scale,data:h.altData()})}e.datum(h.data()).call(C),e.call(A),e.call(a)}X5.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var j5=X5;var J5=pt(_t());var Q5=pt(_t());function Z5(e,t,n,r){let a=Q5.seriesSvgPoint().size(100),i=e.colorStyles&&e.colorStyles.opacity;return r&&a.type(r(t)),a.decorate(o=>{o.style("stroke",l=>Hr(n(l.colorValue||t))).style("fill",l=>Hi(n(l.colorValue||t),i))}),a.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function K5(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return vl(n)}function e4(e,t){let n=u6(t,rr(t)),r=K5(t),a=Br(t),i=gl().settings(t).scale(r).color(a),o=J5.seriesSvgMulti().mapping((T,D)=>T[D]).series(n.map(T=>Z5(t,T.key,a,r))),l=Mn().pad([.05,.05]).padUnit("percent"),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l),h=$a(t,n).color(a),x=f(h.data()),v=h.haveSplit()?o:Zt(o,t).orient("vertical"),M=tr(s,x).axisSplitter(h).plotArea(v);M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(s.scale),A=Fn().settings(t).xScale(s.scale).yScale(x.scale).color(a).data(n);if(h.haveSplit()){let T=f(h.altData());M.altAxis(T),A.data(h.data()).altDataWithScale({yScale:T.scale,data:h.altData()})}e.datum(h.data()).call(C),e.call(A),i&&e.call(i)}e4.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var t4=e4;function n4(e,t){return Wi(e,t,{excludeEmpty:!0}).map(n=>nD(e,n))}function nD(e,t){let n=nr(e),r=t.map((a,i)=>({crossValue:n(a,i),mainValues:e.mainValues.map(o=>a[o.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return r.key=t.key,r}function r4(e,t,n,r){return ia().domain(a4(t,n,r))}function Ua(e,t,n,r=null){let a=a4(t,n,r),i=e.colorStyles.gradient.full;if(a[0]>=0)i=e.colorStyles.gradient.positive;else if(a[1]<=0)i=e.colorStyles.gradient.negative;else{let l=Math.max(-a[0],a[1]);a=[-l,l]}let o=rD(i);return ll(o).domain(a)}var a4=(e,t,n)=>n||Qp().valueName(t).pad([0,0])(e),rD=e=>{let t=e.slice(1).map((n,r)=>jt(e[r][1],n[1]));return n=>{let r=e.findIndex((l,s)=>s<e.length-1&&n<=e[s+1][0]&&n>l[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[r],[i]=e[r],[o]=e[r+1];return a((n-i)/(o-i))}};var qa=pt(_t());function Ga(){let e=null;function t(n){let r=Ht(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:i}=r.node().getBoundingClientRect(),o=ra().domain([0,1]).range([0,a]),l=e.copy().nice().domain(),s=qa.extentLinear().pad([.1,.1]).padUnit("percent")(l),[f,h]=s,x=ii(f,h,(h-f)/i),v=ia().domain(s).range([i,0]),M=qa.autoBandwidth(qa.seriesSvgBar()).xScale(o).yScale(v).crossValue(0).baseValue((z,I)=>x[Math.max(0,I-1)]).mainValue(z=>z).decorate(z=>{z.selectAll("path").style("fill",I=>e(I))}),C=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),A=[...l,C],T=Es(f,h),D=qa.axisRight(v).tickValues(A).tickSizeOuter(0).tickFormat(z=>T(z)),R=Ht(r,"svg",()=>r.append("svg")).style("width",a).style("height",i),H=Ht(R,"g",()=>R.append("g")).datum(x).call(M),k=Math.abs(H.node().getBBox().x);Ht(R,"#legend-axis",()=>R.append("g").attr("id","legend-axis")).attr("transform",`translate(${k})`).datum(x).call(D).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function $o(){let e="element-prefix-unset",t=null,n=null,r=null,a=null,i=null,o=null,l=!0,s=null,f=h=>{let x=Ht(h,"div.outer-container",()=>h.append("div").attr("class","outer-container").style("width",`calc(100% - ${s??0})`).style("height",`calc(100% - ${s??0})`).style("padding-left",s??0)),v=Ht(x,"div.inner-container",()=>x.append("div").attr("class","inner-container")),M=x.node().getBoundingClientRect(),C=M.height,A=M.width-(i?70:0),T=300,D=h.datum(),R=Math.max(1,Math.min(D.length,Math.floor(A/T))),H=Math.ceil(D.length/R);o={width:A/Math.max(R,1),height:Math.min(C,Math.max(C/H,A/Math.max(R,1)))},C/H>o.height*.75&&(o.height=C/H),D.length>1?(v.style("grid-template-columns",`repeat(${R}, ${100/R}%)`),v.style("grid-template-rows",`repeat(${H}, ${o.height}px)`)):(v.style("grid-template-columns","repeat(1, 100%)"),v.style("grid-template-rows","repeat(1, 100%)")),r=v.selectAll(`div.${e}-container`).data(D,k=>k.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),l?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return f.padding=(...h)=>h.length?(s=h[0],f):s,f.svg=(...h)=>h.length?(l=h[0],f):l,f.elementsPrefix=(...h)=>h.length?(e=h[0],f):e,f.chartContainer=()=>t,f.chartEnter=()=>n,f.chartDiv=()=>r,f.chartTitle=()=>a,f.containerSize=()=>o,f}var i4=pt(_t());function aD([e,t],[n,r]){let a=(r-t)/(n-e),i=r-a*n;return function(o){let l=o.node(),s=Math.min(l.clientWidth,l.clientHeight);return Math.min(r,Math.max(t,a*s+i))}}function Xs(){let e=null,t=null,n=null,r=null,a=i=>{let l=!!e.realValues[2],s=e.realValues[4],f=e.realValues[3]?r4(e,t,"size").range([10,1e4]):null,h=e.realValues[5],x=aD([600,.1],[1600,1])(i),v=i4.seriesCanvasMulti().mapping((z,I)=>z[I]).series(t.map(()=>R5(e,s,f,n,h,r,x))),M=()=>Et(e).settingName("mainValues").paddingStrategy(Mn()).pad([.1,.1]),C=M().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),A=M().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[T,D]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],R=Ro(C,A).xLabel(T).yLabel(D).plotArea(Zt(v,e).canvas(!0));R.xNice&&R.xNice(),R.yNice&&R.yNice();let H=Kt().chart(R).settings(e).xScale(C.scale).yScale(A.scale).canvas(!0),k=Fn().scaleFactor(x).settings(e).canvas(!0).xScale(C.scale).xValueName("x").yValueName("y").yScale(A.scale).color(!l&&n).size(f).data(t);i.datum(t).call(H),i.call(k)};return a.settings=(...i)=>i.length?(e=i[0],a):e,a.data=(...i)=>i.length?(t=i[0],a):t,a.color=(...i)=>i.length?(n=i[0],a):n,a.symbols=(...i)=>i.length?(r=i[0],a):r,a}function iD(e,t){if(!t)return;let n=e.realValues[4],r=e.mainValues.find(s=>s.name===n)?.type,a=t.domain(),i=t.range(),o=i.length;for(let[s,f]of a.entries())i[s]=i[s%o];let l=e.columns_config?.[n]?.symbols??{};return Object.entries(l).forEach(([s,f])=>{let h=xg[f]??dr,x=a.findIndex(v=>{switch(r){case"date":case"datetime":return new Date(v).valueOf()===new Date(s).valueOf();default:return String(v)===String(s)}});i[x]=h}),t.range(i),t}function js(e,t){let n=t.realValues[2],r=!!n,a=t.mainValues.find(x=>x.name===n)?.type==="string",i=null,o=null,l=t.realValues[4],s=F5(t,l),f=iD(t,s),h=n4(t,Yo(t));if(r&&a?l?(t.splitValues.length>0?i=Bi(t,h):i=Bi(t,h[0]),o=gl().settings(t).scale(f)):(i=a6(t,n),o=Sn().settings(t).scale(i)):r?(i=Ua(t,h,"colorValue"),o=Ga().scale(i)):(i=vr().settings(t).domain([""])(),o=gl().settings(t).scale(f)),t.splitValues.length!==0){let x=$o().svg(!1).elementsPrefix("xy-scatter");x=x.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(h),e.call(x);let C=x.chartContainer(),A=x.chartEnter(),T=x.chartDiv(),D=x.chartTitle(),R=x.containerSize();D.each((H,k,z)=>Re(z[k]).text(H.key)),A.merge(T).attr("transform",`translate(${R.width/2}, ${R.height/2})`).each(function(H){let k=Re(this);Xs().settings(t).data([H]).color(i).symbols(f)(k)})}else Xs().settings(t).data(h).color(i).symbols(f)(e);o&&e.call(o)}js.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};js.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";js.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(xg)}}:null;var o4=js;var Qs=pt(_t());function u4(e,t){let n=Qs.seriesCanvasHeatmap();return n.decorate((r,a)=>{r.fillStyle=t(a.colorValue)}),Qs.autoBandwidth(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function l4(e,t){let n=nr(e),r=Eo(e).excludeType(Nt.linear).settingName("splitValues")(),a=[];return t.forEach((i,o)=>{let l=n(i,o);Object.keys(i).filter(s=>s!=="__ROW_PATH__").forEach(s=>{let f=oD(s);a.push({crossValue:l,mainValue:r===Nt.time?new Date(f):f,colorValue:i[s],row:i})})}),a}function oD(e){let t=e.split("|");return t.pop(),t.join("|")}function c4(e,t){let n=l4(t,rr(t)),r=Ua(t,n,"colorValue"),a=u4(t,r),i=Ga().scale(r),o=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),l=Et(t).excludeType(Nt.linear).settingName("splitValues").valueName("mainValue").modifyDomain(x=>!isNaN(x[0])?x.reverse():x).orient("vertical")(n),s=Ro(o,l).plotArea(Zt(a,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),a.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),a.yAlign("top"));let f=Kt().chart(s).settings(t).xScale(o.scale).yScale(l.scale).canvas(!0),h=Fn().settings(t).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(f),e.call(i),e.call(h)}c4.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var s4=c4;var m4=pt(_t());var Zs=pt(_t());function f4(e,t){return Wi(e,t,{excludeEmpty:!0}).map(n=>uD(e,n))}function uD(e,t){let n=nr(e),r=i=>t[i<t.length-1?i+1:i][e.realValues[0]],a=t.map((i,o)=>{let l=e.realValues[0]?i[e.realValues[0]]:void 0,s=e.realValues[1]?i[e.realValues[1]]:r(o);return{crossValue:n(i,o),mainValues:e.mainValues.map(f=>i[f.name]),openValue:l,closeValue:s,highValue:e.realValues[2]?i[e.realValues[2]]:Math.max(l,s),lowValue:e.realValues[3]?i[e.realValues[3]]:Math.min(l,s),key:t.key,row:i}});return a.key=t.key,a}var Uo=pt(_t());var lD=e=>e.closeValue>=e.openValue;function d4(e,t,n){let r=n.domain(),a=vr().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Yi(.5))(),i=vr().settings(e).domain(r)(),o=t().crossValue(f=>f.crossValue).openValue(f=>f.openValue).highValue(f=>f.highValue).lowValue(f=>f.lowValue).closeValue(f=>f.closeValue).decorate((f,h)=>{let x=lD(h)?n(h.key):a(h.key);f.fillStyle=x,f.strokeStyle=x}),l=Uo.seriesCanvasLine().mainValue(f=>f.bollinger.average).crossValue(f=>f.crossValue).decorate((f,h)=>{f.strokeStyle=i(h[0].key)}),s=Uo.seriesCanvasArea().mainValue(f=>f.bollinger.upper).baseValue(f=>f.bollinger.lower).crossValue(f=>f.crossValue).decorate((f,h)=>{f.fillStyle=Yi(.25)(i(h[0].key))});return Uo.seriesCanvasMulti().series([s,o,l])}function cD(e){return function(t,n){let r=f4(n,Yo(n)),a=Zs.indicatorBollingerBands().value(D=>D.openValue),i=r.map(D=>{let R=a(D);return D.map((H,k)=>Object.assign({bollinger:R[k]},H))}),o=r.map(D=>D.key).concat(n.hideKeys?n.hideKeys:[]).sort(),l=vr().domain(o).settings(n).mapFunction(Yi(1))(),s=Sn().settings(n).scale(o.length>1?l:null),f=d4(n,e,l),h=Zs.seriesCanvasMulti().mapping((D,R)=>D[R]).series(i.map(()=>f)),x=Mn().pad([.1,.1]).padUnit("percent"),v=Et(n).settingName("crossValues").valueName("crossValue")(i),M=Et(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(x)(i),C=Ro(v,M).plotArea(Zt(h,n).orient("vertical").canvas(!0));C.yNice&&C.yNice();let A=Kt().chart(C).settings(n).xScale(v.scale).onChange(D=>{let R=i.map(H=>H.filter(k=>k.crossValue>=D.xDomain[0]&&k.crossValue<=D.xDomain[1]));C.yDomain(M.domainFunction(R))}).canvas(!0),T=Fn().settings(n).xScale(v.scale).yScale(M.scale).yValueName("closeValue").color(l).data(i).canvas(!0);t.datum(i).call(A),t.call(T),t.call(s)}}var Ks=cD;var h4=Ks(m4.seriesCanvasOhlc);h4.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var p4=h4;var g4=pt(_t());var v4=Ks(g4.seriesCanvasCandlestick);v4.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var y4=v4;function b4(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let n=e.realValues[1];if(e.mainValues.find(r=>r.name===n)?.type==="string"){let r=t.map(a=>a.data).filter(a=>a.height>0).map(a=>x4(a)).reduce((a,i)=>a.concat(i));return Bi(e,r)}else return Ua(e,null,null,B8(t.map(r=>r.extents)))}}function x4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(x4(n,t))):e.data.color&&t.push(e.data.color),t}function Js(e){let t={},n=e.realValues.map(a=>a===null?null:e.mainValues.find(i=>i.name===a));return e.data.forEach((a,i)=>{let o=Array.isArray(a.__ROW_PATH__)?a.__ROW_PATH__:[];fD(a).forEach(s=>{let f;t[s]||(t[s]=[]),f=t[s],o.forEach((h,x)=>{let v=f.find(M=>M.name===h);if(v||(v={name:h,children:[]},f.push(v)),e.realValues.length>1&&e.realValues[1]!==null){let M=x===o.length-1,C=qo(M?a:e.agg_paths[i][x+1]||a,e.mainValues[1],s);C!==void 0&&(v.color=C)}if(e.realValues.length>2&&e.realValues[2]!==null){v.tooltip=[];for(let M=2;M<e.realValues.length;++M)v.tooltip.push(qo(a,n[M],s))}if(x===o.length-1){if(v.name=o.slice(-1)[0],e.crossValues.length===0)v.size=qo(a,e.mainValues[0],"");else if(o.length===e.crossValues.length){let M=qo(a,e.mainValues[0],s);v.size=M>0?M:0}}f=v.children})})}),Object.entries(t).map(a=>{let i={name:"root",children:a[1]},o=Pa(i).sum(s=>s.size),l=Pp().size([2*Math.PI,o.height+1])(o);return l.each(s=>{s.current=s,s.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?s.value:[s.value,s.data.color].concat(s.data.tooltip||[]).filter(f=>f!==void 0),s.crossValue=s.ancestors().slice(0,-1).reverse().map(f=>f.data.name),s.key=a[0],s.label=oa(e.crossValues[s.depth-1<0?0:s.depth-1]?.type||e.mainValues[0].type,s.data.name)}),{split:a[0],data:l,extents:sD(e,a)}})}var qo=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function sD(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(i=>qo(i,e.mainValues[1],t))),a=Math.max(...n.map(i=>i.color));return[r,a]}}function fD(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var ef=e=>yc().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),la=e=>e.y0>=1&&e.x1>e.x0;var bl=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function tf(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function w4(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,a=Re(this);for(;n>t;)r=r.substring(0,r.length-1),a.text(()=>r),n=this.getBBox().width;a.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var _4=(e,t,n,r,a,i,o,l,s)=>(f,h)=>{s.sunburstLevel[l]=f.data.name,f.parent?(n.datum(f.parent),n.style("cursor","pointer"),r.html(`&#8682; ${f.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(v=>v.target={x0:Math.max(0,Math.min(1,(v.x0-f.x0)/(f.x1-f.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(v.x1-f.x0)/(f.x1-f.x0)))*2*Math.PI,y0:Math.max(0,v.y0-f.depth),y1:Math.max(0,v.y1-f.depth)});let x=t.transition().duration(h?0:750);a.transition(x).tween("data",v=>{let M=jt(v.current,v.target);return C=>v.current=M(C)}).filter(function(v){return+this.getAttribute("fill-opacity")||la(v.target)}).attr("fill-opacity",v=>la(v.target)?1:0).attr("user-select",v=>la(v.target)?"initial":"none").style("pointer-events",v=>la(v.target)?"initial":"none").attrTween("d",v=>()=>ef(o)(v.current)),i.filter(function(v){return+this.getAttribute("fill-opacity")||bl(v.target)}).transition(x).attr("fill-opacity",v=>+bl(v.target)).attrTween("transform",v=>()=>tf(v.current,o))};function S4(){let e=null,t=null,n=null,r=null,a=null,i=o=>{let l=o.selectAll("g.segment").data(n.descendants().slice(1)),s=l.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let f=s.merge(l),h=f.select("path").attr("fill-opacity",A=>la(A.current)?1:0).attr("user-select",A=>la(A.current)?"initial":"none").style("pointer-events",A=>la(A.current)?"initial":"none").attr("d",A=>ef(a)(A.current));r&&h.style("fill",A=>r(A.data.color));let x=f.select("text").attr("fill-opacity",A=>+bl(A.current)).attr("transform",A=>tf(A.current,a)).text(A=>A.label).each(function(A){w4.call(this,A,a)}),v=o.select("text.parent"),M=o.select("circle").attr("r",a).datum(n),C=_4(n,o,M,v,h,x,a,t,e);if(e.sunburstLevel){let A=n.descendants().find(T=>T.data.name===e.sunburstLevel[t]);A&&C(A,!0)}else e.sunburstLevel={};M.on("click",A=>C(A,!1)),h.filter(A=>A.children).style("cursor","pointer").on("click",A=>C(A,!1))};return i.settings=(...o)=>o.length?(e=o[0],i):e,i.split=(...o)=>o.length?(t=o[0],i):t,i.data=(...o)=>o.length?(n=o[0],i):n,i.color=(...o)=>o.length?(r=o[0],i):r,i.radius=(...o)=>o.length?(a=o[0],i):a,i}function M4(e,t){let n=Js(t),r=b4(t,n),a=$o().elementsPrefix("sunburst");if(e.datum(n).call(a),r){let h=t.realValues[1];if(t.mainValues.find(x=>x.name===h)?.type==="string"){let x=Sn().settings(t).scale(r);e.call(x)}else{let x=Ga().scale(r);e.call(x)}}let i=a.chartContainer(),o=a.chartEnter(),l=a.chartDiv(),s=a.chartTitle(),f=a.containerSize();s.each((h,x,v)=>Re(v[x]).text(h.split)),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${f.width/2}, ${f.height/2})`).each(function({split:h,data:x}){let v=Re(this),M=this.parentNode,{width:C,height:A}=M.getBoundingClientRect(),T=(Math.min(C,A)-24)/Math.max(2,t.crossValues.length*2);S4().settings(t).split(h).data(x).color(r).radius(T)(v),Fa().settings(t)(v.selectAll("g.segment"))})}M4.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var T4=M4;function C4(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>A4(a)).reduce((a,i)=>a.concat(i));if(e.mainValues.find(a=>a.name===n)?.type==="string")return Bi(e,r);{let a=Math.min(...r),i=Math.max(...r);return Ua(e,null,null,[a,i])}}function A4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(A4(n,t))):e.data.color&&t.push(e.data.color),t}var V4=7,nf=e=>!!(e.target&&e.target.textAttributes),rf=(e,t,n)=>{e.selectAll("text").each(function(a,i){let o=pD(a,t,n);this.style=o});let r=wl(e);dD(r),wg(r)},k4=e=>{e.each((t,n,r)=>{Re(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},wg=e=>{let r=i=>i.getBoundingClientRect(),a=[];e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===Ui.high).each((i,o,l)=>a.push(l[o])),e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===Ui.low).each((i,o,l)=>{let s=l[o];a.filter(f=>rg("x",r(f),r(s))&&rg("y",r(f),r(s),-2)).forEach(()=>Re(s).attr("dy",Number(Re(s).attr("dy"))+14))})},D4=e=>Re(e).style("opacity",xl[Re(e).attr("class")]),N4=e=>Re(e).style("opacity",null),xl={top:1,mid:.7,lower:0},wl=e=>e.filter((t,n,r)=>Re(r[n]).selectAll("text").attr("style")!==Ui.zero),af=e=>e.selectAll("text").each((t,n,r)=>mD(r[n])),dD=e=>e.selectAll("text").each((t,n,r)=>E4(r[n])),E4=e=>{let t=Re(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},mD=e=>{let n=e.parentNode.childNodes[0],r=e.getBBox(),a=n.getBBox();hD(e,a,r)||Re(e).attr("style",Re(e).attr("style"))},hD=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let a=parseInt(Re(e).style("font-size")),i=Math.floor(a*r);return a>V4&&i>V4?(Re(e).style("font-size",`${i}px`),E4(e)):(Re(e).style("font-size",null),Re(e).style("opacity","0")),!0}return!1},pD=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return Ui.zero;switch(e.depth){case t+1:return Ui.high;case t+2:return Ui.low;default:return Ui.zero}},Ui={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var of=(e,t)=>{let n=Lp().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(Op),n};var gD=(e,t)=>t.every(n=>e.crossValue.includes(n));function _g(e,t,n,r,a,i){vD(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,yD(e,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),L4(n,r)}function P4(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:qi(n)+n.x0,y0:n.y0,y1:Gi(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,L4(e,0)}var uf=(e,t)=>{e.each((n,r,a)=>{let i=Re(a[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}})};function vD(e,t,n,r,a){let i={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},l={width:o.width/i.width,height:o.height/i.height};n.each(s=>{let f=(s.x0-i.x)*l.width,h=(s.y0-i.y)*l.height,x=qi(s)*l.width,v=Gi(s)*l.height,M=gD(s,t)&&s.data.name!==t[r-1];s.mapLevel[r]={x0:f,x1:x+f,y0:h,y1:v+h,visible:M,opacity:M?1:0}}),e.mapLevel[r].levelRoot=!0}function yD(e,t,n,r){let o=of(t,n)(Pa(e.data).sum(s=>s.size)).descendants(),l=e.descendants();o.forEach((s,f)=>{l[f].mapLevel[r].x0=o[f].x0,l[f].mapLevel[r].x1=o[f].x1,l[f].mapLevel[r].y0=o[f].y0,l[f].mapLevel[r].y1=o[f].y1})}function L4(e,t){e.selectAll("text").each((n,r,a)=>{let i=Re(a[r]),o=Re(a[r]).datum(),l=i.attr("class");o.mapLevel[t].textLockedAt={opacity:xl[l]}})}function O4(e,t,n,r,a,i,o,l,s){if(r.treemapLevel>0){let f=o.crossValue;Mg(o,e,t,n,r,a,i,o,0,f,l,s,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(h=>{let x=t.filter(M=>M.crossValue===h).datum(),v=x.crossValue;_g(x,v,t,x.depth,o,a),Mg(x,e,t,n,r,a,i,o,x.depth,v,l,s,1,!1)})}}function Tg(e,t,n,r,a,i,o,l,s,f){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let h=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&_g(e,h,n,a.treemapLevel,l,i),Mg(e,t,n,r,a,i,o,l,a.treemapLevel,h,s,f)}function Mg(e,t,n,r,a,i,o,l,s,f,h,x,v=500,M=!0){let C=e.parent,A=o.transition("main transition").duration(v).ease(fs);n.each(D=>D.target=D.mapLevel[s]),nf(e)||_D(n,h),n.transition(A).tween("data",D=>{let R=jt(D.current,D.target);return H=>D.current=R(H)}).styleTween("opacity",D=>()=>D.current.opacity).attrTween("pointer-events",D=>()=>D.target.visible?"all":"none"),t.transition(A).filter(D=>D.target.visible).styleTween("x",D=>()=>`${D.current.x0}px`).styleTween("y",D=>()=>`${D.current.y0}px`).styleTween("width",D=>()=>`${D.current.x1-D.current.x0}px`).styleTween("height",D=>()=>`${D.current.y1-D.current.y0}px`),r.transition(A).filter(D=>D.target.visible).attrTween("x",D=>()=>D.current.x0+qi(D.current)/2).attrTween("y",D=>()=>D.current.y0+Gi(D.current)/2).end().catch(()=>Sg(n)).then(()=>{nf(e)||(wg(T),af(T),bD(r,o,v),M&&uf(n,s),Sg(n,h))}).catch(D=>{console.error("Exception completing promises after main transition",D),Sg(n,h)}),nf(e)?k4(n):(r.each((D,R,H)=>D4(H[R])),rf(n,s,f));let T=wl(n);C?h.hide(!1).text(e.label).onClick(()=>{Tg(C,t,n,r,a,i,o,l,h,x);let D=i.node().getRootNode().host.parentElement;cl(D,C,x)})():h.hide(!0)()}async function bD(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(fs);await e.transition(r).filter(a=>a.target.visible).tween("data",(a,i,o)=>{let l=o[i],s=jt(xD(a),wD(l));return f=>a.current.opacity=s(f)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,i,o)=>N4(o[i])))}var xD=e=>e.target.textLockedAt.opacity,wD=e=>xl[Re(e).attr("class")],_D=(e,t)=>{t.deactivate(!0),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events","none")})},Sg=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events",null)})};var I4=`<button id="goto-parent">Goto parent</button>
`;function z4(e){let t=null,n=null,r=!0,a=!1,i=Ht(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(I4)),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${n}`).on("click",()=>t())};return o.deactivate=(...l)=>{if(!l.length)return a;a=l[0];let s=i.select("#goto-parent");return a?s.style("pointer-events","none"):s.style("pointer-events",null),o},o.hide=(...l)=>l.length?(r=l[0],o):r,o.text=(...l)=>l.length?(n=l[0],o):n,o.onClick=(...l)=>l.length?(t=l[0],o):t,o}var lf={leaf:"leafnode",branch:"branchnode",root:"rootnode"},qi=e=>e.x1-e.x0,Gi=e=>e.y1-e.y0,MD=(e,t)=>t.depth===e,R4=(e,t)=>t.depth===0?lf.root:MD(e,t)?lf.leaf:lf.branch;function F4(){let e=null,t=null,n=null,r=null,a=null,i=null,o=l=>{i=z4(a),i();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),of(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let h=l.selectAll("g").data(n.descendants()),x=h.enter().append("g");x.append("rect"),x.append("text");let v=x.merge(h).sort((T,D)=>D.depth-T.depth),M=v.select("rect").attr("class",T=>`treerect ${R4(s,T)}`).style("x",T=>T.x0).style("y",T=>T.y0).style("width",T=>qi(T)).style("height",T=>Gi(T));M.style("fill",T=>R4(s,T)===lf.leaf?T.data.color?r(T.data.color):t.colorStyles.series:"transparent");let C=v.filter(T=>T.value!==0).select("text").attr("x",T=>T.x0+qi(T)/2).attr("y",T=>T.y0+Gi(T)/2).text(T=>T.label),A=M.filter(T=>T.crossValue.length===0).datum();P4(v,A),rf(v,0,[]),af(wl(v)),uf(v,0),e.treemapRoute.length===0&&e.treemapRoute.push(A.crossValue),M.filter(T=>T.children).on("click",(T,D)=>Tg(D,M,v,C,e,a,l,A,i,t)),O4(M,v,C,e,a,l,A,i,t)};return o.settings=(...l)=>l.length?(e=l[0],t=l[1],o):e,o.data=(...l)=>l.length?(n=l[0],o):n,o.color=(...l)=>l.length?(r=l[0],o):r,o.container=(...l)=>l.length?(a=l[0],o):a,o}function B4(e,t){t.treemaps||(t.treemaps={});let n=Js(t),r=C4(t,n.map(s=>s.data));r&&this._container.classList.add("has-legend");let a=$o().elementsPrefix("treemap");if(e.datum(n).call(a),r){let s=t.realValues[1];if(t.mainValues.find(f=>f.name===s)?.type==="string"){let f=Sn().settings(t).scale(r);e.call(f)}else{let f=Ga().scale(r);e.call(f)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each((s,f,h)=>Re(h[f]).text(s.split)),i.merge(o).select("svg").select("g.treemap").each(function({split:s,data:f}){let h=Re(this);t.treemaps[s]||(t.treemaps[s]={}),F4().settings(t.treemaps[s],t).data(f).container(Re(Re(this.parentNode).node().parentNode)).color(r)(h),Fa().settings(t).centered(!0)(h.selectAll("g"))})}B4.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var H4=B4;var TD=[w5,N5,I5,$5,j5,t4,o4,p4,y4,H4,T4,s4],Cg=TD;var W4=pt(Y4()),Vg=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=VD(e);n.series=r("--d3fc-local-series");for(let i=1;;i++){let o=`series-${i}`,l=r(`--d3fc-local-${o}`);if(!l)break;n[o]=l,n.scheme.push(l)}n.opacity=CD(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(i=>{let o=r(`--d3fc-local-${i}--gradient`);n.gradient[i]=kD(o,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),a=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:a}}},CD=e=>bn(e).opacity,AD=(e,t)=>{let n=bn(`#${e}`);return n.opacity=t,n+""},VD=e=>{let t=getComputedStyle(e);return n=>t?.getPropertyValue(n)},kD=(e,t)=>{let n=W4.parse(e)[0].colorStops;return n.map((r,a)=>[r.length?r.length.value/100:a/(n.length-1),AD(r.value,t)]).sort((r,a)=>r[0]-a[0])};var $4=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}';var U4={initial:{type:"number",count:1,names:[]},selectMode:"select"},ND=`${$4}${ED()}`,kg=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function ED(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function PD(e){await customElements.get("perspective-viewer").registerPlugin(e)}function q4(...e){let t=new Set(e.length>0?e:Cg.map(n=>n.plugin.name));Cg.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),a=`perspective-viewer-d3fc-${r}`;customElements.define(a,class extends HTMLElement{constructor(){super();this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${ND}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){return n.plugin.initial?.count||U4.initial.count}get config_column_names(){return n.plugin.initial?.names||U4.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(o){n.plugin.max_cells=o}get max_columns(){return n.plugin.max_columns||50}set max_columns(o){n.plugin.max_columns=o}can_render_column_styles(o,l){return n.can_render_column_styles?.call(this,o,l)}column_style_controls(o,l){return n.column_style_controls?.call(this,o,l)}async render(){var o=document.createElement("canvas"),l=this.shadowRoot.querySelector("#container");o.width=l.offsetWidth,o.height=l.offsetHeight;let s=o.getContext("2d");s.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",s.fillRect(0,0,o.width,o.height);let f=window.getComputedStyle(this).getPropertyValue("color"),h=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let C of h.reverse()){var x=document.createElement("img");let A=0;x.width=C.parentElement?C.parentElement.offsetWidth:A,x.height=C.parentElement?C.parentElement.offsetHeight:A;let T=C.cloneNode(!0);T.hasAttribute("viewBox")||T.setAttribute("viewBox",`0 0 ${x.width} ${x.height}`),T.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let R of T.querySelectorAll("text"))R.setAttribute("fill",f);var v=new XMLSerializer().serializeToString(T);v=v.replace(/[^\x00-\x7F]/g,"");let D=new Promise((R,H)=>{x.onload=R,x.onerror=H});try{x.src=`data:image/svg+xml;base64,${btoa(v)}`,await D}catch{let H=new Promise((k,z)=>{x.onload=k,x.onerror=z});x.src=`data:image/svg+xml;utf8,${v}`,await H}s.drawImage(x,C.parentNode.offsetLeft,C.parentNode.offsetTop,x.width,x.height)}let M=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let C of M.reverse())s.drawImage(C,C.parentNode.offsetLeft,C.parentNode.offsetTop,C.width/window.devicePixelRatio,C.height/window.devicePixelRatio);return await new Promise(C=>o.toBlob(A=>C(A)),"image/png")}async draw(o,l,s){if(this.offsetParent===null){this._staged_view=[o,l,s];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(o,l,s,!0)}async update(o,l,s,f=!1){if(this.offsetParent===null)return;let h=this.parentElement,x,v,M=n.plugin.name!=="Sunburst";l&&s?x=o.to_columns_string({end_row:s,end_col:l,leaves_only:M}):l?x=o.to_columns_string({end_col:l,leaves_only:M}):s?x=o.to_columns_string({end_row:s,leaves_only:M}):x=o.to_columns_string({leaves_only:M}),v=await Promise.all([h.save(),h.getTable().then(ce=>ce.schema()),o.expression_schema(!1),o.schema(!1),x,o.get_config()]);let[C,A,T,D,R,H]=v,k=JSON.parse(R),z=Object.keys(k),I={row(ce){let ke={};for(let Le of z)ke[Le]=k[Le][ce];return ke}};this.config=C;let j=this.config.columns,Z=function(ce){let ke=A[ce];return ke||(ke=T[ce]),ke},{columns:be,group_by:pe,split_by:oe,filter:ze}=H,de=k[Object.keys(k)[0]]||[],$=pe.length>0?de.reduce((ce,ke,Le)=>{let Se=I.row(Le);if(Se.__ROW_PATH__&&Se.__ROW_PATH__.length==pe.length)ce.agg_paths.push(ce.aggs.slice()),ce.rows.push(Se);else{let He=Se.__ROW_PATH__.filter(X=>X!==void 0).length;ce.aggs[He]=Se,ce.aggs=ce.aggs.slice(0,He+1)}return ce},{rows:[],aggs:[],agg_paths:[]}):{rows:de.map((ce,ke)=>I.row(ke))},we=(ce,ke)=>pe.length?ce:{...ce,__ROW_PATH__:[ke]},te=$.rows.map(we),ae={realValues:j,crossValues:pe.map(ce=>({name:ce,type:Z(ce)})),mainValues:be.map(ce=>({name:ce,type:D[ce]})),splitValues:oe.map(ce=>({name:ce,type:Z(ce)})),filter:ze,data:te,agg_paths:$.agg_paths,...this.config.plugin_config};this._chart=n;let ge={set:(ce,ke,Le)=>(kg.includes(ke)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),ce[ke]=Le,!0)},ye=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:ye,...this._settings,...ae},ge),this._settings.splitMainValues&&this._settings.splitMainValues.length>=be.length&&(this._settings.splitMainValues=[]),Vg(this._container,this._settings),f&&(this._container.innerHTML=""),this._draw(),await new Promise(ce=>requestAnimationFrame(ce))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let o=Re(this._container),l=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(o.attr("class",l),this._settings):o.attr("class",`${l} disabled`)}}async resize(o){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[l,s,f]=this._staged_view;this._staged_view=void 0,this.draw(l,s,f)}}async restyle(o,l,s){let f=this._settings;f&&(delete f.colorStyles,delete f.textStyles,this.isConnected&&(Vg(this._container,this._settings),this.resize(o)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let o={...this._settings};return kg.forEach(l=>{delete o[l]}),o}restore(o,l){let s={};for(let f of kg)this._settings?.[f]!==void 0&&(s[f]=this._settings?.[f]);this._settings={...s,...o,columns_config:l}}}),customElements.whenDefined("perspective-viewer").then(()=>PD(a))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);q4();
//# sourceMappingURL=perspective-viewer-d3fc.js.map
